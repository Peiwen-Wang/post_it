(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();/**
* @vue/shared v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function du(t,e){const n=new Set(t.split(","));return r=>n.has(r)}const Je={},Ps=[],an=()=>{},Uw=()=>!1,Qa=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),pu=t=>t.startsWith("onUpdate:"),_t=Object.assign,gu=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Ww=Object.prototype.hasOwnProperty,Oe=(t,e)=>Ww.call(t,e),me=Array.isArray,Ms=t=>Za(t)==="[object Map]",Ug=t=>Za(t)==="[object Set]",we=t=>typeof t=="function",rt=t=>typeof t=="string",Mr=t=>typeof t=="symbol",qe=t=>t!==null&&typeof t=="object",Wg=t=>(qe(t)||we(t))&&we(t.then)&&we(t.catch),Vg=Object.prototype.toString,Za=t=>Vg.call(t),Vw=t=>Za(t).slice(8,-1),zg=t=>Za(t)==="[object Object]",vu=t=>rt(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ji=du(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ja=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},zw=/-(\w)/g,Cn=Ja(t=>t.replace(zw,(e,n)=>n?n.toUpperCase():"")),Kw=/\B([A-Z])/g,Or=Ja(t=>t.replace(Kw,"-$1").toLowerCase()),el=Ja(t=>t.charAt(0).toUpperCase()+t.slice(1)),sa=Ja(t=>t?`on${el(t)}`:""),Ir=(t,e)=>!Object.is(t,e),ia=(t,...e)=>{for(let n=0;n<t.length;n++)t[n](...e)},Kg=(t,e,n,r=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:r,value:n})},Ec=t=>{const e=parseFloat(t);return isNaN(e)?t:e},Gw=t=>{const e=rt(t)?Number(t):NaN;return isNaN(e)?t:e};let Lf;const Gg=()=>Lf||(Lf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function zt(t){if(me(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=rt(r)?Zw(r):zt(r);if(s)for(const i in s)e[i]=s[i]}return e}else if(rt(t)||qe(t))return t}const qw=/;(?![^(]*\))/g,Xw=/:([^]+)/,Qw=/\/\*[^]*?\*\//g;function Zw(t){const e={};return t.replace(Qw,"").split(qw).forEach(n=>{if(n){const r=n.split(Xw);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Ge(t){let e="";if(rt(t))e=t;else if(me(t))for(let n=0;n<t.length;n++){const r=Ge(t[n]);r&&(e+=r+" ")}else if(qe(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function Bi(t){if(!t)return null;let{class:e,style:n}=t;return e&&!rt(e)&&(t.class=Ge(e)),n&&(t.style=zt(n)),t}const Jw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",eb=du(Jw);function qg(t){return!!t||t===""}const Xg=t=>!!(t&&t.__v_isRef===!0),Tt=t=>rt(t)?t:t==null?"":me(t)||qe(t)&&(t.toString===Vg||!we(t.toString))?Xg(t)?Tt(t.value):JSON.stringify(t,Qg,2):String(t),Qg=(t,e)=>Xg(e)?Qg(t,e.value):Ms(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s],i)=>(n[Kl(r,i)+" =>"]=s,n),{})}:Ug(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>Kl(n))}:Mr(e)?Kl(e):qe(e)&&!me(e)&&!zg(e)?String(e):e,Kl=(t,e="")=>{var n;return Mr(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let _n;class tb{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=_n,!e&&_n&&(this.index=(_n.scopes||(_n.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=_n;try{return _n=this,e()}finally{_n=n}}}on(){_n=this}off(){_n=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function nb(t,e=_n){e&&e.active&&e.effects.push(t)}function rb(){return _n}let Jr;class mu{constructor(e,n,r,s){this.fn=e,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,nb(this,s)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,kr();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(sb(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),xr()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=yr,n=Jr;try{return yr=!0,Jr=this,this._runnings++,Ff(this),this.fn()}finally{Yf(this),this._runnings--,Jr=n,yr=e}}stop(){this.active&&(Ff(this),Yf(this),this.onStop&&this.onStop(),this.active=!1)}}function sb(t){return t.value}function Ff(t){t._trackId++,t._depsLength=0}function Yf(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)Zg(t.deps[e],t);t.deps.length=t._depsLength}}function Zg(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let yr=!0,Tc=0;const Jg=[];function kr(){Jg.push(yr),yr=!1}function xr(){const t=Jg.pop();yr=t===void 0?!0:t}function _u(){Tc++}function yu(){for(Tc--;!Tc&&Ic.length;)Ic.shift()()}function ev(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const r=t.deps[t._depsLength];r!==e?(r&&Zg(r,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Ic=[];function tv(t,e,n){_u();for(const r of t.keys()){let s;r._dirtyLevel<e&&(s??(s=t.get(r)===r._trackId))&&(r._shouldSchedule||(r._shouldSchedule=r._dirtyLevel===0),r._dirtyLevel=e),r._shouldSchedule&&(s??(s=t.get(r)===r._trackId))&&(r.trigger(),(!r._runnings||r.allowRecurse)&&r._dirtyLevel!==2&&(r._shouldSchedule=!1,r.scheduler&&Ic.push(r.scheduler)))}yu()}const nv=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},va=new WeakMap,es=Symbol(""),Dc=Symbol("");function Jt(t,e,n){if(yr&&Jr){let r=va.get(t);r||va.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=nv(()=>r.delete(n))),ev(Jr,s)}}function Kn(t,e,n,r,s,i){const o=va.get(t);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(n==="length"&&me(t)){const c=Number(r);o.forEach((u,f)=>{(f==="length"||!Mr(f)&&f>=c)&&l.push(u)})}else switch(n!==void 0&&l.push(o.get(n)),e){case"add":me(t)?vu(n)&&l.push(o.get("length")):(l.push(o.get(es)),Ms(t)&&l.push(o.get(Dc)));break;case"delete":me(t)||(l.push(o.get(es)),Ms(t)&&l.push(o.get(Dc)));break;case"set":Ms(t)&&l.push(o.get(es));break}_u();for(const c of l)c&&tv(c,4);yu()}function ib(t,e){const n=va.get(t);return n&&n.get(e)}const ob=du("__proto__,__v_isRef,__isVue"),rv=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Mr)),Hf=ab();function ab(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Re(this);for(let i=0,o=this.length;i<o;i++)Jt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(Re)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){kr(),_u();const r=Re(this)[e].apply(this,n);return yu(),xr(),r}}),t}function lb(t){Mr(t)||(t=String(t));const e=Re(this);return Jt(e,"has",t),e.hasOwnProperty(t)}class sv{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,r){const s=this._isReadonly,i=this._isShallow;if(n==="__v_isReactive")return!s;if(n==="__v_isReadonly")return s;if(n==="__v_isShallow")return i;if(n==="__v_raw")return r===(s?i?bb:lv:i?av:ov).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(r)?e:void 0;const o=me(e);if(!s){if(o&&Oe(Hf,n))return Reflect.get(Hf,n,r);if(n==="hasOwnProperty")return lb}const l=Reflect.get(e,n,r);return(Mr(n)?rv.has(n):ob(n))||(s||Jt(e,"get",n),i)?l:it(l)?o&&vu(n)?l:l.value:qe(l)?s?cv(l):cs(l):l}}class iv extends sv{constructor(e=!1){super(!1,e)}set(e,n,r,s){let i=e[n];if(!this._isShallow){const c=ns(i);if(!Hs(r)&&!ns(r)&&(i=Re(i),r=Re(r)),!me(e)&&it(i)&&!it(r))return c?!1:(i.value=r,!0)}const o=me(e)&&vu(n)?Number(n)<e.length:Oe(e,n),l=Reflect.set(e,n,r,s);return e===Re(s)&&(o?Ir(r,i)&&Kn(e,"set",n,r):Kn(e,"add",n,r)),l}deleteProperty(e,n){const r=Oe(e,n);e[n];const s=Reflect.deleteProperty(e,n);return s&&r&&Kn(e,"delete",n,void 0),s}has(e,n){const r=Reflect.has(e,n);return(!Mr(n)||!rv.has(n))&&Jt(e,"has",n),r}ownKeys(e){return Jt(e,"iterate",me(e)?"length":es),Reflect.ownKeys(e)}}class cb extends sv{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const ub=new iv,hb=new cb,fb=new iv(!0);const wu=t=>t,tl=t=>Reflect.getPrototypeOf(t);function Uo(t,e,n=!1,r=!1){t=t.__v_raw;const s=Re(t),i=Re(e);n||(Ir(e,i)&&Jt(s,"get",e),Jt(s,"get",i));const{has:o}=tl(s),l=r?wu:n?Eu:eo;if(o.call(s,e))return l(t.get(e));if(o.call(s,i))return l(t.get(i));t!==s&&t.get(e)}function Wo(t,e=!1){const n=this.__v_raw,r=Re(n),s=Re(t);return e||(Ir(t,s)&&Jt(r,"has",t),Jt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Vo(t,e=!1){return t=t.__v_raw,!e&&Jt(Re(t),"iterate",es),Reflect.get(t,"size",t)}function jf(t,e=!1){!e&&!Hs(t)&&!ns(t)&&(t=Re(t));const n=Re(this);return tl(n).has.call(n,t)||(n.add(t),Kn(n,"add",t,t)),this}function Bf(t,e,n=!1){!n&&!Hs(e)&&!ns(e)&&(e=Re(e));const r=Re(this),{has:s,get:i}=tl(r);let o=s.call(r,t);o||(t=Re(t),o=s.call(r,t));const l=i.call(r,t);return r.set(t,e),o?Ir(e,l)&&Kn(r,"set",t,e):Kn(r,"add",t,e),this}function Uf(t){const e=Re(this),{has:n,get:r}=tl(e);let s=n.call(e,t);s||(t=Re(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&Kn(e,"delete",t,void 0),i}function Wf(){const t=Re(this),e=t.size!==0,n=t.clear();return e&&Kn(t,"clear",void 0,void 0),n}function zo(t,e){return function(r,s){const i=this,o=i.__v_raw,l=Re(o),c=e?wu:t?Eu:eo;return!t&&Jt(l,"iterate",es),o.forEach((u,f)=>r.call(s,c(u),c(f),i))}}function Ko(t,e,n){return function(...r){const s=this.__v_raw,i=Re(s),o=Ms(i),l=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,u=s[t](...r),f=n?wu:e?Eu:eo;return!e&&Jt(i,"iterate",c?Dc:es),{next(){const{value:p,done:g}=u.next();return g?{value:p,done:g}:{value:l?[f(p[0]),f(p[1])]:f(p),done:g}},[Symbol.iterator](){return this}}}}function lr(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function db(){const t={get(i){return Uo(this,i)},get size(){return Vo(this)},has:Wo,add:jf,set:Bf,delete:Uf,clear:Wf,forEach:zo(!1,!1)},e={get(i){return Uo(this,i,!1,!0)},get size(){return Vo(this)},has:Wo,add(i){return jf.call(this,i,!0)},set(i,o){return Bf.call(this,i,o,!0)},delete:Uf,clear:Wf,forEach:zo(!1,!0)},n={get(i){return Uo(this,i,!0)},get size(){return Vo(this,!0)},has(i){return Wo.call(this,i,!0)},add:lr("add"),set:lr("set"),delete:lr("delete"),clear:lr("clear"),forEach:zo(!0,!1)},r={get(i){return Uo(this,i,!0,!0)},get size(){return Vo(this,!0)},has(i){return Wo.call(this,i,!0)},add:lr("add"),set:lr("set"),delete:lr("delete"),clear:lr("clear"),forEach:zo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ko(i,!1,!1),n[i]=Ko(i,!0,!1),e[i]=Ko(i,!1,!0),r[i]=Ko(i,!0,!0)}),[t,n,e,r]}const[pb,gb,vb,mb]=db();function bu(t,e){const n=e?t?mb:vb:t?gb:pb;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Oe(n,s)&&s in r?n:r,s,i)}const _b={get:bu(!1,!1)},yb={get:bu(!1,!0)},wb={get:bu(!0,!1)};const ov=new WeakMap,av=new WeakMap,lv=new WeakMap,bb=new WeakMap;function Cb(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Eb(t){return t.__v_skip||!Object.isExtensible(t)?0:Cb(Vw(t))}function cs(t){return ns(t)?t:Cu(t,!1,ub,_b,ov)}function Tb(t){return Cu(t,!1,fb,yb,av)}function cv(t){return Cu(t,!0,hb,wb,lv)}function Cu(t,e,n,r,s){if(!qe(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=Eb(t);if(o===0)return t;const l=new Proxy(t,o===2?r:n);return s.set(t,l),l}function Ui(t){return ns(t)?Ui(t.__v_raw):!!(t&&t.__v_isReactive)}function ns(t){return!!(t&&t.__v_isReadonly)}function Hs(t){return!!(t&&t.__v_isShallow)}function uv(t){return t?!!t.__v_raw:!1}function Re(t){const e=t&&t.__v_raw;return e?Re(e):t}function Ib(t){return Object.isExtensible(t)&&Kg(t,"__v_skip",!0),t}const eo=t=>qe(t)?cs(t):t,Eu=t=>qe(t)?cv(t):t;class hv{constructor(e,n,r,s){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new mu(()=>e(this._value),()=>oa(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=Re(this);return(!e._cacheable||e.effect.dirty)&&Ir(e._value,e._value=e.effect.run())&&oa(e,4),fv(e),e.effect._dirtyLevel>=2&&oa(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Db(t,e,n=!1){let r,s;const i=we(t);return i?(r=t,s=an):(r=t.get,s=t.set),new hv(r,s,i||!s,n)}function fv(t){var e;yr&&Jr&&(t=Re(t),ev(Jr,(e=t.dep)!=null?e:t.dep=nv(()=>t.dep=void 0,t instanceof hv?t:void 0)))}function oa(t,e=4,n,r){t=Re(t);const s=t.dep;s&&tv(s,e)}function it(t){return!!(t&&t.__v_isRef===!0)}function ke(t){return Sb(t,!1)}function Sb(t,e){return it(t)?t:new Ab(t,e)}class Ab{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Re(e),this._value=n?e:eo(e)}get value(){return fv(this),this._value}set value(e){const n=this.__v_isShallow||Hs(e)||ns(e);e=n?e:Re(e),Ir(e,this._rawValue)&&(this._rawValue,this._rawValue=e,this._value=n?e:eo(e),oa(this,4))}}function W(t){return it(t)?t.value:t}const Pb={get:(t,e,n)=>W(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return it(s)&&!it(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function dv(t){return Ui(t)?t:new Proxy(t,Pb)}function Mb(t){const e=me(t)?new Array(t.length):{};for(const n in t)e[n]=pv(t,n);return e}class Ob{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ib(Re(this._object),this._key)}}class kb{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function aa(t,e,n){return it(t)?t:we(t)?new kb(t):qe(t)&&arguments.length>1?pv(t,e,n):ke(t)}function pv(t,e,n){const r=t[e];return it(r)?r:new Ob(t,e,n)}/**
* @vue/runtime-core v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function wr(t,e,n,r){try{return r?t(...r):t()}catch(s){nl(s,e,n)}}function un(t,e,n,r){if(we(t)){const s=wr(t,e,n,r);return s&&Wg(s)&&s.catch(i=>{nl(i,e,n)}),s}if(me(t)){const s=[];for(let i=0;i<t.length;i++)s.push(un(t[i],e,n,r));return s}}function nl(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${n}`;for(;i;){const u=i.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,o,l)===!1)return}i=i.parent}const c=e.appContext.config.errorHandler;if(c){kr(),wr(c,null,10,[t,o,l]),xr();return}}xb(t,n,s,r)}function xb(t,e,n,r=!0){console.error(t)}let to=!1,Sc=!1;const Lt=[];let kn=0;const Os=[];let fr=null,qr=0;const gv=Promise.resolve();let Tu=null;function Ds(t){const e=Tu||gv;return t?e.then(this?t.bind(this):t):e}function Rb(t){let e=kn+1,n=Lt.length;for(;e<n;){const r=e+n>>>1,s=Lt[r],i=no(s);i<t||i===t&&s.pre?e=r+1:n=r}return e}function Iu(t){(!Lt.length||!Lt.includes(t,to&&t.allowRecurse?kn+1:kn))&&(t.id==null?Lt.push(t):Lt.splice(Rb(t.id),0,t),vv())}function vv(){!to&&!Sc&&(Sc=!0,Tu=gv.then(_v))}function Nb(t){const e=Lt.indexOf(t);e>kn&&Lt.splice(e,1)}function $b(t){me(t)?Os.push(...t):(!fr||!fr.includes(t,t.allowRecurse?qr+1:qr))&&Os.push(t),vv()}function Vf(t,e,n=to?kn+1:0){for(;n<Lt.length;n++){const r=Lt[n];if(r&&r.pre){if(t&&r.id!==t.uid)continue;Lt.splice(n,1),n--,r()}}}function mv(t){if(Os.length){const e=[...new Set(Os)].sort((n,r)=>no(n)-no(r));if(Os.length=0,fr){fr.push(...e);return}for(fr=e,qr=0;qr<fr.length;qr++){const n=fr[qr];n.active!==!1&&n()}fr=null,qr=0}}const no=t=>t.id==null?1/0:t.id,Lb=(t,e)=>{const n=no(t)-no(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function _v(t){Sc=!1,to=!0,Lt.sort(Lb);try{for(kn=0;kn<Lt.length;kn++){const e=Lt[kn];e&&e.active!==!1&&wr(e,e.i,e.i?15:14)}}finally{kn=0,Lt.length=0,mv(),to=!1,Tu=null,(Lt.length||Os.length)&&_v()}}let It=null,rl=null;function ma(t){const e=It;return It=t,rl=t&&t.type.__scopeId||null,e}function Fb(t){rl=t}function Yb(){rl=null}function at(t,e=It,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&td(-1);const i=ma(e);let o;try{o=t(...s)}finally{ma(i),r._d&&td(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Du(t,e){if(It===null)return t;const n=cl(It),r=t.dirs||(t.dirs=[]);for(let s=0;s<e.length;s++){let[i,o,l,c=Je]=e[s];i&&(we(i)&&(i={mounted:i,updated:i}),i.deep&&gr(o),r.push({dir:i,instance:n,value:o,oldValue:void 0,arg:l,modifiers:c}))}return t}function jr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const l=s[o];i&&(l.oldValue=i[o].value);let c=l.dir[r];c&&(kr(),un(c,n,8,[t.el,l,t,e]),xr())}}const dr=Symbol("_leaveCb"),Go=Symbol("_enterCb");function yv(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return us(()=>{t.isMounted=!0}),Iv(()=>{t.isUnmounting=!0}),t}const on=[Function,Array],wv={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:on,onEnter:on,onAfterEnter:on,onEnterCancelled:on,onBeforeLeave:on,onLeave:on,onAfterLeave:on,onLeaveCancelled:on,onBeforeAppear:on,onAppear:on,onAfterAppear:on,onAppearCancelled:on},bv=t=>{const e=t.subTree;return e.component?bv(e.component):e},Hb={name:"BaseTransition",props:wv,setup(t,{slots:e}){const n=Kv(),r=yv();return()=>{const s=e.default&&Su(e.default(),!0);if(!s||!s.length)return;let i=s[0];if(s.length>1){for(const g of s)if(g.type!==Kt){i=g;break}}const o=Re(t),{mode:l}=o;if(r.isLeaving)return Gl(i);const c=zf(i);if(!c)return Gl(i);let u=ro(c,o,r,n,g=>u=g);js(c,u);const f=n.subTree,p=f&&zf(f);if(p&&p.type!==Kt&&!Xr(c,p)&&bv(n).type!==Kt){const g=ro(p,o,r,n);if(js(p,g),l==="out-in"&&c.type!==Kt)return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},Gl(i);l==="in-out"&&c.type!==Kt&&(g.delayLeave=(b,S,P)=>{const O=Cv(r,p);O[String(p.key)]=p,b[dr]=()=>{S(),b[dr]=void 0,delete u.delayedLeave},u.delayedLeave=P})}return i}}},jb=Hb;function Cv(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function ro(t,e,n,r,s){const{appear:i,mode:o,persisted:l=!1,onBeforeEnter:c,onEnter:u,onAfterEnter:f,onEnterCancelled:p,onBeforeLeave:g,onLeave:b,onAfterLeave:S,onLeaveCancelled:P,onBeforeAppear:O,onAppear:k,onAfterAppear:z,onAppearCancelled:U}=e,$=String(t.key),K=Cv(n,t),j=(w,T)=>{w&&un(w,r,9,T)},E=(w,T)=>{const C=T[1];j(w,T),me(w)?w.every(_=>_.length<=1)&&C():w.length<=1&&C()},y={mode:o,persisted:l,beforeEnter(w){let T=c;if(!n.isMounted)if(i)T=O||c;else return;w[dr]&&w[dr](!0);const C=K[$];C&&Xr(t,C)&&C.el[dr]&&C.el[dr](),j(T,[w])},enter(w){let T=u,C=f,_=p;if(!n.isMounted)if(i)T=k||u,C=z||f,_=U||p;else return;let v=!1;const J=w[Go]=ee=>{v||(v=!0,ee?j(_,[w]):j(C,[w]),y.delayedLeave&&y.delayedLeave(),w[Go]=void 0)};T?E(T,[w,J]):J()},leave(w,T){const C=String(t.key);if(w[Go]&&w[Go](!0),n.isUnmounting)return T();j(g,[w]);let _=!1;const v=w[dr]=J=>{_||(_=!0,T(),J?j(P,[w]):j(S,[w]),w[dr]=void 0,K[C]===t&&delete K[C])};K[C]=t,b?E(b,[w,v]):v()},clone(w){const T=ro(w,e,n,r,s);return s&&s(T),T}};return y}function Gl(t){if(sl(t))return t=Dr(t),t.children=null,t}function zf(t){if(!sl(t))return t;const{shapeFlag:e,children:n}=t;if(n){if(e&16)return n[0];if(e&32&&we(n.default))return n.default()}}function js(t,e){t.shapeFlag&6&&t.component?js(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Su(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const l=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===xe?(o.patchFlag&128&&s++,r=r.concat(Su(o.children,e,l))):(e||o.type!==Kt)&&r.push(l!=null?Dr(o,{key:l}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function dt(t,e){return we(t)?_t({name:t.name},e,{setup:t}):t}const Wi=t=>!!t.type.__asyncLoader,sl=t=>t.type.__isKeepAlive;function Bb(t,e){Ev(t,"a",e)}function Ub(t,e){Ev(t,"da",e)}function Ev(t,e,n=Ot){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(il(e,r,n),n){let s=n.parent;for(;s&&s.parent;)sl(s.parent.vnode)&&Wb(r,e,n,s),s=s.parent}}function Wb(t,e,n,r){const s=il(e,t,r,!0);ii(()=>{gu(r[e],s)},n)}function il(t,e,n=Ot,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{kr();const l=bo(n),c=un(e,n,t,o);return l(),xr(),c});return r?s.unshift(i):s.push(i),i}}const tr=t=>(e,n=Ot)=>{(!ll||t==="sp")&&il(t,(...r)=>e(...r),n)},Vb=tr("bm"),us=tr("m"),zb=tr("bu"),Tv=tr("u"),Iv=tr("bum"),ii=tr("um"),Kb=tr("sp"),Gb=tr("rtg"),qb=tr("rtc");function Xb(t,e=Ot){il("ec",t,e)}const Au="components",Qb="directives";function Mn(t,e){return Pu(Au,t,!0,e)||t}const Dv=Symbol.for("v-ndc");function Sv(t){return rt(t)?Pu(Au,t,!1)||t:t||Dv}function Zb(t){return Pu(Qb,t)}function Pu(t,e,n=!0,r=!1){const s=It||Ot;if(s){const i=s.type;if(t===Au){const l=H0(i,!1);if(l&&(l===e||l===Cn(e)||l===el(Cn(e))))return i}const o=Kf(s[t]||i[t],e)||Kf(s.appContext[t],e);return!o&&r?i:o}}function Kf(t,e){return t&&(t[e]||t[Cn(e)]||t[el(Cn(e))])}function Xt(t,e,n,r){let s;const i=n;if(me(t)||rt(t)){s=new Array(t.length);for(let o=0,l=t.length;o<l;o++)s[o]=e(t[o],o,void 0,i)}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i)}else if(qe(t))if(t[Symbol.iterator])s=Array.from(t,(o,l)=>e(o,l,void 0,i));else{const o=Object.keys(t);s=new Array(o.length);for(let l=0,c=o.length;l<c;l++){const u=o[l];s[l]=e(t[u],u,l,i)}}else s=[];return s}function wo(t,e,n={},r,s){if(It.isCE||It.parent&&Wi(It.parent)&&It.parent.isCE)return ve("slot",n,r&&r());let i=t[e];i&&i._c&&(i._d=!1),re();const o=i&&Av(i(n)),l=Dt(xe,{key:(n.key||o&&o.key||`_${e}`)+(!o&&r?"_fb":"")},o||(r?r():[]),o&&t._===1?64:-2);return l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),i&&i._c&&(i._d=!0),l}function Av(t){return t.some(e=>ya(e)?!(e.type===Kt||e.type===xe&&!Av(e.children)):!0)?t:null}function Jb(t,e){const n={};for(const r in t)n[/[A-Z]/.test(r)?`on:${r}`:sa(r)]=t[r];return n}const Ac=t=>t?Gv(t)?cl(t):Ac(t.parent):null,Vi=_t(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Ac(t.parent),$root:t=>Ac(t.root),$emit:t=>t.emit,$options:t=>Mu(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Iu(t.update)}),$nextTick:t=>t.n||(t.n=Ds.bind(t.proxy)),$watch:t=>C0.bind(t)}),ql=(t,e)=>t!==Je&&!t.__isScriptSetup&&Oe(t,e),e0={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:l,appContext:c}=t;let u;if(e[0]!=="$"){const b=o[e];if(b!==void 0)switch(b){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(ql(r,e))return o[e]=1,r[e];if(s!==Je&&Oe(s,e))return o[e]=2,s[e];if((u=t.propsOptions[0])&&Oe(u,e))return o[e]=3,i[e];if(n!==Je&&Oe(n,e))return o[e]=4,n[e];Pc&&(o[e]=0)}}const f=Vi[e];let p,g;if(f)return e==="$attrs"&&Jt(t.attrs,"get",""),f(t);if((p=l.__cssModules)&&(p=p[e]))return p;if(n!==Je&&Oe(n,e))return o[e]=4,n[e];if(g=c.config.globalProperties,Oe(g,e))return g[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return ql(s,e)?(s[e]=n,!0):r!==Je&&Oe(r,e)?(r[e]=n,!0):Oe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let l;return!!n[o]||t!==Je&&Oe(t,o)||ql(e,o)||(l=i[0])&&Oe(l,o)||Oe(r,o)||Oe(Vi,o)||Oe(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Oe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Gf(t){return me(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Pc=!0;function t0(t){const e=Mu(t),n=t.proxy,r=t.ctx;Pc=!1,e.beforeCreate&&qf(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:l,provide:c,inject:u,created:f,beforeMount:p,mounted:g,beforeUpdate:b,updated:S,activated:P,deactivated:O,beforeDestroy:k,beforeUnmount:z,destroyed:U,unmounted:$,render:K,renderTracked:j,renderTriggered:E,errorCaptured:y,serverPrefetch:w,expose:T,inheritAttrs:C,components:_,directives:v,filters:J}=e;if(u&&n0(u,r,null),o)for(const fe in o){const pe=o[fe];we(pe)&&(r[fe]=pe.bind(n))}if(s){const fe=s.call(n,n);qe(fe)&&(t.data=cs(fe))}if(Pc=!0,i)for(const fe in i){const pe=i[fe],Ae=we(pe)?pe.bind(n,n):we(pe.get)?pe.get.bind(n,n):an,G=!we(pe)&&we(pe.set)?pe.set.bind(n):an,be=N({get:Ae,set:G});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>be.value,set:ie=>be.value=ie})}if(l)for(const fe in l)Pv(l[fe],r,n,fe);if(c){const fe=we(c)?c.call(n):c;Reflect.ownKeys(fe).forEach(pe=>{oi(pe,fe[pe])})}f&&qf(f,t,"c");function oe(fe,pe){me(pe)?pe.forEach(Ae=>fe(Ae.bind(n))):pe&&fe(pe.bind(n))}if(oe(Vb,p),oe(us,g),oe(zb,b),oe(Tv,S),oe(Bb,P),oe(Ub,O),oe(Xb,y),oe(qb,j),oe(Gb,E),oe(Iv,z),oe(ii,$),oe(Kb,w),me(T))if(T.length){const fe=t.exposed||(t.exposed={});T.forEach(pe=>{Object.defineProperty(fe,pe,{get:()=>n[pe],set:Ae=>n[pe]=Ae})})}else t.exposed||(t.exposed={});K&&t.render===an&&(t.render=K),C!=null&&(t.inheritAttrs=C),_&&(t.components=_),v&&(t.directives=v)}function n0(t,e,n=an){me(t)&&(t=Mc(t));for(const r in t){const s=t[r];let i;qe(s)?"default"in s?i=Gn(s.from||r,s.default,!0):i=Gn(s.from||r):i=Gn(s),it(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function qf(t,e,n){un(me(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function Pv(t,e,n,r){const s=r.includes(".")?Uv(n,r):()=>n[r];if(rt(t)){const i=e[t];we(i)&&mt(s,i)}else if(we(t))mt(s,t.bind(n));else if(qe(t))if(me(t))t.forEach(i=>Pv(i,e,n,r));else{const i=we(t.handler)?t.handler.bind(n):e[t.handler];we(i)&&mt(s,i,t)}}function Mu(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,l=i.get(e);let c;return l?c=l:!s.length&&!n&&!r?c=e:(c={},s.length&&s.forEach(u=>_a(c,u,o,!0)),_a(c,e,o)),qe(e)&&i.set(e,c),c}function _a(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&_a(t,i,n,!0),s&&s.forEach(o=>_a(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const l=r0[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const r0={data:Xf,props:Qf,emits:Qf,methods:Fi,computed:Fi,beforeCreate:jt,created:jt,beforeMount:jt,mounted:jt,beforeUpdate:jt,updated:jt,beforeDestroy:jt,beforeUnmount:jt,destroyed:jt,unmounted:jt,activated:jt,deactivated:jt,errorCaptured:jt,serverPrefetch:jt,components:Fi,directives:Fi,watch:i0,provide:Xf,inject:s0};function Xf(t,e){return e?t?function(){return _t(we(t)?t.call(this,this):t,we(e)?e.call(this,this):e)}:e:t}function s0(t,e){return Fi(Mc(t),Mc(e))}function Mc(t){if(me(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function jt(t,e){return t?[...new Set([].concat(t,e))]:e}function Fi(t,e){return t?_t(Object.create(null),t,e):e}function Qf(t,e){return t?me(t)&&me(e)?[...new Set([...t,...e])]:_t(Object.create(null),Gf(t),Gf(e??{})):e}function i0(t,e){if(!t)return e;if(!e)return t;const n=_t(Object.create(null),t);for(const r in e)n[r]=jt(t[r],e[r]);return n}function Mv(){return{app:null,config:{isNativeTag:Uw,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let o0=0;function a0(t,e){return function(r,s=null){we(r)||(r=_t({},r)),s!=null&&!qe(s)&&(s=null);const i=Mv(),o=new WeakSet;let l=!1;const c=i.app={_uid:o0++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:U0,get config(){return i.config},set config(u){},use(u,...f){return o.has(u)||(u&&we(u.install)?(o.add(u),u.install(c,...f)):we(u)&&(o.add(u),u(c,...f))),c},mixin(u){return i.mixins.includes(u)||i.mixins.push(u),c},component(u,f){return f?(i.components[u]=f,c):i.components[u]},directive(u,f){return f?(i.directives[u]=f,c):i.directives[u]},mount(u,f,p){if(!l){const g=ve(r,s);return g.appContext=i,p===!0?p="svg":p===!1&&(p=void 0),f&&e?e(g,u):t(g,u,p),l=!0,c._container=u,u.__vue_app__=c,cl(g.component)}},unmount(){l&&(t(null,c._container),delete c._container.__vue_app__)},provide(u,f){return i.provides[u]=f,c},runWithContext(u){const f=ks;ks=c;try{return u()}finally{ks=f}}};return c}}let ks=null;function oi(t,e){if(Ot){let n=Ot.provides;const r=Ot.parent&&Ot.parent.provides;r===n&&(n=Ot.provides=Object.create(r)),n[t]=e}}function Gn(t,e,n=!1){const r=Ot||It;if(r||ks){const s=ks?ks._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(s&&t in s)return s[t];if(arguments.length>1)return n&&we(e)?e.call(r&&r.proxy):e}}const Ov={},kv=()=>Object.create(Ov),xv=t=>Object.getPrototypeOf(t)===Ov;function l0(t,e,n,r=!1){const s={},i=kv();t.propsDefaults=Object.create(null),Rv(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:Tb(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function c0(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,l=Re(s),[c]=t.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const f=t.vnode.dynamicProps;for(let p=0;p<f.length;p++){let g=f[p];if(ol(t.emitsOptions,g))continue;const b=e[g];if(c)if(Oe(i,g))b!==i[g]&&(i[g]=b,u=!0);else{const S=Cn(g);s[S]=Oc(c,l,S,b,t,!1)}else b!==i[g]&&(i[g]=b,u=!0)}}}else{Rv(t,e,s,i)&&(u=!0);let f;for(const p in l)(!e||!Oe(e,p)&&((f=Or(p))===p||!Oe(e,f)))&&(c?n&&(n[p]!==void 0||n[f]!==void 0)&&(s[p]=Oc(c,l,p,void 0,t,!0)):delete s[p]);if(i!==l)for(const p in i)(!e||!Oe(e,p))&&(delete i[p],u=!0)}u&&Kn(t.attrs,"set","")}function Rv(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,l;if(e)for(let c in e){if(ji(c))continue;const u=e[c];let f;s&&Oe(s,f=Cn(c))?!i||!i.includes(f)?n[f]=u:(l||(l={}))[f]=u:ol(t.emitsOptions,c)||(!(c in r)||u!==r[c])&&(r[c]=u,o=!0)}if(i){const c=Re(n),u=l||Je;for(let f=0;f<i.length;f++){const p=i[f];n[p]=Oc(s,c,p,u[p],t,!Oe(u,p))}}return o}function Oc(t,e,n,r,s,i){const o=t[n];if(o!=null){const l=Oe(o,"default");if(l&&r===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&we(c)){const{propsDefaults:u}=s;if(n in u)r=u[n];else{const f=bo(s);r=u[n]=c.call(null,e),f()}}else r=c}o[0]&&(i&&!l?r=!1:o[1]&&(r===""||r===Or(n))&&(r=!0))}return r}const u0=new WeakMap;function Nv(t,e,n=!1){const r=n?u0:e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},l=[];let c=!1;if(!we(t)){const f=p=>{c=!0;const[g,b]=Nv(p,e,!0);_t(o,g),b&&l.push(...b)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!i&&!c)return qe(t)&&r.set(t,Ps),Ps;if(me(i))for(let f=0;f<i.length;f++){const p=Cn(i[f]);Zf(p)&&(o[p]=Je)}else if(i)for(const f in i){const p=Cn(f);if(Zf(p)){const g=i[f],b=o[p]=me(g)||we(g)?{type:g}:_t({},g),S=b.type;let P=!1,O=!0;if(me(S))for(let k=0;k<S.length;++k){const z=S[k],U=we(z)&&z.name;if(U==="Boolean"){P=!0;break}else U==="String"&&(O=!1)}else P=we(S)&&S.name==="Boolean";b[0]=P,b[1]=O,(P||Oe(b,"default"))&&l.push(p)}}const u=[o,l];return qe(t)&&r.set(t,u),u}function Zf(t){return t[0]!=="$"&&!ji(t)}const $v=t=>t[0]==="_"||t==="$stable",Ou=t=>me(t)?t.map(On):[On(t)],h0=(t,e,n)=>{if(e._n)return e;const r=at((...s)=>Ou(e(...s)),n);return r._c=!1,r},Lv=(t,e,n)=>{const r=t._ctx;for(const s in t){if($v(s))continue;const i=t[s];if(we(i))e[s]=h0(s,i,r);else if(i!=null){const o=Ou(i);e[s]=()=>o}}},Fv=(t,e)=>{const n=Ou(e);t.slots.default=()=>n},Yv=(t,e,n)=>{for(const r in e)(n||r!=="_")&&(t[r]=e[r])},f0=(t,e,n)=>{const r=t.slots=kv();if(t.vnode.shapeFlag&32){const s=e._;s?(Yv(r,e,n),n&&Kg(r,"_",s,!0)):Lv(e,r)}else e&&Fv(t,e)},d0=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=Je;if(r.shapeFlag&32){const l=e._;l?n&&l===1?i=!1:Yv(s,e,n):(i=!e.$stable,Lv(e,s)),o=e}else e&&(Fv(t,e),o={default:1});if(i)for(const l in s)!$v(l)&&o[l]==null&&delete s[l]};function kc(t,e,n,r,s=!1){if(me(t)){t.forEach((g,b)=>kc(g,e&&(me(e)?e[b]:e),n,r,s));return}if(Wi(r)&&!s)return;const i=r.shapeFlag&4?cl(r.component):r.el,o=s?null:i,{i:l,r:c}=t,u=e&&e.r,f=l.refs===Je?l.refs={}:l.refs,p=l.setupState;if(u!=null&&u!==c&&(rt(u)?(f[u]=null,Oe(p,u)&&(p[u]=null)):it(u)&&(u.value=null)),we(c))wr(c,l,12,[o,f]);else{const g=rt(c),b=it(c);if(g||b){const S=()=>{if(t.f){const P=g?Oe(p,c)?p[c]:f[c]:c.value;s?me(P)&&gu(P,i):me(P)?P.includes(i)||P.push(i):g?(f[c]=[i],Oe(p,c)&&(p[c]=f[c])):(c.value=[i],t.k&&(f[t.k]=c.value))}else g?(f[c]=o,Oe(p,c)&&(p[c]=o)):b&&(c.value=o,t.k&&(f[t.k]=o))};o?(S.id=-1,Vt(S,n)):S()}}}const p0=Symbol("_vte"),g0=t=>t.__isTeleport,Vt=M0;function v0(t){return m0(t)}function m0(t,e){const n=Gg();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:l,createComment:c,setText:u,setElementText:f,parentNode:p,nextSibling:g,setScopeId:b=an,insertStaticContent:S}=t,P=(I,A,x,H=null,F=null,V=null,Z=void 0,q=null,X=!!A.dynamicChildren)=>{if(I===A)return;I&&!Xr(I,A)&&(H=Le(I),ie(I,F,V,!0),I=null),A.patchFlag===-2&&(X=!1,A.dynamicChildren=null);const{type:B,ref:ne,shapeFlag:ce}=A;switch(B){case al:O(I,A,x,H);break;case Kt:k(I,A,x,H);break;case Zl:I==null&&z(A,x,H,Z);break;case xe:_(I,A,x,H,F,V,Z,q,X);break;default:ce&1?K(I,A,x,H,F,V,Z,q,X):ce&6?v(I,A,x,H,F,V,Z,q,X):(ce&64||ce&128)&&B.process(I,A,x,H,F,V,Z,q,X,lt)}ne!=null&&F&&kc(ne,I&&I.ref,V,A||I,!A)},O=(I,A,x,H)=>{if(I==null)r(A.el=l(A.children),x,H);else{const F=A.el=I.el;A.children!==I.children&&u(F,A.children)}},k=(I,A,x,H)=>{I==null?r(A.el=c(A.children||""),x,H):A.el=I.el},z=(I,A,x,H)=>{[I.el,I.anchor]=S(I.children,A,x,H,I.el,I.anchor)},U=({el:I,anchor:A},x,H)=>{let F;for(;I&&I!==A;)F=g(I),r(I,x,H),I=F;r(A,x,H)},$=({el:I,anchor:A})=>{let x;for(;I&&I!==A;)x=g(I),s(I),I=x;s(A)},K=(I,A,x,H,F,V,Z,q,X)=>{A.type==="svg"?Z="svg":A.type==="math"&&(Z="mathml"),I==null?j(A,x,H,F,V,Z,q,X):w(I,A,F,V,Z,q,X)},j=(I,A,x,H,F,V,Z,q)=>{let X,B;const{props:ne,shapeFlag:ce,transition:le,dirs:ae}=I;if(X=I.el=o(I.type,V,ne&&ne.is,ne),ce&8?f(X,I.children):ce&16&&y(I.children,X,null,H,F,Xl(I,V),Z,q),ae&&jr(I,null,H,"created"),E(X,I,I.scopeId,Z,H),ne){for(const Ie in ne)Ie!=="value"&&!ji(Ie)&&i(X,Ie,null,ne[Ie],V,H);"value"in ne&&i(X,"value",null,ne.value,V),(B=ne.onVnodeBeforeMount)&&Pn(B,H,I)}ae&&jr(I,null,H,"beforeMount");const ue=_0(F,le);ue&&le.beforeEnter(X),r(X,A,x),((B=ne&&ne.onVnodeMounted)||ue||ae)&&Vt(()=>{B&&Pn(B,H,I),ue&&le.enter(X),ae&&jr(I,null,H,"mounted")},F)},E=(I,A,x,H,F)=>{if(x&&b(I,x),H)for(let V=0;V<H.length;V++)b(I,H[V]);if(F){let V=F.subTree;if(A===V){const Z=F.vnode;E(I,Z,Z.scopeId,Z.slotScopeIds,F.parent)}}},y=(I,A,x,H,F,V,Z,q,X=0)=>{for(let B=X;B<I.length;B++){const ne=I[B]=q?pr(I[B]):On(I[B]);P(null,ne,A,x,H,F,V,Z,q)}},w=(I,A,x,H,F,V,Z)=>{const q=A.el=I.el;let{patchFlag:X,dynamicChildren:B,dirs:ne}=A;X|=I.patchFlag&16;const ce=I.props||Je,le=A.props||Je;let ae;if(x&&Br(x,!1),(ae=le.onVnodeBeforeUpdate)&&Pn(ae,x,A,I),ne&&jr(A,I,x,"beforeUpdate"),x&&Br(x,!0),(ce.innerHTML&&le.innerHTML==null||ce.textContent&&le.textContent==null)&&f(q,""),B?T(I.dynamicChildren,B,q,x,H,Xl(A,F),V):Z||pe(I,A,q,null,x,H,Xl(A,F),V,!1),X>0){if(X&16)C(q,ce,le,x,F);else if(X&2&&ce.class!==le.class&&i(q,"class",null,le.class,F),X&4&&i(q,"style",ce.style,le.style,F),X&8){const ue=A.dynamicProps;for(let Ie=0;Ie<ue.length;Ie++){const De=ue[Ie],Be=ce[De],St=le[De];(St!==Be||De==="value")&&i(q,De,Be,St,F,x)}}X&1&&I.children!==A.children&&f(q,A.children)}else!Z&&B==null&&C(q,ce,le,x,F);((ae=le.onVnodeUpdated)||ne)&&Vt(()=>{ae&&Pn(ae,x,A,I),ne&&jr(A,I,x,"updated")},H)},T=(I,A,x,H,F,V,Z)=>{for(let q=0;q<A.length;q++){const X=I[q],B=A[q],ne=X.el&&(X.type===xe||!Xr(X,B)||X.shapeFlag&70)?p(X.el):x;P(X,B,ne,null,H,F,V,Z,!0)}},C=(I,A,x,H,F)=>{if(A!==x){if(A!==Je)for(const V in A)!ji(V)&&!(V in x)&&i(I,V,A[V],null,F,H);for(const V in x){if(ji(V))continue;const Z=x[V],q=A[V];Z!==q&&V!=="value"&&i(I,V,q,Z,F,H)}"value"in x&&i(I,"value",A.value,x.value,F)}},_=(I,A,x,H,F,V,Z,q,X)=>{const B=A.el=I?I.el:l(""),ne=A.anchor=I?I.anchor:l("");let{patchFlag:ce,dynamicChildren:le,slotScopeIds:ae}=A;ae&&(q=q?q.concat(ae):ae),I==null?(r(B,x,H),r(ne,x,H),y(A.children||[],x,ne,F,V,Z,q,X)):ce>0&&ce&64&&le&&I.dynamicChildren?(T(I.dynamicChildren,le,x,F,V,Z,q),(A.key!=null||F&&A===F.subTree)&&Hv(I,A,!0)):pe(I,A,x,ne,F,V,Z,q,X)},v=(I,A,x,H,F,V,Z,q,X)=>{A.slotScopeIds=q,I==null?A.shapeFlag&512?F.ctx.activate(A,x,H,Z,X):J(A,x,H,F,V,Z,X):ee(I,A,X)},J=(I,A,x,H,F,V,Z)=>{const q=I.component=N0(I,H,F);if(sl(I)&&(q.ctx.renderer=lt),$0(q,!1,Z),q.asyncDep){if(F&&F.registerDep(q,oe,Z),!I.el){const X=q.subTree=ve(Kt);k(null,X,A,x)}}else oe(q,I,A,x,F,V,Z)},ee=(I,A,x)=>{const H=A.component=I.component;if(S0(I,A,x))if(H.asyncDep&&!H.asyncResolved){fe(H,A,x);return}else H.next=A,Nb(H.update),H.effect.dirty=!0,H.update();else A.el=I.el,H.vnode=A},oe=(I,A,x,H,F,V,Z)=>{const q=()=>{if(I.isMounted){let{next:ne,bu:ce,u:le,parent:ae,vnode:ue}=I;{const At=jv(I);if(At){ne&&(ne.el=ue.el,fe(I,ne,Z)),At.asyncDep.then(()=>{I.isUnmounted||q()});return}}let Ie=ne,De;Br(I,!1),ne?(ne.el=ue.el,fe(I,ne,Z)):ne=ue,ce&&ia(ce),(De=ne.props&&ne.props.onVnodeBeforeUpdate)&&Pn(De,ae,ne,ue),Br(I,!0);const Be=Ql(I),St=I.subTree;I.subTree=Be,P(St,Be,p(St.el),Le(St),I,F,V),ne.el=Be.el,Ie===null&&A0(I,Be.el),le&&Vt(le,F),(De=ne.props&&ne.props.onVnodeUpdated)&&Vt(()=>Pn(De,ae,ne,ue),F)}else{let ne;const{el:ce,props:le}=A,{bm:ae,m:ue,parent:Ie}=I,De=Wi(A);if(Br(I,!1),ae&&ia(ae),!De&&(ne=le&&le.onVnodeBeforeMount)&&Pn(ne,Ie,A),Br(I,!0),ce&&gt){const Be=()=>{I.subTree=Ql(I),gt(ce,I.subTree,I,F,null)};De?A.type.__asyncLoader().then(()=>!I.isUnmounted&&Be()):Be()}else{const Be=I.subTree=Ql(I);P(null,Be,x,H,I,F,V),A.el=Be.el}if(ue&&Vt(ue,F),!De&&(ne=le&&le.onVnodeMounted)){const Be=A;Vt(()=>Pn(ne,Ie,Be),F)}(A.shapeFlag&256||Ie&&Wi(Ie.vnode)&&Ie.vnode.shapeFlag&256)&&I.a&&Vt(I.a,F),I.isMounted=!0,A=x=H=null}},X=I.effect=new mu(q,an,()=>Iu(B),I.scope),B=I.update=()=>{X.dirty&&X.run()};B.i=I,B.id=I.uid,Br(I,!0),B()},fe=(I,A,x)=>{A.component=I;const H=I.vnode.props;I.vnode=A,I.next=null,c0(I,A.props,H,x),d0(I,A.children,x),kr(),Vf(I),xr()},pe=(I,A,x,H,F,V,Z,q,X=!1)=>{const B=I&&I.children,ne=I?I.shapeFlag:0,ce=A.children,{patchFlag:le,shapeFlag:ae}=A;if(le>0){if(le&128){G(B,ce,x,H,F,V,Z,q,X);return}else if(le&256){Ae(B,ce,x,H,F,V,Z,q,X);return}}ae&8?(ne&16&&Xe(B,F,V),ce!==B&&f(x,ce)):ne&16?ae&16?G(B,ce,x,H,F,V,Z,q,X):Xe(B,F,V,!0):(ne&8&&f(x,""),ae&16&&y(ce,x,H,F,V,Z,q,X))},Ae=(I,A,x,H,F,V,Z,q,X)=>{I=I||Ps,A=A||Ps;const B=I.length,ne=A.length,ce=Math.min(B,ne);let le;for(le=0;le<ce;le++){const ae=A[le]=X?pr(A[le]):On(A[le]);P(I[le],ae,x,null,F,V,Z,q,X)}B>ne?Xe(I,F,V,!0,!1,ce):y(A,x,H,F,V,Z,q,X,ce)},G=(I,A,x,H,F,V,Z,q,X)=>{let B=0;const ne=A.length;let ce=I.length-1,le=ne-1;for(;B<=ce&&B<=le;){const ae=I[B],ue=A[B]=X?pr(A[B]):On(A[B]);if(Xr(ae,ue))P(ae,ue,x,null,F,V,Z,q,X);else break;B++}for(;B<=ce&&B<=le;){const ae=I[ce],ue=A[le]=X?pr(A[le]):On(A[le]);if(Xr(ae,ue))P(ae,ue,x,null,F,V,Z,q,X);else break;ce--,le--}if(B>ce){if(B<=le){const ae=le+1,ue=ae<ne?A[ae].el:H;for(;B<=le;)P(null,A[B]=X?pr(A[B]):On(A[B]),x,ue,F,V,Z,q,X),B++}}else if(B>le)for(;B<=ce;)ie(I[B],F,V,!0),B++;else{const ae=B,ue=B,Ie=new Map;for(B=ue;B<=le;B++){const ct=A[B]=X?pr(A[B]):On(A[B]);ct.key!=null&&Ie.set(ct.key,B)}let De,Be=0;const St=le-ue+1;let At=!1,Sn=0;const rn=new Array(St);for(B=0;B<St;B++)rn[B]=0;for(B=ae;B<=ce;B++){const ct=I[B];if(Be>=St){ie(ct,F,V,!0);continue}let Y;if(ct.key!=null)Y=Ie.get(ct.key);else for(De=ue;De<=le;De++)if(rn[De-ue]===0&&Xr(ct,A[De])){Y=De;break}Y===void 0?ie(ct,F,V,!0):(rn[Y-ue]=B+1,Y>=Sn?Sn=Y:At=!0,P(ct,A[Y],x,null,F,V,Z,q,X),Be++)}const gn=At?y0(rn):Ps;for(De=gn.length-1,B=St-1;B>=0;B--){const ct=ue+B,Y=A[ct],D=ct+1<ne?A[ct+1].el:H;rn[B]===0?P(null,Y,x,D,F,V,Z,q,X):At&&(De<0||B!==gn[De]?be(Y,x,D,2):De--)}}},be=(I,A,x,H,F=null)=>{const{el:V,type:Z,transition:q,children:X,shapeFlag:B}=I;if(B&6){be(I.component.subTree,A,x,H);return}if(B&128){I.suspense.move(A,x,H);return}if(B&64){Z.move(I,A,x,lt);return}if(Z===xe){r(V,A,x);for(let ce=0;ce<X.length;ce++)be(X[ce],A,x,H);r(I.anchor,A,x);return}if(Z===Zl){U(I,A,x);return}if(H!==2&&B&1&&q)if(H===0)q.beforeEnter(V),r(V,A,x),Vt(()=>q.enter(V),F);else{const{leave:ce,delayLeave:le,afterLeave:ae}=q,ue=()=>r(V,A,x),Ie=()=>{ce(V,()=>{ue(),ae&&ae()})};le?le(V,ue,Ie):Ie()}else r(V,A,x)},ie=(I,A,x,H=!1,F=!1)=>{const{type:V,props:Z,ref:q,children:X,dynamicChildren:B,shapeFlag:ne,patchFlag:ce,dirs:le,cacheIndex:ae}=I;if(ce===-2&&(F=!1),q!=null&&kc(q,null,x,I,!0),ae!=null&&(A.renderCache[ae]=void 0),ne&256){A.ctx.deactivate(I);return}const ue=ne&1&&le,Ie=!Wi(I);let De;if(Ie&&(De=Z&&Z.onVnodeBeforeUnmount)&&Pn(De,A,I),ne&6)Ye(I.component,x,H);else{if(ne&128){I.suspense.unmount(x,H);return}ue&&jr(I,null,A,"beforeUnmount"),ne&64?I.type.remove(I,A,x,lt,H):B&&!B.hasOnce&&(V!==xe||ce>0&&ce&64)?Xe(B,A,x,!1,!0):(V===xe&&ce&384||!F&&ne&16)&&Xe(X,A,x),H&&Ce(I)}(Ie&&(De=Z&&Z.onVnodeUnmounted)||ue)&&Vt(()=>{De&&Pn(De,A,I),ue&&jr(I,null,A,"unmounted")},x)},Ce=I=>{const{type:A,el:x,anchor:H,transition:F}=I;if(A===xe){Pe(x,H);return}if(A===Zl){$(I);return}const V=()=>{s(x),F&&!F.persisted&&F.afterLeave&&F.afterLeave()};if(I.shapeFlag&1&&F&&!F.persisted){const{leave:Z,delayLeave:q}=F,X=()=>Z(x,V);q?q(I.el,V,X):X()}else V()},Pe=(I,A)=>{let x;for(;I!==A;)x=g(I),s(I),I=x;s(A)},Ye=(I,A,x)=>{const{bum:H,scope:F,update:V,subTree:Z,um:q,m:X,a:B}=I;Jf(X),Jf(B),H&&ia(H),F.stop(),V&&(V.active=!1,ie(Z,I,A,x)),q&&Vt(q,A),Vt(()=>{I.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve())},Xe=(I,A,x,H=!1,F=!1,V=0)=>{for(let Z=V;Z<I.length;Z++)ie(I[Z],A,x,H,F)},Le=I=>{if(I.shapeFlag&6)return Le(I.component.subTree);if(I.shapeFlag&128)return I.suspense.next();const A=g(I.anchor||I.el),x=A&&A[p0];return x?g(x):A};let et=!1;const yt=(I,A,x)=>{I==null?A._vnode&&ie(A._vnode,null,null,!0):P(A._vnode||null,I,A,null,null,null,x),A._vnode=I,et||(et=!0,Vf(),mv(),et=!1)},lt={p:P,um:ie,m:be,r:Ce,mt:J,mc:y,pc:pe,pbc:T,n:Le,o:t};let pt,gt;return{render:yt,hydrate:pt,createApp:a0(yt,pt)}}function Xl({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Br({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function _0(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Hv(t,e,n=!1){const r=t.children,s=e.children;if(me(r)&&me(s))for(let i=0;i<r.length;i++){const o=r[i];let l=s[i];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=s[i]=pr(s[i]),l.el=o.el),!n&&l.patchFlag!==-2&&Hv(o,l)),l.type===al&&(l.el=o.el)}}function y0(t){const e=t.slice(),n=[0];let r,s,i,o,l;const c=t.length;for(r=0;r<c;r++){const u=t[r];if(u!==0){if(s=n[n.length-1],t[s]<u){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)l=i+o>>1,t[n[l]]<u?i=l+1:o=l;u<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}function jv(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:jv(e)}function Jf(t){if(t)for(let e=0;e<t.length;e++)t[e].active=!1}const w0=Symbol.for("v-scx"),b0=()=>Gn(w0);function Bv(t,e){return ku(t,null,e)}const qo={};function mt(t,e,n){return ku(t,e,n)}function ku(t,e,{immediate:n,deep:r,flush:s,once:i,onTrack:o,onTrigger:l}=Je){if(e&&i){const j=e;e=(...E)=>{j(...E),K()}}const c=Ot,u=j=>r===!0?j:gr(j,r===!1?1:void 0);let f,p=!1,g=!1;if(it(t)?(f=()=>t.value,p=Hs(t)):Ui(t)?(f=()=>u(t),p=!0):me(t)?(g=!0,p=t.some(j=>Ui(j)||Hs(j)),f=()=>t.map(j=>{if(it(j))return j.value;if(Ui(j))return u(j);if(we(j))return wr(j,c,2)})):we(t)?e?f=()=>wr(t,c,2):f=()=>(b&&b(),un(t,c,3,[S])):f=an,e&&r){const j=f;f=()=>gr(j())}let b,S=j=>{b=U.onStop=()=>{wr(j,c,4),b=U.onStop=void 0}},P;if(ll)if(S=an,e?n&&un(e,c,3,[f(),g?[]:void 0,S]):f(),s==="sync"){const j=b0();P=j.__watcherHandles||(j.__watcherHandles=[])}else return an;let O=g?new Array(t.length).fill(qo):qo;const k=()=>{if(!(!U.active||!U.dirty))if(e){const j=U.run();(r||p||(g?j.some((E,y)=>Ir(E,O[y])):Ir(j,O)))&&(b&&b(),un(e,c,3,[j,O===qo?void 0:g&&O[0]===qo?[]:O,S]),O=j)}else U.run()};k.allowRecurse=!!e;let z;s==="sync"?z=k:s==="post"?z=()=>Vt(k,c&&c.suspense):(k.pre=!0,c&&(k.id=c.uid),z=()=>Iu(k));const U=new mu(f,an,z),$=rb(),K=()=>{U.stop(),$&&gu($.effects,U)};return e?n?k():O=U.run():s==="post"?Vt(U.run.bind(U),c&&c.suspense):U.run(),P&&P.push(K),K}function C0(t,e,n){const r=this.proxy,s=rt(t)?t.includes(".")?Uv(r,t):()=>r[t]:t.bind(r,r);let i;we(e)?i=e:(i=e.handler,n=e);const o=bo(this),l=ku(s,i.bind(r),n);return o(),l}function Uv(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function gr(t,e=1/0,n){if(e<=0||!qe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),e--,it(t))gr(t.value,e,n);else if(me(t))for(let r=0;r<t.length;r++)gr(t[r],e,n);else if(Ug(t)||Ms(t))t.forEach(r=>{gr(r,e,n)});else if(zg(t)){for(const r in t)gr(t[r],e,n);for(const r of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,r)&&gr(t[r],e,n)}return t}const E0=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${Cn(e)}Modifiers`]||t[`${Or(e)}Modifiers`];function T0(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||Je;let s=n;const i=e.startsWith("update:"),o=i&&E0(r,e.slice(7));o&&(o.trim&&(s=n.map(f=>rt(f)?f.trim():f)),o.number&&(s=n.map(Ec)));let l,c=r[l=sa(e)]||r[l=sa(Cn(e))];!c&&i&&(c=r[l=sa(Or(e))]),c&&un(c,t,6,s);const u=r[l+"Once"];if(u){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,un(u,t,6,s)}}function Wv(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},l=!1;if(!we(t)){const c=u=>{const f=Wv(u,e,!0);f&&(l=!0,_t(o,f))};!n&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!i&&!l?(qe(t)&&r.set(t,null),null):(me(i)?i.forEach(c=>o[c]=null):_t(o,i),qe(t)&&r.set(t,o),o)}function ol(t,e){return!t||!Qa(e)?!1:(e=e.slice(2).replace(/Once$/,""),Oe(t,e[0].toLowerCase()+e.slice(1))||Oe(t,Or(e))||Oe(t,e))}function Ql(t){const{type:e,vnode:n,proxy:r,withProxy:s,propsOptions:[i],slots:o,attrs:l,emit:c,render:u,renderCache:f,props:p,data:g,setupState:b,ctx:S,inheritAttrs:P}=t,O=ma(t);let k,z;try{if(n.shapeFlag&4){const $=s||r,K=$;k=On(u.call(K,$,f,p,b,g,S)),z=l}else{const $=e;k=On($.length>1?$(p,{attrs:l,slots:o,emit:c}):$(p,null)),z=e.props?l:I0(l)}}catch($){zi.length=0,nl($,t,1),k=ve(Kt)}let U=k;if(z&&P!==!1){const $=Object.keys(z),{shapeFlag:K}=U;$.length&&K&7&&(i&&$.some(pu)&&(z=D0(z,i)),U=Dr(U,z,!1,!0))}return n.dirs&&(U=Dr(U,null,!1,!0),U.dirs=U.dirs?U.dirs.concat(n.dirs):n.dirs),n.transition&&(U.transition=n.transition),k=U,ma(O),k}const I0=t=>{let e;for(const n in t)(n==="class"||n==="style"||Qa(n))&&((e||(e={}))[n]=t[n]);return e},D0=(t,e)=>{const n={};for(const r in t)(!pu(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function S0(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:l,patchFlag:c}=e,u=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?ed(r,o,u):!!o;if(c&8){const f=e.dynamicProps;for(let p=0;p<f.length;p++){const g=f[p];if(o[g]!==r[g]&&!ol(u,g))return!0}}}else return(s||l)&&(!l||!l.$stable)?!0:r===o?!1:r?o?ed(r,o,u):!0:!!o;return!1}function ed(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!ol(n,i))return!0}return!1}function A0({vnode:t,parent:e},n){for(;e;){const r=e.subTree;if(r.suspense&&r.suspense.activeBranch===t&&(r.el=t.el),r===t)(t=e.vnode).el=n,e=e.parent;else break}}const P0=t=>t.__isSuspense;function M0(t,e){e&&e.pendingBranch?me(t)?e.effects.push(...t):e.effects.push(t):$b(t)}const xe=Symbol.for("v-fgt"),al=Symbol.for("v-txt"),Kt=Symbol.for("v-cmt"),Zl=Symbol.for("v-stc"),zi=[];let en=null;function re(t=!1){zi.push(en=t?null:[])}function O0(){zi.pop(),en=zi[zi.length-1]||null}let so=1;function td(t){so+=t,t<0&&en&&(en.hasOnce=!0)}function Vv(t){return t.dynamicChildren=so>0?en||Ps:null,O0(),so>0&&en&&en.push(t),t}function he(t,e,n,r,s,i){return Vv(ge(t,e,n,r,s,i,!0))}function Dt(t,e,n,r,s){return Vv(ve(t,e,n,r,s,!0))}function ya(t){return t?t.__v_isVNode===!0:!1}function Xr(t,e){return t.type===e.type&&t.key===e.key}const zv=({key:t})=>t??null,la=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?rt(t)||it(t)||we(t)?{i:It,r:t,k:e,f:!!n}:t:null);function ge(t,e=null,n=null,r=0,s=null,i=t===xe?0:1,o=!1,l=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&zv(e),ref:e&&la(e),scopeId:rl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:It};return l?(xu(c,n),i&128&&t.normalize(c)):n&&(c.shapeFlag|=rt(n)?8:16),so>0&&!o&&en&&(c.patchFlag>0||i&6)&&c.patchFlag!==32&&en.push(c),c}const ve=k0;function k0(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Dv)&&(t=Kt),ya(t)){const l=Dr(t,e,!0);return n&&xu(l,n),so>0&&!i&&en&&(l.shapeFlag&6?en[en.indexOf(t)]=l:en.push(l)),l.patchFlag=-2,l}if(j0(t)&&(t=t.__vccOpts),e){e=wa(e);let{class:l,style:c}=e;l&&!rt(l)&&(e.class=Ge(l)),qe(c)&&(uv(c)&&!me(c)&&(c=_t({},c)),e.style=zt(c))}const o=rt(t)?1:P0(t)?128:g0(t)?64:qe(t)?4:we(t)?2:0;return ge(t,e,n,r,s,o,i,!0)}function wa(t){return t?uv(t)||xv(t)?_t({},t):t:null}function Dr(t,e,n=!1,r=!1){const{props:s,ref:i,patchFlag:o,children:l,transition:c}=t,u=e?hs(s||{},e):s,f={__v_isVNode:!0,__v_skip:!0,type:t.type,props:u,key:u&&zv(u),ref:e&&e.ref?n&&i?me(i)?i.concat(la(e)):[i,la(e)]:la(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==xe?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Dr(t.ssContent),ssFallback:t.ssFallback&&Dr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&r&&js(f,c.clone(f)),f}function Bs(t=" ",e=0){return ve(al,null,t,e)}function ot(t="",e=!1){return e?(re(),Dt(Kt,null,t)):ve(Kt,null,t)}function On(t){return t==null||typeof t=="boolean"?ve(Kt):me(t)?ve(xe,null,t.slice()):typeof t=="object"?pr(t):ve(al,null,String(t))}function pr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Dr(t)}function xu(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(me(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),xu(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!xv(e)?e._ctx=It:s===3&&It&&(It.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else we(e)?(e={default:e,_ctx:It},n=32):(e=String(e),r&64?(n=16,e=[Bs(e)]):n=8);t.children=e,t.shapeFlag|=n}function hs(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Ge([e.class,r.class]));else if(s==="style")e.style=zt([e.style,r.style]);else if(Qa(s)){const i=e[s],o=r[s];o&&i!==o&&!(me(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Pn(t,e,n,r=null){un(t,e,7,[n,r])}const x0=Mv();let R0=0;function N0(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||x0,i={uid:R0++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new tb(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Nv(r,s),emitsOptions:Wv(r,s),emit:null,emitted:null,propsDefaults:Je,inheritAttrs:r.inheritAttrs,ctx:Je,data:Je,props:Je,attrs:Je,slots:Je,refs:Je,setupState:Je,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=T0.bind(null,i),t.ce&&t.ce(i),i}let Ot=null;const Kv=()=>Ot||It;let ba,xc;{const t=Gg(),e=(n,r)=>{let s;return(s=t[n])||(s=t[n]=[]),s.push(r),i=>{s.length>1?s.forEach(o=>o(i)):s[0](i)}};ba=e("__VUE_INSTANCE_SETTERS__",n=>Ot=n),xc=e("__VUE_SSR_SETTERS__",n=>ll=n)}const bo=t=>{const e=Ot;return ba(t),t.scope.on(),()=>{t.scope.off(),ba(e)}},nd=()=>{Ot&&Ot.scope.off(),ba(null)};function Gv(t){return t.vnode.shapeFlag&4}let ll=!1;function $0(t,e=!1,n=!1){e&&xc(e);const{props:r,children:s}=t.vnode,i=Gv(t);l0(t,r,i,e),f0(t,s,n);const o=i?L0(t,e):void 0;return e&&xc(!1),o}function L0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,e0);const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?Y0(t):null,i=bo(t);kr();const o=wr(r,t,0,[t.props,s]);if(xr(),i(),Wg(o)){if(o.then(nd,nd),e)return o.then(l=>{rd(t,l,e)}).catch(l=>{nl(l,t,0)});t.asyncDep=o}else rd(t,o,e)}else qv(t,e)}function rd(t,e,n){we(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:qe(e)&&(t.setupState=dv(e)),qv(t,n)}let sd;function qv(t,e,n){const r=t.type;if(!t.render){if(!e&&sd&&!r.render){const s=r.template||Mu(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:c}=r,u=_t(_t({isCustomElement:i,delimiters:l},o),c);r.render=sd(s,u)}}t.render=r.render||an}{const s=bo(t);kr();try{t0(t)}finally{xr(),s()}}}const F0={get(t,e){return Jt(t,"get",""),t[e]}};function Y0(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,F0),slots:t.slots,emit:t.emit,expose:e}}function cl(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(dv(Ib(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Vi)return Vi[n](t)},has(e,n){return n in e||n in Vi}})):t.proxy}function H0(t,e=!0){return we(t)?t.displayName||t.name:t.name||e&&t.__name}function j0(t){return we(t)&&"__vccOpts"in t}const N=(t,e)=>Db(t,e,ll);function B0(t,e,n){const r=arguments.length;return r===2?qe(e)&&!me(e)?ya(e)?ve(t,null,[e]):ve(t,e):ve(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&ya(n)&&(n=[n]),ve(t,e,n))}const U0="3.4.38";/**
* @vue/runtime-dom v3.4.38
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const W0="http://www.w3.org/2000/svg",V0="http://www.w3.org/1998/Math/MathML",Wn=typeof document<"u"?document:null,id=Wn&&Wn.createElement("template"),z0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e==="svg"?Wn.createElementNS(W0,t):e==="mathml"?Wn.createElementNS(V0,t):n?Wn.createElement(t,{is:n}):Wn.createElement(t);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>Wn.createTextNode(t),createComment:t=>Wn.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Wn.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{id.innerHTML=r==="svg"?`<svg>${t}</svg>`:r==="mathml"?`<math>${t}</math>`:t;const l=id.content;if(r==="svg"||r==="mathml"){const c=l.firstChild;for(;c.firstChild;)l.appendChild(c.firstChild);l.removeChild(c)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},cr="transition",Pi="animation",Us=Symbol("_vtc"),ul=(t,{slots:e})=>B0(jb,Qv(t),e);ul.displayName="Transition";const Xv={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},K0=ul.props=_t({},wv,Xv),Ur=(t,e=[])=>{me(t)?t.forEach(n=>n(...e)):t&&t(...e)},od=t=>t?me(t)?t.some(e=>e.length>1):t.length>1:!1;function Qv(t){const e={};for(const _ in t)_ in Xv||(e[_]=t[_]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:l=`${n}-enter-to`,appearFromClass:c=i,appearActiveClass:u=o,appearToClass:f=l,leaveFromClass:p=`${n}-leave-from`,leaveActiveClass:g=`${n}-leave-active`,leaveToClass:b=`${n}-leave-to`}=t,S=G0(s),P=S&&S[0],O=S&&S[1],{onBeforeEnter:k,onEnter:z,onEnterCancelled:U,onLeave:$,onLeaveCancelled:K,onBeforeAppear:j=k,onAppear:E=z,onAppearCancelled:y=U}=e,w=(_,v,J)=>{hr(_,v?f:l),hr(_,v?u:o),J&&J()},T=(_,v)=>{_._isLeaving=!1,hr(_,p),hr(_,b),hr(_,g),v&&v()},C=_=>(v,J)=>{const ee=_?E:z,oe=()=>w(v,_,J);Ur(ee,[v,oe]),ad(()=>{hr(v,_?c:i),Un(v,_?f:l),od(ee)||ld(v,r,P,oe)})};return _t(e,{onBeforeEnter(_){Ur(k,[_]),Un(_,i),Un(_,o)},onBeforeAppear(_){Ur(j,[_]),Un(_,c),Un(_,u)},onEnter:C(!1),onAppear:C(!0),onLeave(_,v){_._isLeaving=!0;const J=()=>T(_,v);Un(_,p),Un(_,g),Jv(),ad(()=>{_._isLeaving&&(hr(_,p),Un(_,b),od($)||ld(_,r,O,J))}),Ur($,[_,J])},onEnterCancelled(_){w(_,!1),Ur(U,[_])},onAppearCancelled(_){w(_,!0),Ur(y,[_])},onLeaveCancelled(_){T(_),Ur(K,[_])}})}function G0(t){if(t==null)return null;if(qe(t))return[Jl(t.enter),Jl(t.leave)];{const e=Jl(t);return[e,e]}}function Jl(t){return Gw(t)}function Un(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[Us]||(t[Us]=new Set)).add(e)}function hr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const n=t[Us];n&&(n.delete(e),n.size||(t[Us]=void 0))}function ad(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let q0=0;function ld(t,e,n,r){const s=t._endId=++q0,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:l,propCount:c}=Zv(t,e);if(!o)return r();const u=o+"end";let f=0;const p=()=>{t.removeEventListener(u,g),i()},g=b=>{b.target===t&&++f>=c&&p()};setTimeout(()=>{f<c&&p()},l+1),t.addEventListener(u,g)}function Zv(t,e){const n=window.getComputedStyle(t),r=S=>(n[S]||"").split(", "),s=r(`${cr}Delay`),i=r(`${cr}Duration`),o=cd(s,i),l=r(`${Pi}Delay`),c=r(`${Pi}Duration`),u=cd(l,c);let f=null,p=0,g=0;e===cr?o>0&&(f=cr,p=o,g=i.length):e===Pi?u>0&&(f=Pi,p=u,g=c.length):(p=Math.max(o,u),f=p>0?o>u?cr:Pi:null,g=f?f===cr?i.length:c.length:0);const b=f===cr&&/\b(transform|all)(,|$)/.test(r(`${cr}Property`).toString());return{type:f,timeout:p,propCount:g,hasTransform:b}}function cd(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>ud(n)+ud(t[r])))}function ud(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function Jv(){return document.body.offsetHeight}function X0(t,e,n){const r=t[Us];r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const hd=Symbol("_vod"),Q0=Symbol("_vsh"),Z0=Symbol(""),J0=/(^|;)\s*display\s*:/;function e1(t,e,n){const r=t.style,s=rt(n);let i=!1;if(n&&!s){if(e)if(rt(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();n[l]==null&&ca(r,l,"")}else for(const o in e)n[o]==null&&ca(r,o,"");for(const o in n)o==="display"&&(i=!0),ca(r,o,n[o])}else if(s){if(e!==n){const o=r[Z0];o&&(n+=";"+o),r.cssText=n,i=J0.test(n)}}else e&&t.removeAttribute("style");hd in t&&(t[hd]=i?r.display:"",t[Q0]&&(r.display="none"))}const fd=/\s*!important$/;function ca(t,e,n){if(me(n))n.forEach(r=>ca(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=t1(t,e);fd.test(n)?t.setProperty(Or(r),n.replace(fd,""),"important"):t[r]=n}}const dd=["Webkit","Moz","ms"],ec={};function t1(t,e){const n=ec[e];if(n)return n;let r=Cn(e);if(r!=="filter"&&r in t)return ec[e]=r;r=el(r);for(let s=0;s<dd.length;s++){const i=dd[s]+r;if(i in t)return ec[e]=i}return e}const pd="http://www.w3.org/1999/xlink";function gd(t,e,n,r,s,i=eb(e)){r&&e.startsWith("xlink:")?n==null?t.removeAttributeNS(pd,e.slice(6,e.length)):t.setAttributeNS(pd,e,n):n==null||i&&!qg(n)?t.removeAttribute(e):t.setAttribute(e,i?"":Mr(n)?String(n):n)}function n1(t,e,n,r){if(e==="innerHTML"||e==="textContent"){if(n==null)return;t[e]=n;return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const o=s==="OPTION"?t.getAttribute("value")||"":t.value,l=n==null?"":String(n);(o!==l||!("_value"in t))&&(t.value=l),n==null&&t.removeAttribute(e),t._value=n;return}let i=!1;if(n===""||n==null){const o=typeof t[e];o==="boolean"?n=qg(n):n==null&&o==="string"?(n="",i=!0):o==="number"&&(n=0,i=!0)}try{t[e]=n}catch{}i&&t.removeAttribute(e)}function Ts(t,e,n,r){t.addEventListener(e,n,r)}function r1(t,e,n,r){t.removeEventListener(e,n,r)}const vd=Symbol("_vei");function s1(t,e,n,r,s=null){const i=t[vd]||(t[vd]={}),o=i[e];if(r&&o)o.value=r;else{const[l,c]=i1(e);if(r){const u=i[e]=l1(r,s);Ts(t,l,u,c)}else o&&(r1(t,l,o,c),i[e]=void 0)}}const md=/(?:Once|Passive|Capture)$/;function i1(t){let e;if(md.test(t)){e={};let r;for(;r=t.match(md);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Or(t.slice(2)),e]}let tc=0;const o1=Promise.resolve(),a1=()=>tc||(o1.then(()=>tc=0),tc=Date.now());function l1(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;un(c1(r,n.value),e,5,[r])};return n.value=t,n.attached=a1(),n}function c1(t,e){if(me(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const _d=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,u1=(t,e,n,r,s,i)=>{const o=s==="svg";e==="class"?X0(t,r,o):e==="style"?e1(t,n,r):Qa(e)?pu(e)||s1(t,e,n,r,i):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):h1(t,e,r,o))?(n1(t,e,r),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&gd(t,e,r,o,i,e!=="value")):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),gd(t,e,r,o))};function h1(t,e,n,r){if(r)return!!(e==="innerHTML"||e==="textContent"||e in t&&_d(e)&&we(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const s=t.tagName;if(s==="IMG"||s==="VIDEO"||s==="CANVAS"||s==="SOURCE")return!1}return _d(e)&&rt(n)?!1:e in t}const em=new WeakMap,tm=new WeakMap,Ca=Symbol("_moveCb"),yd=Symbol("_enterCb"),nm={name:"TransitionGroup",props:_t({},K0,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=Kv(),r=yv();let s,i;return Tv(()=>{if(!s.length)return;const o=t.moveClass||`${t.name||"v"}-move`;if(!m1(s[0].el,n.vnode.el,o))return;s.forEach(p1),s.forEach(g1);const l=s.filter(v1);Jv(),l.forEach(c=>{const u=c.el,f=u.style;Un(u,o),f.transform=f.webkitTransform=f.transitionDuration="";const p=u[Ca]=g=>{g&&g.target!==u||(!g||/transform$/.test(g.propertyName))&&(u.removeEventListener("transitionend",p),u[Ca]=null,hr(u,o))};u.addEventListener("transitionend",p)})}),()=>{const o=Re(t),l=Qv(o);let c=o.tag||xe;if(s=[],i)for(let u=0;u<i.length;u++){const f=i[u];f.el&&f.el instanceof Element&&(s.push(f),js(f,ro(f,l,r,n)),em.set(f,f.el.getBoundingClientRect()))}i=e.default?Su(e.default()):[];for(let u=0;u<i.length;u++){const f=i[u];f.key!=null&&js(f,ro(f,l,r,n))}return ve(c,null,i)}}},f1=t=>delete t.mode;nm.props;const d1=nm;function p1(t){const e=t.el;e[Ca]&&e[Ca](),e[yd]&&e[yd]()}function g1(t){tm.set(t,t.el.getBoundingClientRect())}function v1(t){const e=em.get(t),n=tm.get(t),r=e.left-n.left,s=e.top-n.top;if(r||s){const i=t.el.style;return i.transform=i.webkitTransform=`translate(${r}px,${s}px)`,i.transitionDuration="0s",t}}function m1(t,e,n){const r=t.cloneNode(),s=t[Us];s&&s.forEach(l=>{l.split(/\s+/).forEach(c=>c&&r.classList.remove(c))}),n.split(/\s+/).forEach(l=>l&&r.classList.add(l)),r.style.display="none";const i=e.nodeType===1?e:e.parentNode;i.appendChild(r);const{hasTransform:o}=Zv(r);return i.removeChild(r),o}const wd=t=>{const e=t.props["onUpdate:modelValue"]||!1;return me(e)?n=>ia(e,n):e};function _1(t){t.target.composing=!0}function bd(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const nc=Symbol("_assign"),y1={created(t,{modifiers:{lazy:e,trim:n,number:r}},s){t[nc]=wd(s);const i=r||s.props&&s.props.type==="number";Ts(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),i&&(l=Ec(l)),t[nc](l)}),n&&Ts(t,"change",()=>{t.value=t.value.trim()}),e||(Ts(t,"compositionstart",_1),Ts(t,"compositionend",bd),Ts(t,"change",bd))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,oldValue:n,modifiers:{lazy:r,trim:s,number:i}},o){if(t[nc]=wd(o),t.composing)return;const l=(i||t.type==="number")&&!/^0\d/.test(t.value)?Ec(t.value):t.value,c=e??"";l!==c&&(document.activeElement===t&&t.type!=="range"&&(r&&e===n||s&&t.value.trim()===c)||(t.value=c))}},w1=["ctrl","shift","alt","meta"],b1={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>w1.some(n=>t[`${n}Key`]&&!e.includes(n))},rm=(t,e)=>{const n=t._withMods||(t._withMods={}),r=e.join(".");return n[r]||(n[r]=(s,...i)=>{for(let o=0;o<e.length;o++){const l=b1[e[o]];if(l&&l(s,e))return}return t(s,...i)})},C1={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Cd=(t,e)=>{const n=t._withKeys||(t._withKeys={}),r=e.join(".");return n[r]||(n[r]=s=>{if(!("key"in s))return;const i=Or(s.key);if(e.some(o=>o===i||C1[o]===i))return t(s)})},E1=_t({patchProp:u1},z0);let Ed;function T1(){return Ed||(Ed=v0(E1))}const I1=(...t)=>{const e=T1().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=S1(r);if(!s)return;const i=e._component;!we(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,D1(s));return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function D1(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function S1(t){return rt(t)?document.querySelector(t):t}var Td={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sm={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q=function(t,e){if(!t)throw ai(e)},ai=function(t){return new Error("Firebase Database ("+sm.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const im=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},A1=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},Ru={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,c=s+2<t.length,u=c?t[s+2]:0,f=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|u>>6,b=u&63;c||(b=64,o||(g=64)),r.push(n[f],n[p],n[g],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(im(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):A1(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const u=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||u==null||p==null)throw new P1;const g=i<<2|l>>4;if(r.push(g),u!==64){const b=l<<4&240|u>>2;if(r.push(b),p!==64){const S=u<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class P1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const om=function(t){const e=im(t);return Ru.encodeByteArray(e,!0)},Ea=function(t){return om(t).replace(/\./g,"")},Rc=function(t){try{return Ru.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M1(t){return am(void 0,t)}function am(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!O1(n)||(t[n]=am(t[n],e[n]));return t}function O1(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1=()=>k1().__FIREBASE_DEFAULTS__,R1=()=>{if(typeof process>"u"||typeof Td>"u")return;const t=Td.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},N1=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Rc(t[1]);return e&&JSON.parse(e)},lm=()=>{try{return x1()||R1()||N1()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},$1=t=>{var e,n;return(n=(e=lm())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},cm=t=>{const e=$1(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},um=()=>{var t;return(t=lm())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Ea(JSON.stringify(n)),Ea(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fm(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(L1())}function F1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function dm(){return sm.NODE_ADMIN===!0}function Y1(){try{return typeof indexedDB=="object"}catch{return!1}}function H1(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="FirebaseError";class li extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=j1,Object.setPrototypeOf(this,li.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pm.prototype.create)}}class pm{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?B1(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new li(s,l,r)}}function B1(t,e){return t.replace(U1,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const U1=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function io(t){return JSON.parse(t)}function Et(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=function(t){let e={},n={},r={},s="";try{const i=t.split(".");e=io(Rc(i[0])||""),n=io(Rc(i[1])||""),s=i[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:s}},W1=function(t){const e=gm(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},V1=function(t){const e=gm(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ln(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ws(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function Id(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ta(t,e,n){const r={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(r[s]=e.call(n,t[s],s,t));return r}function Nc(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Dd(i)&&Dd(o)){if(!Nc(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Dd(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z1(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const g=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(g<<1|g>>>31)&4294967295}let s=this.chain_[0],i=this.chain_[1],o=this.chain_[2],l=this.chain_[3],c=this.chain_[4],u,f;for(let p=0;p<80;p++){p<40?p<20?(u=l^i&(o^l),f=1518500249):(u=i^o^l,f=1859775393):p<60?(u=i&o|l&(i|o),f=2400959708):(u=i^o^l,f=3395469782);const g=(s<<5|s>>>27)+u+c+f+r[p]&4294967295;c=l,l=o,o=(i<<30|i>>>2)&4294967295,i=s,s=g}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+i&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let s=0;const i=this.buf_;let o=this.inbuf_;for(;s<n;){if(o===0)for(;s<=r;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(i[o]=e.charCodeAt(s),++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}else for(;s<n;)if(i[o]=e[s],++o,++s,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let s=0;s<5;s++)for(let i=24;i>=0;i-=8)e[r]=this.chain_[s]>>i&255,++r;return e}}function hl(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);if(s>=55296&&s<=56319){const i=s-55296;r++,Q(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;s=65536+(i<<10)+o}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},fl=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ci(t){return t&&t._delegate?t._delegate:t}class Vs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Co;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Q1(e))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=zr){return this.instances.has(e)}getOptions(e=zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:X1(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=zr){return this.component?this.component.multipleInstances?e:zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X1(t){return t===zr?void 0:t}function Q1(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new q1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fe;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Fe||(Fe={}));const J1={debug:Fe.DEBUG,verbose:Fe.VERBOSE,info:Fe.INFO,warn:Fe.WARN,error:Fe.ERROR,silent:Fe.SILENT},eC=Fe.INFO,tC={[Fe.DEBUG]:"log",[Fe.VERBOSE]:"log",[Fe.INFO]:"info",[Fe.WARN]:"warn",[Fe.ERROR]:"error"},nC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=tC[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Nu{constructor(e){this.name=e,this._logLevel=eC,this._logHandler=nC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Fe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?J1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Fe.DEBUG,...e),this._logHandler(this,Fe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Fe.VERBOSE,...e),this._logHandler(this,Fe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Fe.INFO,...e),this._logHandler(this,Fe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Fe.WARN,...e),this._logHandler(this,Fe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Fe.ERROR,...e),this._logHandler(this,Fe.ERROR,...e)}}const rC=(t,e)=>e.some(n=>t instanceof n);let Sd,Ad;function sC(){return Sd||(Sd=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function iC(){return Ad||(Ad=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vm=new WeakMap,$c=new WeakMap,mm=new WeakMap,rc=new WeakMap,$u=new WeakMap;function oC(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(br(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vm.set(n,t)}).catch(()=>{}),$u.set(e,t),e}function aC(t){if($c.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});$c.set(t,e)}let Lc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return $c.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mm.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function lC(t){Lc=t(Lc)}function cC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(sc(this),e,...n);return mm.set(r,e.sort?e.sort():[e]),br(r)}:iC().includes(t)?function(...e){return t.apply(sc(this),e),br(vm.get(this))}:function(...e){return br(t.apply(sc(this),e))}}function uC(t){return typeof t=="function"?cC(t):(t instanceof IDBTransaction&&aC(t),rC(t,sC())?new Proxy(t,Lc):t)}function br(t){if(t instanceof IDBRequest)return oC(t);if(rc.has(t))return rc.get(t);const e=uC(t);return e!==t&&(rc.set(t,e),$u.set(e,t)),e}const sc=t=>$u.get(t);function hC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=br(o);return r&&o.addEventListener("upgradeneeded",c=>{r(br(o.result),c.oldVersion,c.newVersion,br(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),l.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",u=>s(u.oldVersion,u.newVersion,u))}).catch(()=>{}),l}const fC=["get","getKey","getAll","getAllKeys","count"],dC=["put","add","delete","clear"],ic=new Map;function Pd(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ic.get(e))return ic.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=dC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fC.includes(n)))return;const i=async function(o,...l){const c=this.transaction(o,s?"readwrite":"readonly");let u=c.store;return r&&(u=u.index(l.shift())),(await Promise.all([u[n](...l),s&&c.done]))[0]};return ic.set(e,i),i}lC(t=>({...t,get:(e,n,r)=>Pd(e,n)||t.get(e,n,r),has:(e,n)=>!!Pd(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(gC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function gC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fc="@firebase/app",Md="0.10.10";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xn=new Nu("@firebase/app"),vC="@firebase/app-compat",mC="@firebase/analytics-compat",_C="@firebase/analytics",yC="@firebase/app-check-compat",wC="@firebase/app-check",bC="@firebase/auth",CC="@firebase/auth-compat",EC="@firebase/database",TC="@firebase/database-compat",IC="@firebase/functions",DC="@firebase/functions-compat",SC="@firebase/installations",AC="@firebase/installations-compat",PC="@firebase/messaging",MC="@firebase/messaging-compat",OC="@firebase/performance",kC="@firebase/performance-compat",xC="@firebase/remote-config",RC="@firebase/remote-config-compat",NC="@firebase/storage",$C="@firebase/storage-compat",LC="@firebase/firestore",FC="@firebase/vertexai-preview",YC="@firebase/firestore-compat",HC="firebase",jC="10.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yc="[DEFAULT]",BC={[Fc]:"fire-core",[vC]:"fire-core-compat",[_C]:"fire-analytics",[mC]:"fire-analytics-compat",[wC]:"fire-app-check",[yC]:"fire-app-check-compat",[bC]:"fire-auth",[CC]:"fire-auth-compat",[EC]:"fire-rtdb",[TC]:"fire-rtdb-compat",[IC]:"fire-fn",[DC]:"fire-fn-compat",[SC]:"fire-iid",[AC]:"fire-iid-compat",[PC]:"fire-fcm",[MC]:"fire-fcm-compat",[OC]:"fire-perf",[kC]:"fire-perf-compat",[xC]:"fire-rc",[RC]:"fire-rc-compat",[NC]:"fire-gcs",[$C]:"fire-gcs-compat",[LC]:"fire-fst",[YC]:"fire-fst-compat",[FC]:"fire-vertex","fire-js":"fire-js",[HC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ia=new Map,UC=new Map,Hc=new Map;function Od(t,e){try{t.container.addComponent(e)}catch(n){Xn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function oo(t){const e=t.name;if(Hc.has(e))return Xn.debug(`There were multiple attempts to register component ${e}.`),!1;Hc.set(e,t);for(const n of Ia.values())Od(n,t);for(const n of UC.values())Od(n,t);return!0}function _m(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new pm("app","Firebase",WC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Vs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ym=jC;function wm(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Yc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Cr.create("bad-app-name",{appName:String(s)});if(n||(n=um()),!n)throw Cr.create("no-options");const i=Ia.get(s);if(i){if(Nc(n,i.options)&&Nc(r,i.config))return i;throw Cr.create("duplicate-app",{appName:s})}const o=new Z1(s);for(const c of Hc.values())o.addComponent(c);const l=new VC(n,r,o);return Ia.set(s,l),l}function bm(t=Yc){const e=Ia.get(t);if(!e&&t===Yc&&um())return wm();if(!e)throw Cr.create("no-app",{appName:t});return e}function Er(t,e,n){var r;let s=(r=BC[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Xn.warn(l.join(" "));return}oo(new Vs(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebase-heartbeat-database",KC=1,ao="firebase-heartbeat-store";let oc=null;function Cm(){return oc||(oc=hC(zC,KC,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ao)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),oc}async function GC(t){try{const n=(await Cm()).transaction(ao),r=await n.objectStore(ao).get(Em(t));return await n.done,r}catch(e){if(e instanceof li)Xn.warn(e.message);else{const n=Cr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Xn.warn(n.message)}}}async function kd(t,e){try{const r=(await Cm()).transaction(ao,"readwrite");await r.objectStore(ao).put(e,Em(t)),await r.done}catch(n){if(n instanceof li)Xn.warn(n.message);else{const r=Cr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xn.warn(r.message)}}}function Em(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1024,XC=30*24*60*60*1e3;class QC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new JC(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=xd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i)?void 0:(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const l=new Date(o.date).valueOf();return Date.now()-l<=XC}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Xn.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=xd(),{heartbeatsToSend:r,unsentEntries:s}=ZC(this._heartbeatsCache.heartbeats),i=Ea(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Xn.warn(n),""}}}function xd(){return new Date().toISOString().substring(0,10)}function ZC(t,e=qC){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Rd(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Rd(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class JC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Y1()?H1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await GC(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return kd(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Rd(t){return Ea(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){oo(new Vs("platform-logger",e=>new pC(e),"PRIVATE")),oo(new Vs("heartbeat",e=>new QC(e),"PRIVATE")),Er(Fc,Md,t),Er(Fc,Md,"esm2017"),Er("fire-js","")}eE("");var Nd={};const $d="@firebase/database",Ld="1.0.7";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tm="";function tE(t){Tm=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Et(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:io(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ln(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Im=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new nE(e)}}catch{}return new rE},Qr=Im("localStorage"),sE=Im("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs=new Nu("@firebase/database"),iE=function(){let t=1;return function(){return t++}}(),Dm=function(t){const e=G1(t),n=new K1;n.update(e);const r=n.digest();return Ru.encodeByteArray(r)},Eo=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Eo.apply(null,r):typeof r=="object"?e+=Et(r):e+=r,e+=" "}return e};let Ki=null,Fd=!0;const oE=function(t,e){Q(!e,"Can't turn on custom loggers persistently."),xs.logLevel=Fe.VERBOSE,Ki=xs.log.bind(xs)},Mt=function(...t){if(Fd===!0&&(Fd=!1,Ki===null&&sE.get("logging_enabled")===!0&&oE()),Ki){const e=Eo.apply(null,t);Ki(e)}},To=function(t){return function(...e){Mt(t,...e)}},jc=function(...t){const e="FIREBASE INTERNAL ERROR: "+Eo(...t);xs.error(e)},Qn=function(...t){const e=`FIREBASE FATAL ERROR: ${Eo(...t)}`;throw xs.error(e),new Error(e)},Wt=function(...t){const e="FIREBASE WARNING: "+Eo(...t);xs.warn(e)},aE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Wt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Lu=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},lE=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},zs="[MIN_NAME]",rs="[MAX_NAME]",fs=function(t,e){if(t===e)return 0;if(t===zs||e===rs)return-1;if(e===zs||t===rs)return 1;{const n=Yd(t),r=Yd(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},cE=function(t,e){return t===e?0:t<e?-1:1},Mi=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Et(e))},Fu=function(t){if(typeof t!="object"||t===null)return Et(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Et(e[r]),n+=":",n+=Fu(t[e[r]]);return n+="}",n},Sm=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let s=0;s<n;s+=e)s+e>n?r.push(t.substring(s,n)):r.push(t.substring(s,s+e));return r};function kt(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const Am=function(t){Q(!Lu(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let s,i,o,l,c;t===0?(i=0,o=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(l=Math.min(Math.floor(Math.log(t)/Math.LN2),r),i=l+r,o=Math.round(t*Math.pow(2,n-l)-Math.pow(2,n))):(i=0,o=Math.round(t/Math.pow(2,1-r-n))));const u=[];for(c=n;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(i%2?1:0),i=Math.floor(i/2);u.push(s?1:0),u.reverse();const f=u.join("");let p="";for(c=0;c<64;c+=8){let g=parseInt(f.substr(c,8),2).toString(16);g.length===1&&(g="0"+g),p=p+g}return p.toLowerCase()},uE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},hE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function fE(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const dE=new RegExp("^-?(0*)\\d{1,10}$"),pE=-2147483648,gE=2147483647,Yd=function(t){if(dE.test(t)){const e=Number(t);if(e>=pE&&e<=gE)return e}return null},ui=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Wt("Exception was thrown by user callback.",n),e},Math.floor(0))}},vE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Gi=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Wt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Mt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Wt(e)}}class ua{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}ua.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu="5",Pm="v",Mm="s",Om="r",km="f",xm=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Rm="ls",Nm="p",Bc="ac",$m="websocket",Lm="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,n,r,s,i=!1,o="",l=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=s,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=l,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Qr.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Qr.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function yE(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ym(t,e,n){Q(typeof e=="string","typeof type must == string"),Q(typeof n=="object","typeof params must == object");let r;if(e===$m)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Lm)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);yE(t)&&(n.ns=t.namespace);const s=[];return kt(n,(i,o)=>{s.push(i+"="+o)}),r+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(){this.counters_={}}incrementCounter(e,n=1){Ln(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return M1(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ac={},lc={};function Hu(t){const e=t.toString();return ac[e]||(ac[e]=new wE),ac[e]}function bE(t,e){const n=t.toString();return lc[n]||(lc[n]=e()),lc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<r.length;++s)r[s]&&ui(()=>{this.onMessage_(r[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hd="start",EE="close",TE="pLPCommand",IE="pRTLPCB",Hm="id",jm="pw",Bm="ser",DE="cb",SE="seg",AE="ts",PE="d",ME="dframe",Um=1870,Wm=30,OE=Um-Wm,kE=25e3,xE=3e4;class Ss{constructor(e,n,r,s,i,o,l){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.transportSessionId=o,this.lastSessionId=l,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=To(e),this.stats_=Hu(n),this.urlFn=c=>(this.appCheckToken&&(c[Bc]=this.appCheckToken),Ym(n,Lm,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new CE(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(xE)),lE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ju((...i)=>{const[o,l,c,u,f]=i;if(this.incrementIncomingBytes_(i),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===Hd)this.id=l,this.password=c;else if(o===EE)l?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(l,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...i)=>{const[o,l]=i;this.incrementIncomingBytes_(i),this.myPacketOrderer.handleResponse(o,l)},()=>{this.onClosed_()},this.urlFn);const r={};r[Hd]="t",r[Bm]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[DE]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Pm]=Yu,this.transportSessionId&&(r[Mm]=this.transportSessionId),this.lastSessionId&&(r[Rm]=this.lastSessionId),this.applicationId&&(r[Nm]=this.applicationId),this.appCheckToken&&(r[Bc]=this.appCheckToken),typeof location<"u"&&location.hostname&&xm.test(location.hostname)&&(r[Om]=km);const s=this.urlFn(r);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Ss.forceAllow_=!0}static forceDisallow(){Ss.forceDisallow_=!0}static isAvailable(){return Ss.forceAllow_?!0:!Ss.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!uE()&&!hE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=om(n),s=Sm(r,OE);for(let i=0;i<s.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[i]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[ME]="t",r[Hm]=e,r[jm]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Et(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ju{constructor(e,n,r,s){this.onDisconnect=r,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=iE(),window[TE+this.uniqueCallbackIdentifier]=e,window[IE+this.uniqueCallbackIdentifier]=n,this.myIFrame=ju.createIFrame_();let i="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(i='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+i+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(l){Mt("frame writing exception"),l.stack&&Mt(l.stack),Mt(l)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Mt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Hm]=this.myID,e[jm]=this.myPW,e[Bm]=this.currentSerial;let n=this.urlFn(e),r="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Wm+r.length<=Um;){const o=this.pendingSegs.shift();r=r+"&"+SE+s+"="+o.seg+"&"+AE+s+"="+o.ts+"&"+PE+s+"="+o.d,s++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(r,Math.floor(kE)),i=()=>{clearTimeout(s),r()};this.addTag(e,i)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const s=r.readyState;(!s||s==="loaded"||s==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Mt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RE=16384,NE=45e3;let Da=null;typeof MozWebSocket<"u"?Da=MozWebSocket:typeof WebSocket<"u"&&(Da=WebSocket);class yn{constructor(e,n,r,s,i,o,l){this.connId=e,this.applicationId=r,this.appCheckToken=s,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=To(this.connId),this.stats_=Hu(n),this.connURL=yn.connectionURL_(n,o,l,s,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,s,i){const o={};return o[Pm]=Yu,typeof location<"u"&&location.hostname&&xm.test(location.hostname)&&(o[Om]=km),n&&(o[Mm]=n),r&&(o[Rm]=r),s&&(o[Bc]=s),i&&(o[Nm]=i),Ym(e,$m,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Qr.set("previous_websocket_failure",!0);try{let r;dm(),this.mySock=new Da(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const s=r.message||r.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){yn.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Da!==null&&!yn.forceDisallow_}static previouslyFailed(){return Qr.isInMemoryStorage||Qr.get("previous_websocket_failure")===!0}markConnectionHealthy(){Qr.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=io(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Q(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Et(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Sm(n,RE);r.length>1&&this.sendString_(String(r.length));for(let s=0;s<r.length;s++)this.sendString_(r[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(NE))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yn.responsesRequiredToBeHealthy=2;yn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Ss,yn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=yn&&yn.isAvailable();let r=n&&!yn.previouslyFailed();if(e.webSocketOnly&&(n||Wt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[yn];else{const s=this.transports_=[];for(const i of lo.ALL_TRANSPORTS)i&&i.isAvailable()&&s.push(i);lo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}lo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=6e4,LE=5e3,FE=10*1024,YE=100*1024,cc="t",jd="d",HE="s",Bd="r",jE="e",Ud="o",Wd="a",Vd="n",zd="p",BE="h";class UE{constructor(e,n,r,s,i,o,l,c,u,f){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=s,this.authToken_=i,this.onMessage_=o,this.onReady_=l,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=To("c:"+this.id+":"),this.transportManager_=new lo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Gi(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>YE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>FE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(cc in e){const n=e[cc];n===Wd?this.upgradeIfSecondaryHealthy_():n===Bd?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===Ud&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Mi("t",e),r=Mi("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zd,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Wd,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vd,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Mi("t",e),r=Mi("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Mi(cc,e);if(jd in e){const r=e[jd];if(n===BE){const s=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===Vd){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===HE?this.onConnectionShutdown_(r):n===Bd?this.onReset_(r):n===jE?jc("Server Error: "+r):n===Ud?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):jc("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Yu!==r&&Wt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Gi(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor($E))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Gi(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(LE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zd,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Qr.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{put(e,n,r,s){}merge(e,n,r,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(e){this.allowedEvents_=e,this.listeners_={},Q(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let s=0;s<r.length;s++)r[s].callback.apply(r[s].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const s=this.getInitialEvent(e);s&&n.apply(r,s)}off(e,n,r){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let i=0;i<s.length;i++)if(s[i].callback===n&&(!r||r===s[i].context)){s.splice(i,1);return}}validateEventType_(e){Q(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa extends zm{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!fm()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sa}getInitialEvent(e){return Q(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kd=32,Gd=768;class je{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[r]=this.pieces_[s],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function $e(){return new je("")}function Ee(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Sr(t){return t.pieces_.length-t.pieceNum_}function Ke(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new je(t.pieces_,e)}function Bu(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function WE(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function co(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Km(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new je(e,0)}function tt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof je)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let s=0;s<r.length;s++)r[s].length>0&&n.push(r[s])}return new je(n,0)}function Se(t){return t.pieceNum_>=t.pieces_.length}function Gt(t,e){const n=Ee(t),r=Ee(e);if(n===null)return e;if(n===r)return Gt(Ke(t),Ke(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function VE(t,e){const n=co(t,0),r=co(e,0);for(let s=0;s<n.length&&s<r.length;s++){const i=fs(n[s],r[s]);if(i!==0)return i}return n.length===r.length?0:n.length<r.length?-1:1}function Uu(t,e){if(Sr(t)!==Sr(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ln(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(Sr(t)>Sr(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class zE{constructor(e,n){this.errorPrefix_=n,this.parts_=co(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=fl(this.parts_[r]);Gm(this)}}function KE(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=fl(e),Gm(t)}function GE(t){const e=t.parts_.pop();t.byteLength_-=fl(e),t.parts_.length>0&&(t.byteLength_-=1)}function Gm(t){if(t.byteLength_>Gd)throw new Error(t.errorPrefix_+"has a key path longer than "+Gd+" bytes ("+t.byteLength_+").");if(t.parts_.length>Kd)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Kd+") or object contains a cycle "+Kr(t))}function Kr(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu extends zm{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new Wu}getInitialEvent(e){return Q(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi=1e3,qE=60*5*1e3,qd=30*1e3,XE=1.3,QE=3e4,ZE="server_kill",Xd=3;class qn extends Vm{constructor(e,n,r,s,i,o,l,c){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=s,this.onServerInfoUpdate_=i,this.authTokenProvider_=o,this.appCheckTokenProvider_=l,this.authOverride_=c,this.id=qn.nextPersistentConnectionId_++,this.log_=To("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Oi,this.maxReconnectDelay_=qE,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!dm())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Wu.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sa.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const s=++this.requestNumber_,i={r:s,a:e,b:n};this.log_(Et(i)),Q(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),r&&(this.requestCBHash_[s]=r)}get(e){this.initConnection_();const n=new Co,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const l=o.d;o.s==="ok"?n.resolve(l):n.reject(l)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(i),n.promise}listen(e,n,r,s){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Q(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const l={onComplete:s,hashFn:n,query:e,tag:r};this.listens.get(o).set(i,l),this.connected_&&this.sendListen_(l)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+r+" for "+s);const i={p:r},o="q";e.tag&&(i.q=n._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest(o,i,l=>{const c=l.d,u=l.s;qn.warnOnListenWarnings_(c,n),(this.listens.get(r)&&this.listens.get(r).get(s))===e&&(this.log_("listen response",l),u!=="ok"&&this.removeListen_(r,s),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Ln(e,"w")){const r=Ws(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',i=n._path.toString();Wt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${i} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||V1(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=qd)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=W1(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,s=>{const i=s.s,o=s.d||"error";this.authToken_===e&&(i==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(i,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+s),Q(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,s)&&this.connected_&&this.sendUnlisten_(r,s,e._queryObject,n)}sendUnlisten_(e,n,r,s){this.log_("Unlisten on "+e+" for "+n);const i={p:e},o="n";s&&(i.q=r,i.t=s),this.sendRequest(o,i)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,s){const i={p:n,d:r};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,o=>{s&&setTimeout(()=>{s(o.s,o.d)},Math.floor(0))})}put(e,n,r,s){this.putInternal("p",e,n,r,s)}merge(e,n,r,s){this.putInternal("m",e,n,r,s)}putInternal(e,n,r,s,i){this.initConnection_();const o={p:n,d:r};i!==void 0&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:s}),this.outstandingPutCount_++;const l=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(l):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,i=>{this.log_(n+" response",i),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(i.s,i.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const i=r.d;this.log_("reportStats","Error sending stats: "+i)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Et(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):jc("Unrecognized action received from server: "+Et(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Q(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>QE&&(this.reconnectDelay_=Oi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*XE)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+qn.nextConnectionId_++,i=this.lastSessionId;let o=!1,l=null;const c=function(){l?l.close():(o=!0,r())},u=function(p){Q(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(p)};this.realtime_={close:c,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,g]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);o?Mt("getToken() completed but was canceled"):(Mt("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=g&&g.token,l=new UE(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,b=>{Wt(b+" ("+this.repoInfo_.toString()+")"),this.interrupt(ZE)},i))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Wt(p),c())}}}interrupt(e){Mt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Mt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Id(this.interruptReasons_)&&(this.reconnectDelay_=Oi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(i=>Fu(i)).join("$"):r="default";const s=this.removeListen_(e,r);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const r=new je(e).toString();let s;if(this.listens.has(r)){const i=this.listens.get(r);s=i.get(n),i.delete(n),i.size===0&&this.listens.delete(r)}else s=void 0;return s}onAuthRevoked_(e,n){Mt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Xd&&(this.reconnectDelay_=qd,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Mt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Xd&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+Tm.replace(/\./g,"-")]=1,fm()?e["framework.cordova"]=1:F1()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sa.getInstance().currentlyOnline();return Id(this.interruptReasons_)&&e}}qn.nextPersistentConnectionId_=0;qn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Te(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Te(zs,e),s=new Te(zs,n);return this.compare(r,s)!==0}minPost(){return Te.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo;class qm extends dl{static get __EMPTY_NODE(){return Xo}static set __EMPTY_NODE(e){Xo=e}compare(e,n){return fs(e.name,n.name)}isDefinedOn(e){throw ai("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Te.MIN}maxPost(){return new Te(rs,Xo)}makePost(e,n){return Q(typeof e=="string","KeyIndex indexValue must always be a string."),new Te(e,Xo)}toString(){return".key"}}const Rs=new qm;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo{constructor(e,n,r,s,i=null){this.isReverse_=s,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,s&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class bt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??bt.RED,this.left=s??qt.EMPTY_NODE,this.right=i??qt.EMPTY_NODE}copy(e,n,r,s,i){return new bt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return i<0?s=s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return qt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,s;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return qt.EMPTY_NODE;s=r.right.min_(),r=r.copy(s.key,s.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,bt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,bt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}bt.RED=!0;bt.BLACK=!1;class JE{copy(e,n,r,s,i){return this}insert(e,n,r){return new bt(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class qt{constructor(e,n=qt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new qt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,bt.BLACK,null,null))}remove(e){return new qt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,bt.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,s=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return s?s.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(s=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Qo(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Qo(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Qo(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Qo(this.root_,null,this.comparator_,!0,e)}}qt.EMPTY_NODE=new JE;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eT(t,e){return fs(t.name,e.name)}function Vu(t,e){return fs(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;function tT(t){Uc=t}const Xm=function(t){return typeof t=="number"?"number:"+Am(t):"string:"+t},Qm=function(t){if(t.isLeafNode()){const e=t.val();Q(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ln(e,".sv"),"Priority must be a string or number.")}else Q(t===Uc||t.isEmpty(),"priority of unexpected type.");Q(t===Uc||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qd;class wt{constructor(e,n=wt.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,Q(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Qm(this.priorityNode_)}static set __childrenNodeConstructor(e){Qd=e}static get __childrenNodeConstructor(){return Qd}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wt(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:wt.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Se(e)?this:Ee(e)===".priority"?this.priorityNode_:wt.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:wt.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Ee(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Q(r!==".priority"||Sr(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,wt.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ke(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Xm(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=Am(this.value_):e+=this.value_,this.lazyHash_=Dm(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wt.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wt.__childrenNodeConstructor?-1:(Q(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,s=wt.VALUE_TYPE_ORDER.indexOf(n),i=wt.VALUE_TYPE_ORDER.indexOf(r);return Q(s>=0,"Unknown leaf type: "+n),Q(i>=0,"Unknown leaf type: "+r),s===i?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}wt.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Zm,Jm;function nT(t){Zm=t}function rT(t){Jm=t}class sT extends dl{compare(e,n){const r=e.node.getPriority(),s=n.node.getPriority(),i=r.compareTo(s);return i===0?fs(e.name,n.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Te.MIN}maxPost(){return new Te(rs,new wt("[PRIORITY-POST]",Jm))}makePost(e,n){const r=Zm(e);return new Te(n,new wt("[PRIORITY-POST]",r))}toString(){return".priority"}}const nt=new sT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=Math.log(2);class oT{constructor(e){const n=i=>parseInt(Math.log(i)/iT,10),r=i=>parseInt(Array(i+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=r(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Aa=function(t,e,n,r){t.sort(e);const s=function(c,u){const f=u-c;let p,g;if(f===0)return null;if(f===1)return p=t[c],g=n?n(p):p,new bt(g,p.node,bt.BLACK,null,null);{const b=parseInt(f/2,10)+c,S=s(c,b),P=s(b+1,u);return p=t[b],g=n?n(p):p,new bt(g,p.node,bt.BLACK,S,P)}},i=function(c){let u=null,f=null,p=t.length;const g=function(S,P){const O=p-S,k=p;p-=S;const z=s(O+1,k),U=t[O],$=n?n(U):U;b(new bt($,U.node,P,null,z))},b=function(S){u?(u.left=S,u=S):(f=S,u=S)};for(let S=0;S<c.count;++S){const P=c.nextBitIsOne(),O=Math.pow(2,c.count-(S+1));P?g(O,bt.BLACK):(g(O,bt.BLACK),g(O,bt.RED))}return f},o=new oT(t.length),l=i(o);return new qt(r||e,l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uc;const Es={};class Vn{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return Q(Es&&nt,"ChildrenNode.ts has not been loaded"),uc=uc||new Vn({".priority":Es},{".priority":nt}),uc}get(e){const n=Ws(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof qt?n:null}hasIndex(e){return Ln(this.indexSet_,e.toString())}addIndex(e,n){Q(e!==Rs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let s=!1;const i=n.getIterator(Te.Wrap);let o=i.getNext();for(;o;)s=s||e.isDefinedOn(o.node),r.push(o),o=i.getNext();let l;s?l=Aa(r,e.getCompare()):l=Es;const c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;const f=Object.assign({},this.indexes_);return f[c]=l,new Vn(f,u)}addToIndexes(e,n){const r=Ta(this.indexes_,(s,i)=>{const o=Ws(this.indexSet_,i);if(Q(o,"Missing index implementation for "+i),s===Es)if(o.isDefinedOn(e.node)){const l=[],c=n.getIterator(Te.Wrap);let u=c.getNext();for(;u;)u.name!==e.name&&l.push(u),u=c.getNext();return l.push(e),Aa(l,o.getCompare())}else return Es;else{const l=n.get(e.name);let c=s;return l&&(c=c.remove(new Te(e.name,l))),c.insert(e,e.node)}});return new Vn(r,this.indexSet_)}removeFromIndexes(e,n){const r=Ta(this.indexes_,s=>{if(s===Es)return s;{const i=n.get(e.name);return i?s.remove(new Te(e.name,i)):s}});return new Vn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki;class ye{constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Qm(this.priorityNode_),this.children_.isEmpty()&&Q(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ki||(ki=new ye(new qt(Vu),null,Vn.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ki}updatePriority(e){return this.children_.isEmpty()?this:new ye(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?ki:n}}getChild(e){const n=Ee(e);return n===null?this:this.getImmediateChild(n).getChild(Ke(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(Q(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Te(e,n);let s,i;n.isEmpty()?(s=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(r,this.children_)):(s=this.children_.insert(e,n),i=this.indexMap_.addToIndexes(r,this.children_));const o=s.isEmpty()?ki:this.priorityNode_;return new ye(s,o,i)}}updateChild(e,n){const r=Ee(e);if(r===null)return n;{Q(Ee(e)!==".priority"||Sr(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(r).updateChild(Ke(e),n);return this.updateImmediateChild(r,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,s=0,i=!0;if(this.forEachChild(nt,(o,l)=>{n[o]=l.val(e),r++,i&&ye.INTEGER_REGEXP_.test(o)?s=Math.max(s,Number(o)):i=!1}),!e&&i&&s<2*r){const o=[];for(const l in n)o[l]=n[l];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Xm(this.getPriority().val())+":"),this.forEachChild(nt,(n,r)=>{const s=r.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":Dm(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const s=this.resolveIndex_(r);if(s){const i=s.getPredecessorKey(new Te(e,n));return i?i.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Te(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Te(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,Te.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)<0;)s.getNext(),i=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,Te.Wrap);let i=s.peek();for(;i!=null&&n.compare(i,e)>0;)s.getNext(),i=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Io?-1:0}withIndex(e){if(e===Rs||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new ye(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Rs||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(nt),s=n.getIterator(nt);let i=r.getNext(),o=s.getNext();for(;i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=r.getNext(),o=s.getNext()}return i===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===Rs?null:this.indexMap_.get(e.toString())}}ye.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class aT extends ye{constructor(){super(new qt(Vu),ye.EMPTY_NODE,Vn.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ye.EMPTY_NODE}isEmpty(){return!1}}const Io=new aT;Object.defineProperties(Te,{MIN:{value:new Te(zs,ye.EMPTY_NODE)},MAX:{value:new Te(rs,Io)}});qm.__EMPTY_NODE=ye.EMPTY_NODE;wt.__childrenNodeConstructor=ye;tT(Io);rT(Io);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=!0;function Ct(t,e=null){if(t===null)return ye.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),Q(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new wt(n,Ct(e))}if(!(t instanceof Array)&&lT){const n=[];let r=!1;if(kt(t,(o,l)=>{if(o.substring(0,1)!=="."){const c=Ct(l);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new Te(o,c)))}}),n.length===0)return ye.EMPTY_NODE;const i=Aa(n,eT,o=>o.name,Vu);if(r){const o=Aa(n,nt.getCompare());return new ye(i,Ct(e),new Vn({".priority":o},{".priority":nt}))}else return new ye(i,Ct(e),Vn.Default)}else{let n=ye.EMPTY_NODE;return kt(t,(r,s)=>{if(Ln(t,r)&&r.substring(0,1)!=="."){const i=Ct(s);(i.isLeafNode()||!i.isEmpty())&&(n=n.updateImmediateChild(r,i))}}),n.updatePriority(Ct(e))}}nT(Ct);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT extends dl{constructor(e){super(),this.indexPath_=e,Q(!Se(e)&&Ee(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),s=this.extractChild(n.node),i=r.compareTo(s);return i===0?fs(e.name,n.name):i}makePost(e,n){const r=Ct(e),s=ye.EMPTY_NODE.updateChild(this.indexPath_,r);return new Te(n,s)}maxPost(){const e=ye.EMPTY_NODE.updateChild(this.indexPath_,Io);return new Te(rs,e)}toString(){return co(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT extends dl{compare(e,n){const r=e.node.compareTo(n.node);return r===0?fs(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Te.MIN}maxPost(){return Te.MAX}makePost(e,n){const r=Ct(e);return new Te(n,r)}toString(){return".value"}}const hT=new uT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e_(t){return{type:"value",snapshotNode:t}}function Ks(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function uo(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ho(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function fT(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e){this.index_=e}updateChild(e,n,r,s,i,o){Q(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const l=e.getImmediateChild(n);return l.getChild(s).equals(r.getChild(s))&&l.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(uo(n,l)):Q(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):l.isEmpty()?o.trackChildChange(Ks(n,r)):o.trackChildChange(ho(n,r,l))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(nt,(s,i)=>{n.hasChild(s)||r.trackChildChange(uo(s,i))}),n.isLeafNode()||n.forEachChild(nt,(s,i)=>{if(e.hasChild(s)){const o=e.getImmediateChild(s);o.equals(i)||r.trackChildChange(ho(s,i,o))}else r.trackChildChange(Ks(s,i))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?ye.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e){this.indexedFilter_=new zu(e.getIndex()),this.index_=e.getIndex(),this.startPost_=fo.getStartPost_(e),this.endPost_=fo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,s,i,o){return this.matches(new Te(n,r))||(r=ye.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,s,i,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=ye.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(ye.EMPTY_NODE);const i=this;return n.forEachChild(nt,(o,l)=>{i.matches(new Te(o,l))||(s=s.updateImmediateChild(o,ye.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new fo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,s,i,o){return this.rangedFilter_.matches(new Te(n,r))||(r=ye.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,s,i,o):this.fullLimitUpdateChild_(e,n,r,i,o)}updateFullNode(e,n,r){let s;if(n.isLeafNode()||n.isEmpty())s=ye.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=ye.EMPTY_NODE.withIndex(this.index_);let i;this.reverse_?i=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):i=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;i.hasNext()&&o<this.limit_;){const l=i.getNext();if(this.withinDirectionalStart(l))if(this.withinDirectionalEnd(l))s=s.updateImmediateChild(l.name,l.node),o++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(ye.EMPTY_NODE);let i;this.reverse_?i=s.getReverseIterator(this.index_):i=s.getIterator(this.index_);let o=0;for(;i.hasNext();){const l=i.getNext();o<this.limit_&&this.withinDirectionalStart(l)&&this.withinDirectionalEnd(l)?o++:s=s.updateImmediateChild(l.name,ye.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,s,i){let o;if(this.reverse_){const p=this.index_.getCompare();o=(g,b)=>p(b,g)}else o=this.index_.getCompare();const l=e;Q(l.numChildren()===this.limit_,"");const c=new Te(n,r),u=this.reverse_?l.getFirstChild(this.index_):l.getLastChild(this.index_),f=this.rangedFilter_.matches(c);if(l.hasChild(n)){const p=l.getImmediateChild(n);let g=s.getChildAfterChild(this.index_,u,this.reverse_);for(;g!=null&&(g.name===n||l.hasChild(g.name));)g=s.getChildAfterChild(this.index_,g,this.reverse_);const b=g==null?1:o(g,c);if(f&&!r.isEmpty()&&b>=0)return i!=null&&i.trackChildChange(ho(n,r,p)),l.updateImmediateChild(n,r);{i!=null&&i.trackChildChange(uo(n,p));const P=l.updateImmediateChild(n,ye.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(i!=null&&i.trackChildChange(Ks(g.name,g.node)),P.updateImmediateChild(g.name,g.node)):P}}else return r.isEmpty()?e:f&&o(u,c)>=0?(i!=null&&(i.trackChildChange(uo(u.name,u.node)),i.trackChildChange(Ks(n,r))),l.updateImmediateChild(n,r).updateImmediateChild(u.name,ye.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ku{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=nt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Q(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Q(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:zs}hasEnd(){return this.endSet_}getIndexEndValue(){return Q(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Q(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:rs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Q(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===nt}copy(){const e=new Ku;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function pT(t){return t.loadsAllData()?new zu(t.getIndex()):t.hasLimit()?new dT(t):new fo(t)}function Zd(t){const e={};if(t.isDefault())return e;let n;if(t.index_===nt?n="$priority":t.index_===hT?n="$value":t.index_===Rs?n="$key":(Q(t.index_ instanceof cT,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Et(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Et(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Et(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Et(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Et(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function Jd(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==nt&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa extends Vm{constructor(e,n,r,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=s,this.log_=To("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(Q(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,s){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=Pa.getListenId_(e,r),l={};this.listens_[o]=l;const c=Zd(e._queryParams);this.restRequest_(i+".json",c,(u,f)=>{let p=f;if(u===404&&(p=null,u=null),u===null&&this.onDataUpdate_(i,p,!1,r),Ws(this.listens_,o)===l){let g;u?u===401?g="permission_denied":g="rest_error:"+u:g="ok",s(g,null)}})}unlisten(e,n){const r=Pa.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Zd(e._queryParams),r=e._path.toString(),s=new Co;return this.restRequest_(r+".json",n,(i,o)=>{let l=o;i===404&&(l=null,i=null),i===null?(this.onDataUpdate_(r,l,!1,null),s.resolve(l)):s.reject(new Error(l))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,i])=>{s&&s.accessToken&&(n.auth=s.accessToken),i&&i.token&&(n.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+z1(n);this.log_("Sending REST request for "+o);const l=new XMLHttpRequest;l.onreadystatechange=()=>{if(r&&l.readyState===4){this.log_("REST Response for "+o+" received. status:",l.status,"response:",l.responseText);let c=null;if(l.status>=200&&l.status<300){try{c=io(l.responseText)}catch{Wt("Failed to parse JSON response for "+o+": "+l.responseText)}r(null,c)}else l.status!==401&&l.status!==404&&Wt("Got unsuccessful REST response for "+o+" Status: "+l.status),r(l.status);r=null}},l.open("GET",o,!0),l.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(){this.rootNode_=ye.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ma(){return{value:null,children:new Map}}function t_(t,e,n){if(Se(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=Ee(e);t.children.has(r)||t.children.set(r,Ma());const s=t.children.get(r);e=Ke(e),t_(s,e,n)}}function Wc(t,e,n){t.value!==null?n(e,t.value):vT(t,(r,s)=>{const i=new je(e.toString()+"/"+r);Wc(s,i,n)})}function vT(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&kt(this.last_,(r,s)=>{n[r]=n[r]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=10*1e3,_T=30*1e3,yT=5*60*1e3;class wT{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new mT(e);const r=ep+(_T-ep)*Math.random();Gi(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;kt(e,(s,i)=>{i>0&&Ln(this.statsToReport_,s)&&(n[s]=i,r=!0)}),r&&this.server_.reportStats(n),Gi(this.reportStats_.bind(this),Math.floor(Math.random()*2*yT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wn;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(wn||(wn={}));function Gu(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function qu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Xu(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=wn.ACK_USER_WRITE,this.source=Gu()}operationForChild(e){if(Se(this.path)){if(this.affectedTree.value!=null)return Q(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new je(e));return new Oa($e(),n,this.revert)}}else return Q(Ee(this.path)===e,"operationForChild called for unrelated child."),new Oa(Ke(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e,n){this.source=e,this.path=n,this.type=wn.LISTEN_COMPLETE}operationForChild(e){return Se(this.path)?new po(this.source,$e()):new po(this.source,Ke(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=wn.OVERWRITE}operationForChild(e){return Se(this.path)?new ss(this.source,$e(),this.snap.getImmediateChild(e)):new ss(this.source,Ke(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=wn.MERGE}operationForChild(e){if(Se(this.path)){const n=this.children.subtree(new je(e));return n.isEmpty()?null:n.value?new ss(this.source,$e(),n.value):new Gs(this.source,$e(),n)}else return Q(Ee(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Gs(this.source,Ke(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Se(e))return this.isFullyInitialized()&&!this.filtered_;const n=Ee(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function CT(t,e,n,r){const s=[],i=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&i.push(fT(o.childName,o.snapshotNode))}),xi(t,s,"child_removed",e,r,n),xi(t,s,"child_added",e,r,n),xi(t,s,"child_moved",i,r,n),xi(t,s,"child_changed",e,r,n),xi(t,s,"value",e,r,n),s}function xi(t,e,n,r,s,i){const o=r.filter(l=>l.type===n);o.sort((l,c)=>TT(t,l,c)),o.forEach(l=>{const c=ET(t,l,i);s.forEach(u=>{u.respondsTo(l.type)&&e.push(u.createEvent(c,t.query_))})})}function ET(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function TT(t,e,n){if(e.childName==null||n.childName==null)throw ai("Should only compare child_ events.");const r=new Te(e.childName,e.snapshotNode),s=new Te(n.childName,n.snapshotNode);return t.index_.compare(r,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pl(t,e){return{eventCache:t,serverCache:e}}function qi(t,e,n,r){return pl(new is(e,n,r),t.serverCache)}function n_(t,e,n,r){return pl(t.eventCache,new is(e,n,r))}function Vc(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function os(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hc;const IT=()=>(hc||(hc=new qt(cE)),hc);class ze{constructor(e,n=IT()){this.value=e,this.children=n}static fromObject(e){let n=new ze(null);return kt(e,(r,s)=>{n=n.set(new je(r),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:$e(),value:this.value};if(Se(e))return null;{const r=Ee(e),s=this.children.get(r);if(s!==null){const i=s.findRootMostMatchingPathAndValue(Ke(e),n);return i!=null?{path:tt(new je(r),i.path),value:i.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Se(e))return this;{const n=Ee(e),r=this.children.get(n);return r!==null?r.subtree(Ke(e)):new ze(null)}}set(e,n){if(Se(e))return new ze(n,this.children);{const r=Ee(e),i=(this.children.get(r)||new ze(null)).set(Ke(e),n),o=this.children.insert(r,i);return new ze(this.value,o)}}remove(e){if(Se(e))return this.children.isEmpty()?new ze(null):new ze(null,this.children);{const n=Ee(e),r=this.children.get(n);if(r){const s=r.remove(Ke(e));let i;return s.isEmpty()?i=this.children.remove(n):i=this.children.insert(n,s),this.value===null&&i.isEmpty()?new ze(null):new ze(this.value,i)}else return this}}get(e){if(Se(e))return this.value;{const n=Ee(e),r=this.children.get(n);return r?r.get(Ke(e)):null}}setTree(e,n){if(Se(e))return n;{const r=Ee(e),i=(this.children.get(r)||new ze(null)).setTree(Ke(e),n);let o;return i.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,i),new ze(this.value,o)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((s,i)=>{r[s]=i.fold_(tt(e,s),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const s=this.value?r(n,this.value):!1;if(s)return s;if(Se(e))return null;{const i=Ee(e),o=this.children.get(i);return o?o.findOnPath_(Ke(e),tt(n,i),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(Se(e))return this;{this.value&&r(n,this.value);const s=Ee(e),i=this.children.get(s);return i?i.foreachOnPath_(Ke(e),tt(n,s),r):new ze(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,s)=>{s.foreach_(tt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.writeTree_=e}static empty(){return new bn(new ze(null))}}function Xi(t,e,n){if(Se(e))return new bn(new ze(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const s=r.path;let i=r.value;const o=Gt(s,e);return i=i.updateChild(o,n),new bn(t.writeTree_.set(s,i))}else{const s=new ze(n),i=t.writeTree_.setTree(e,s);return new bn(i)}}}function zc(t,e,n){let r=t;return kt(n,(s,i)=>{r=Xi(r,tt(e,s),i)}),r}function tp(t,e){if(Se(e))return bn.empty();{const n=t.writeTree_.setTree(e,new ze(null));return new bn(n)}}function Kc(t,e){return ds(t,e)!=null}function ds(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(Gt(n.path,e)):null}function np(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(nt,(r,s)=>{e.push(new Te(r,s))}):t.writeTree_.children.inorderTraversal((r,s)=>{s.value!=null&&e.push(new Te(r,s.value))}),e}function Tr(t,e){if(Se(e))return t;{const n=ds(t,e);return n!=null?new bn(new ze(n)):new bn(t.writeTree_.subtree(e))}}function Gc(t){return t.writeTree_.isEmpty()}function qs(t,e){return r_($e(),t.writeTree_,e)}function r_(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((s,i)=>{s===".priority"?(Q(i.value!==null,"Priority writes must always be leaf nodes"),r=i.value):n=r_(tt(t,s),i,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(tt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qu(t,e){return a_(e,t)}function DT(t,e,n,r,s){Q(r>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:s}),s&&(t.visibleWrites=Xi(t.visibleWrites,e,n)),t.lastWriteId=r}function ST(t,e,n,r){Q(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=zc(t.visibleWrites,e,n),t.lastWriteId=r}function AT(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function PT(t,e){const n=t.allWrites.findIndex(l=>l.writeId===e);Q(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let s=r.visible,i=!1,o=t.allWrites.length-1;for(;s&&o>=0;){const l=t.allWrites[o];l.visible&&(o>=n&&MT(l,r.path)?s=!1:ln(r.path,l.path)&&(i=!0)),o--}if(s){if(i)return OT(t),!0;if(r.snap)t.visibleWrites=tp(t.visibleWrites,r.path);else{const l=r.children;kt(l,c=>{t.visibleWrites=tp(t.visibleWrites,tt(r.path,c))})}return!0}else return!1}function MT(t,e){if(t.snap)return ln(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ln(tt(t.path,n),e))return!0;return!1}function OT(t){t.visibleWrites=s_(t.allWrites,kT,$e()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function kT(t){return t.visible}function s_(t,e,n){let r=bn.empty();for(let s=0;s<t.length;++s){const i=t[s];if(e(i)){const o=i.path;let l;if(i.snap)ln(n,o)?(l=Gt(n,o),r=Xi(r,l,i.snap)):ln(o,n)&&(l=Gt(o,n),r=Xi(r,$e(),i.snap.getChild(l)));else if(i.children){if(ln(n,o))l=Gt(n,o),r=zc(r,l,i.children);else if(ln(o,n))if(l=Gt(o,n),Se(l))r=zc(r,$e(),i.children);else{const c=Ws(i.children,Ee(l));if(c){const u=c.getChild(Ke(l));r=Xi(r,$e(),u)}}}else throw ai("WriteRecord should have .snap or .children")}}return r}function i_(t,e,n,r,s){if(!r&&!s){const i=ds(t.visibleWrites,e);if(i!=null)return i;{const o=Tr(t.visibleWrites,e);if(Gc(o))return n;if(n==null&&!Kc(o,$e()))return null;{const l=n||ye.EMPTY_NODE;return qs(o,l)}}}else{const i=Tr(t.visibleWrites,e);if(!s&&Gc(i))return n;if(!s&&n==null&&!Kc(i,$e()))return null;{const o=function(u){return(u.visible||s)&&(!r||!~r.indexOf(u.writeId))&&(ln(u.path,e)||ln(e,u.path))},l=s_(t.allWrites,o,e),c=n||ye.EMPTY_NODE;return qs(l,c)}}}function xT(t,e,n){let r=ye.EMPTY_NODE;const s=ds(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(nt,(i,o)=>{r=r.updateImmediateChild(i,o)}),r;if(n){const i=Tr(t.visibleWrites,e);return n.forEachChild(nt,(o,l)=>{const c=qs(Tr(i,new je(o)),l);r=r.updateImmediateChild(o,c)}),np(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const i=Tr(t.visibleWrites,e);return np(i).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function RT(t,e,n,r,s){Q(r||s,"Either existingEventSnap or existingServerSnap must exist");const i=tt(e,n);if(Kc(t.visibleWrites,i))return null;{const o=Tr(t.visibleWrites,i);return Gc(o)?s.getChild(n):qs(o,s.getChild(n))}}function NT(t,e,n,r){const s=tt(e,n),i=ds(t.visibleWrites,s);if(i!=null)return i;if(r.isCompleteForChild(n)){const o=Tr(t.visibleWrites,s);return qs(o,r.getNode().getImmediateChild(n))}else return null}function $T(t,e){return ds(t.visibleWrites,e)}function LT(t,e,n,r,s,i,o){let l;const c=Tr(t.visibleWrites,e),u=ds(c,$e());if(u!=null)l=u;else if(n!=null)l=qs(c,n);else return[];if(l=l.withIndex(o),!l.isEmpty()&&!l.isLeafNode()){const f=[],p=o.getCompare(),g=i?l.getReverseIteratorFrom(r,o):l.getIteratorFrom(r,o);let b=g.getNext();for(;b&&f.length<s;)p(b,r)!==0&&f.push(b),b=g.getNext();return f}else return[]}function FT(){return{visibleWrites:bn.empty(),allWrites:[],lastWriteId:-1}}function ka(t,e,n,r){return i_(t.writeTree,t.treePath,e,n,r)}function Zu(t,e){return xT(t.writeTree,t.treePath,e)}function rp(t,e,n,r){return RT(t.writeTree,t.treePath,e,n,r)}function xa(t,e){return $T(t.writeTree,tt(t.treePath,e))}function YT(t,e,n,r,s,i){return LT(t.writeTree,t.treePath,e,n,r,s,i)}function Ju(t,e,n){return NT(t.writeTree,t.treePath,e,n)}function o_(t,e){return a_(tt(t.treePath,e),t.writeTree)}function a_(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;Q(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Q(r!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(r);if(s){const i=s.type;if(n==="child_added"&&i==="child_removed")this.changeMap.set(r,ho(r,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&i==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&i==="child_changed")this.changeMap.set(r,uo(r,s.oldSnap));else if(n==="child_changed"&&i==="child_added")this.changeMap.set(r,Ks(r,e.snapshotNode));else if(n==="child_changed"&&i==="child_changed")this.changeMap.set(r,ho(r,e.snapshotNode,s.oldSnap));else throw ai("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jT{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const l_=new jT;class eh{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new is(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ju(this.writes_,e,r)}}getChildAfterChild(e,n,r){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:os(this.viewCache_),i=YT(this.writes_,s,n,1,r,e);return i.length===0?null:i[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BT(t){return{filter:t}}function UT(t,e){Q(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),Q(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function WT(t,e,n,r,s){const i=new HT;let o,l;if(n.type===wn.OVERWRITE){const u=n;u.source.fromUser?o=qc(t,e,u.path,u.snap,r,s,i):(Q(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered()&&!Se(u.path),o=Ra(t,e,u.path,u.snap,r,s,l,i))}else if(n.type===wn.MERGE){const u=n;u.source.fromUser?o=zT(t,e,u.path,u.children,r,s,i):(Q(u.source.fromServer,"Unknown source."),l=u.source.tagged||e.serverCache.isFiltered(),o=Xc(t,e,u.path,u.children,r,s,l,i))}else if(n.type===wn.ACK_USER_WRITE){const u=n;u.revert?o=qT(t,e,u.path,r,s,i):o=KT(t,e,u.path,u.affectedTree,r,s,i)}else if(n.type===wn.LISTEN_COMPLETE)o=GT(t,e,n.path,r,i);else throw ai("Unknown operation type: "+n.type);const c=i.getChanges();return VT(e,o,c),{viewCache:o,changes:c}}function VT(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const s=r.getNode().isLeafNode()||r.getNode().isEmpty(),i=Vc(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!r.getNode().equals(i)||!r.getNode().getPriority().equals(i.getPriority()))&&n.push(e_(Vc(e)))}}function c_(t,e,n,r,s,i){const o=e.eventCache;if(xa(r,n)!=null)return e;{let l,c;if(Se(n))if(Q(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=os(e),f=u instanceof ye?u:ye.EMPTY_NODE,p=Zu(r,f);l=t.filter.updateFullNode(e.eventCache.getNode(),p,i)}else{const u=ka(r,os(e));l=t.filter.updateFullNode(e.eventCache.getNode(),u,i)}else{const u=Ee(n);if(u===".priority"){Q(Sr(n)===1,"Can't have a priority with additional path components");const f=o.getNode();c=e.serverCache.getNode();const p=rp(r,n,f,c);p!=null?l=t.filter.updatePriority(f,p):l=o.getNode()}else{const f=Ke(n);let p;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();const g=rp(r,n,o.getNode(),c);g!=null?p=o.getNode().getImmediateChild(u).updateChild(f,g):p=o.getNode().getImmediateChild(u)}else p=Ju(r,u,e.serverCache);p!=null?l=t.filter.updateChild(o.getNode(),u,p,f,s,i):l=o.getNode()}}return qi(e,l,o.isFullyInitialized()||Se(n),t.filter.filtersNodes())}}function Ra(t,e,n,r,s,i,o,l){const c=e.serverCache;let u;const f=o?t.filter:t.filter.getIndexedFilter();if(Se(n))u=f.updateFullNode(c.getNode(),r,null);else if(f.filtersNodes()&&!c.isFiltered()){const b=c.getNode().updateChild(n,r);u=f.updateFullNode(c.getNode(),b,null)}else{const b=Ee(n);if(!c.isCompleteForPath(n)&&Sr(n)>1)return e;const S=Ke(n),O=c.getNode().getImmediateChild(b).updateChild(S,r);b===".priority"?u=f.updatePriority(c.getNode(),O):u=f.updateChild(c.getNode(),b,O,S,l_,null)}const p=n_(e,u,c.isFullyInitialized()||Se(n),f.filtersNodes()),g=new eh(s,p,i);return c_(t,p,n,s,g,l)}function qc(t,e,n,r,s,i,o){const l=e.eventCache;let c,u;const f=new eh(s,e,i);if(Se(n))u=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=qi(e,u,!0,t.filter.filtersNodes());else{const p=Ee(n);if(p===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),r),c=qi(e,u,l.isFullyInitialized(),l.isFiltered());else{const g=Ke(n),b=l.getNode().getImmediateChild(p);let S;if(Se(g))S=r;else{const P=f.getCompleteChild(p);P!=null?Bu(g)===".priority"&&P.getChild(Km(g)).isEmpty()?S=P:S=P.updateChild(g,r):S=ye.EMPTY_NODE}if(b.equals(S))c=e;else{const P=t.filter.updateChild(l.getNode(),p,S,g,f,o);c=qi(e,P,l.isFullyInitialized(),t.filter.filtersNodes())}}}return c}function sp(t,e){return t.eventCache.isCompleteForChild(e)}function zT(t,e,n,r,s,i,o){let l=e;return r.foreach((c,u)=>{const f=tt(n,c);sp(e,Ee(f))&&(l=qc(t,l,f,u,s,i,o))}),r.foreach((c,u)=>{const f=tt(n,c);sp(e,Ee(f))||(l=qc(t,l,f,u,s,i,o))}),l}function ip(t,e,n){return n.foreach((r,s)=>{e=e.updateChild(r,s)}),e}function Xc(t,e,n,r,s,i,o,l){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;Se(n)?u=r:u=new ze(null).setTree(n,r);const f=e.serverCache.getNode();return u.children.inorderTraversal((p,g)=>{if(f.hasChild(p)){const b=e.serverCache.getNode().getImmediateChild(p),S=ip(t,b,g);c=Ra(t,c,new je(p),S,s,i,o,l)}}),u.children.inorderTraversal((p,g)=>{const b=!e.serverCache.isCompleteForChild(p)&&g.value===null;if(!f.hasChild(p)&&!b){const S=e.serverCache.getNode().getImmediateChild(p),P=ip(t,S,g);c=Ra(t,c,new je(p),P,s,i,o,l)}}),c}function KT(t,e,n,r,s,i,o){if(xa(s,n)!=null)return e;const l=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(Se(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return Ra(t,e,n,c.getNode().getChild(n),s,i,l,o);if(Se(n)){let u=new ze(null);return c.getNode().forEachChild(Rs,(f,p)=>{u=u.set(new je(f),p)}),Xc(t,e,n,u,s,i,l,o)}else return e}else{let u=new ze(null);return r.foreach((f,p)=>{const g=tt(n,f);c.isCompleteForPath(g)&&(u=u.set(f,c.getNode().getChild(g)))}),Xc(t,e,n,u,s,i,l,o)}}function GT(t,e,n,r,s){const i=e.serverCache,o=n_(e,i.getNode(),i.isFullyInitialized()||Se(n),i.isFiltered());return c_(t,o,n,r,l_,s)}function qT(t,e,n,r,s,i){let o;if(xa(r,n)!=null)return e;{const l=new eh(r,e,s),c=e.eventCache.getNode();let u;if(Se(n)||Ee(n)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=ka(r,os(e));else{const p=e.serverCache.getNode();Q(p instanceof ye,"serverChildren would be complete if leaf node"),f=Zu(r,p)}f=f,u=t.filter.updateFullNode(c,f,i)}else{const f=Ee(n);let p=Ju(r,f,e.serverCache);p==null&&e.serverCache.isCompleteForChild(f)&&(p=c.getImmediateChild(f)),p!=null?u=t.filter.updateChild(c,f,p,Ke(n),l,i):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(c,f,ye.EMPTY_NODE,Ke(n),l,i):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=ka(r,os(e)),o.isLeafNode()&&(u=t.filter.updateFullNode(u,o,i)))}return o=e.serverCache.isFullyInitialized()||xa(r,$e())!=null,qi(e,u,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,s=new zu(r.getIndex()),i=pT(r);this.processor_=BT(i);const o=n.serverCache,l=n.eventCache,c=s.updateFullNode(ye.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(ye.EMPTY_NODE,l.getNode(),null),f=new is(c,o.isFullyInitialized(),s.filtersNodes()),p=new is(u,l.isFullyInitialized(),i.filtersNodes());this.viewCache_=pl(p,f),this.eventGenerator_=new bT(this.query_)}get query(){return this.query_}}function QT(t){return t.viewCache_.serverCache.getNode()}function ZT(t,e){const n=os(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Se(e)&&!n.getImmediateChild(Ee(e)).isEmpty())?n.getChild(e):null}function op(t){return t.eventRegistrations_.length===0}function JT(t,e){t.eventRegistrations_.push(e)}function ap(t,e,n){const r=[];if(n){Q(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(i=>{const o=i.createCancelEvent(n,s);o&&r.push(o)})}if(e){let s=[];for(let i=0;i<t.eventRegistrations_.length;++i){const o=t.eventRegistrations_[i];if(!o.matches(e))s.push(o);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(i+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return r}function lp(t,e,n,r){e.type===wn.MERGE&&e.source.queryId!==null&&(Q(os(t.viewCache_),"We should always have a full cache before handling merges"),Q(Vc(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,i=WT(t.processor_,s,e,n,r);return UT(t.processor_,i.viewCache),Q(i.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=i.viewCache,u_(t,i.changes,i.viewCache.eventCache.getNode(),null)}function eI(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(nt,(i,o)=>{r.push(Ks(i,o))}),n.isFullyInitialized()&&r.push(e_(n.getNode())),u_(t,r,n.getNode(),e)}function u_(t,e,n,r){const s=r?[r]:t.eventRegistrations_;return CT(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Na;class tI{constructor(){this.views=new Map}}function nI(t){Q(!Na,"__referenceConstructor has already been defined"),Na=t}function rI(){return Q(Na,"Reference.ts has not been loaded"),Na}function sI(t){return t.views.size===0}function th(t,e,n,r){const s=e.source.queryId;if(s!==null){const i=t.views.get(s);return Q(i!=null,"SyncTree gave us an op for an invalid query."),lp(i,e,n,r)}else{let i=[];for(const o of t.views.values())i=i.concat(lp(o,e,n,r));return i}}function iI(t,e,n,r,s){const i=e._queryIdentifier,o=t.views.get(i);if(!o){let l=ka(n,s?r:null),c=!1;l?c=!0:r instanceof ye?(l=Zu(n,r),c=!1):(l=ye.EMPTY_NODE,c=!1);const u=pl(new is(l,c,!1),new is(r,s,!1));return new XT(e,u)}return o}function oI(t,e,n,r,s,i){const o=iI(t,e,r,s,i);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),JT(o,n),eI(o,n)}function aI(t,e,n,r){const s=e._queryIdentifier,i=[];let o=[];const l=Ar(t);if(s==="default")for(const[c,u]of t.views.entries())o=o.concat(ap(u,n,r)),op(u)&&(t.views.delete(c),u.query._queryParams.loadsAllData()||i.push(u.query));else{const c=t.views.get(s);c&&(o=o.concat(ap(c,n,r)),op(c)&&(t.views.delete(s),c.query._queryParams.loadsAllData()||i.push(c.query)))}return l&&!Ar(t)&&i.push(new(rI())(e._repo,e._path)),{removed:i,events:o}}function h_(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Ns(t,e){let n=null;for(const r of t.views.values())n=n||ZT(r,e);return n}function f_(t,e){if(e._queryParams.loadsAllData())return gl(t);{const r=e._queryIdentifier;return t.views.get(r)}}function d_(t,e){return f_(t,e)!=null}function Ar(t){return gl(t)!=null}function gl(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $a;function lI(t){Q(!$a,"__referenceConstructor has already been defined"),$a=t}function cI(){return Q($a,"Reference.ts has not been loaded"),$a}let uI=1;class cp{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ze(null),this.pendingWriteTree_=FT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function p_(t,e,n,r,s){return DT(t.pendingWriteTree_,e,n,r,s),s?hi(t,new ss(Gu(),e,n)):[]}function hI(t,e,n,r){ST(t.pendingWriteTree_,e,n,r);const s=ze.fromObject(n);return hi(t,new Gs(Gu(),e,s))}function _r(t,e,n=!1){const r=AT(t.pendingWriteTree_,e);if(PT(t.pendingWriteTree_,e)){let i=new ze(null);return r.snap!=null?i=i.set($e(),!0):kt(r.children,o=>{i=i.set(new je(o),!0)}),hi(t,new Oa(r.path,i,n))}else return[]}function vl(t,e,n){return hi(t,new ss(qu(),e,n))}function fI(t,e,n){const r=ze.fromObject(n);return hi(t,new Gs(qu(),e,r))}function dI(t,e){return hi(t,new po(qu(),e))}function pI(t,e,n){const r=rh(t,n);if(r){const s=sh(r),i=s.path,o=s.queryId,l=Gt(i,e),c=new po(Xu(o),l);return ih(t,i,c)}else return[]}function Qc(t,e,n,r,s=!1){const i=e._path,o=t.syncPointTree_.get(i);let l=[];if(o&&(e._queryIdentifier==="default"||d_(o,e))){const c=aI(o,e,n,r);sI(o)&&(t.syncPointTree_=t.syncPointTree_.remove(i));const u=c.removed;if(l=c.events,!s){const f=u.findIndex(g=>g._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(i,(g,b)=>Ar(b));if(f&&!p){const g=t.syncPointTree_.subtree(i);if(!g.isEmpty()){const b=mI(g);for(let S=0;S<b.length;++S){const P=b[S],O=P.query,k=m_(t,P);t.listenProvider_.startListening(Qi(O),La(t,O),k.hashFn,k.onComplete)}}}!p&&u.length>0&&!r&&(f?t.listenProvider_.stopListening(Qi(e),null):u.forEach(g=>{const b=t.queryToTagMap.get(ml(g));t.listenProvider_.stopListening(Qi(g),b)}))}_I(t,u)}return l}function gI(t,e,n,r){const s=rh(t,r);if(s!=null){const i=sh(s),o=i.path,l=i.queryId,c=Gt(o,e),u=new ss(Xu(l),c,n);return ih(t,o,u)}else return[]}function vI(t,e,n,r){const s=rh(t,r);if(s){const i=sh(s),o=i.path,l=i.queryId,c=Gt(o,e),u=ze.fromObject(n),f=new Gs(Xu(l),c,u);return ih(t,o,f)}else return[]}function up(t,e,n,r=!1){const s=e._path;let i=null,o=!1;t.syncPointTree_.foreachOnPath(s,(g,b)=>{const S=Gt(g,s);i=i||Ns(b,S),o=o||Ar(b)});let l=t.syncPointTree_.get(s);l?(o=o||Ar(l),i=i||Ns(l,$e())):(l=new tI,t.syncPointTree_=t.syncPointTree_.set(s,l));let c;i!=null?c=!0:(c=!1,i=ye.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((b,S)=>{const P=Ns(S,$e());P&&(i=i.updateImmediateChild(b,P))}));const u=d_(l,e);if(!u&&!e._queryParams.loadsAllData()){const g=ml(e);Q(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const b=yI();t.queryToTagMap.set(g,b),t.tagToQueryMap.set(b,g)}const f=Qu(t.pendingWriteTree_,s);let p=oI(l,e,n,f,i,c);if(!u&&!o&&!r){const g=f_(l,e);p=p.concat(wI(t,e,g))}return p}function nh(t,e,n){const s=t.pendingWriteTree_,i=t.syncPointTree_.findOnPath(e,(o,l)=>{const c=Gt(o,e),u=Ns(l,c);if(u)return u});return i_(s,e,i,n,!0)}function hi(t,e){return g_(e,t.syncPointTree_,null,Qu(t.pendingWriteTree_,$e()))}function g_(t,e,n,r){if(Se(t.path))return v_(t,e,n,r);{const s=e.get($e());n==null&&s!=null&&(n=Ns(s,$e()));let i=[];const o=Ee(t.path),l=t.operationForChild(o),c=e.children.get(o);if(c&&l){const u=n?n.getImmediateChild(o):null,f=o_(r,o);i=i.concat(g_(l,c,u,f))}return s&&(i=i.concat(th(s,t,r,n))),i}}function v_(t,e,n,r){const s=e.get($e());n==null&&s!=null&&(n=Ns(s,$e()));let i=[];return e.children.inorderTraversal((o,l)=>{const c=n?n.getImmediateChild(o):null,u=o_(r,o),f=t.operationForChild(o);f&&(i=i.concat(v_(f,l,c,u)))}),s&&(i=i.concat(th(s,t,r,n))),i}function m_(t,e){const n=e.query,r=La(t,n);return{hashFn:()=>(QT(e)||ye.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return r?pI(t,n._path,r):dI(t,n._path);{const i=fE(s,n);return Qc(t,n,null,i)}}}}function La(t,e){const n=ml(e);return t.queryToTagMap.get(n)}function ml(t){return t._path.toString()+"$"+t._queryIdentifier}function rh(t,e){return t.tagToQueryMap.get(e)}function sh(t){const e=t.indexOf("$");return Q(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new je(t.substr(0,e))}}function ih(t,e,n){const r=t.syncPointTree_.get(e);Q(r,"Missing sync point for query tag that we're tracking");const s=Qu(t.pendingWriteTree_,e);return th(r,n,s,null)}function mI(t){return t.fold((e,n,r)=>{if(n&&Ar(n))return[gl(n)];{let s=[];return n&&(s=h_(n)),kt(r,(i,o)=>{s=s.concat(o)}),s}})}function Qi(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(cI())(t._repo,t._path):t}function _I(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const s=ml(r),i=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(i)}}}function yI(){return uI++}function wI(t,e,n){const r=e._path,s=La(t,e),i=m_(t,n),o=t.listenProvider_.startListening(Qi(e),s,i.hashFn,i.onComplete),l=t.syncPointTree_.subtree(r);if(s)Q(!Ar(l.value),"If we're adding a query, it shouldn't be shadowed");else{const c=l.fold((u,f,p)=>{if(!Se(u)&&f&&Ar(f))return[gl(f).query];{let g=[];return f&&(g=g.concat(h_(f).map(b=>b.query))),kt(p,(b,S)=>{g=g.concat(S)}),g}});for(let u=0;u<c.length;++u){const f=c[u];t.listenProvider_.stopListening(Qi(f),La(t,f))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oh{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new oh(n)}node(){return this.node_}}class ah{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=tt(this.path_,e);return new ah(this.syncTree_,n)}node(){return nh(this.syncTree_,this.path_)}}const bI=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},hp=function(t,e,n){if(!t||typeof t!="object")return t;if(Q(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return CI(t[".sv"],e,n);if(typeof t[".sv"]=="object")return EI(t[".sv"],e);Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},CI=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:Q(!1,"Unexpected server value: "+t)}},EI=function(t,e,n){t.hasOwnProperty("increment")||Q(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&Q(!1,"Unexpected increment value: "+r);const s=e.node();if(Q(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return r;const o=s.getValue();return typeof o!="number"?r:o+r},__=function(t,e,n,r){return lh(e,new ah(n,t),r)},y_=function(t,e,n){return lh(t,new oh(e),n)};function lh(t,e,n){const r=t.getPriority().val(),s=hp(r,e.getImmediateChild(".priority"),n);let i;if(t.isLeafNode()){const o=t,l=hp(o.getValue(),e,n);return l!==o.getValue()||s!==o.getPriority().val()?new wt(l,Ct(s)):t}else{const o=t;return i=o,s!==o.getPriority().val()&&(i=i.updatePriority(new wt(s))),o.forEachChild(nt,(l,c)=>{const u=lh(c,e.getImmediateChild(l),n);u!==c&&(i=i.updateImmediateChild(l,u))}),i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function uh(t,e){let n=e instanceof je?e:new je(e),r=t,s=Ee(n);for(;s!==null;){const i=Ws(r.node.children,s)||{children:{},childCount:0};r=new ch(s,r,i),n=Ke(n),s=Ee(n)}return r}function fi(t){return t.node.value}function w_(t,e){t.node.value=e,Zc(t)}function b_(t){return t.node.childCount>0}function TI(t){return fi(t)===void 0&&!b_(t)}function _l(t,e){kt(t.node.children,(n,r)=>{e(new ch(n,t,r))})}function C_(t,e,n,r){n&&!r&&e(t),_l(t,s=>{C_(s,e,!0,r)}),n&&r&&e(t)}function II(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Do(t){return new je(t.parent===null?t.name:Do(t.parent)+"/"+t.name)}function Zc(t){t.parent!==null&&DI(t.parent,t.name,t)}function DI(t,e,n){const r=TI(n),s=Ln(t.node.children,e);r&&s?(delete t.node.children[e],t.node.childCount--,Zc(t)):!r&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Zc(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SI=/[\[\].#$\/\u0000-\u001F\u007F]/,AI=/[\[\].#$\u0000-\u001F\u007F]/,fc=10*1024*1024,hh=function(t){return typeof t=="string"&&t.length!==0&&!SI.test(t)},E_=function(t){return typeof t=="string"&&t.length!==0&&!AI.test(t)},PI=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),E_(t)},MI=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!Lu(t)||t&&typeof t=="object"&&Ln(t,".sv")},T_=function(t,e,n,r){r&&e===void 0||yl(hl(t,"value"),e,n)},yl=function(t,e,n){const r=n instanceof je?new zE(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Kr(r));if(typeof e=="function")throw new Error(t+"contains a function "+Kr(r)+" with contents = "+e.toString());if(Lu(e))throw new Error(t+"contains "+e.toString()+" "+Kr(r));if(typeof e=="string"&&e.length>fc/3&&fl(e)>fc)throw new Error(t+"contains a string greater than "+fc+" utf8 bytes "+Kr(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,i=!1;if(kt(e,(o,l)=>{if(o===".value")s=!0;else if(o!==".priority"&&o!==".sv"&&(i=!0,!hh(o)))throw new Error(t+" contains an invalid key ("+o+") "+Kr(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KE(r,o),yl(t,l,r),GE(r)}),s&&i)throw new Error(t+' contains ".value" child '+Kr(r)+" in addition to actual children.")}},OI=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const i=co(r);for(let o=0;o<i.length;o++)if(!(i[o]===".priority"&&o===i.length-1)){if(!hh(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(VE);let s=null;for(n=0;n<e.length;n++){if(r=e[n],s!==null&&ln(s,r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}},kI=function(t,e,n,r){const s=hl(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(s+" must be an object containing the children to replace.");const i=[];kt(e,(o,l)=>{const c=new je(o);if(yl(s,l,tt(n,c)),Bu(c)===".priority"&&!MI(l))throw new Error(s+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");i.push(c)}),OI(s,i)},I_=function(t,e,n,r){if(!E_(n))throw new Error(hl(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},xI=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),I_(t,e,n)},fh=function(t,e){if(Ee(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},RI=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!hh(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!PI(n))throw new Error(hl(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function wl(t,e){let n=null;for(let r=0;r<e.length;r++){const s=e[r],i=s.getPath();n!==null&&!Uu(i,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:i}),n.events.push(s)}n&&t.eventLists_.push(n)}function D_(t,e,n){wl(t,n),S_(t,r=>Uu(r,e))}function En(t,e,n){wl(t,n),S_(t,r=>ln(r,e)||ln(e,r))}function S_(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const s=t.eventLists_[r];if(s){const i=s.path;e(i)?($I(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function $I(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Ki&&Mt("event: "+n.toString()),ui(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LI="repo_interrupt",FI=25;class YI{constructor(e,n,r,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new NI,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ma(),this.transactionQueueTree_=new ch,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function HI(t,e,n){if(t.stats_=Hu(t.repoInfo_),t.forceRestClient_||vE())t.server_=new Pa(t.repoInfo_,(r,s,i,o)=>{fp(t,r,s,i,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>dp(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Et(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new qn(t.repoInfo_,e,(r,s,i,o)=>{fp(t,r,s,i,o)},r=>{dp(t,r)},r=>{jI(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=bE(t.repoInfo_,()=>new wT(t.stats_,t.server_)),t.infoData_=new gT,t.infoSyncTree_=new cp({startListening:(r,s,i,o)=>{let l=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(l=vl(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),l},stopListening:()=>{}}),dh(t,"connected",!1),t.serverSyncTree_=new cp({startListening:(r,s,i,o)=>(t.server_.listen(r,i,s,(l,c)=>{const u=o(l,c);En(t.eventQueue_,r._path,u)}),[]),stopListening:(r,s)=>{t.server_.unlisten(r,s)}})}function A_(t){const n=t.infoData_.getNode(new je(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function bl(t){return bI({timestamp:A_(t)})}function fp(t,e,n,r,s){t.dataUpdateCount++;const i=new je(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(s)if(r){const c=Ta(n,u=>Ct(u));o=vI(t.serverSyncTree_,i,c,s)}else{const c=Ct(n);o=gI(t.serverSyncTree_,i,c,s)}else if(r){const c=Ta(n,u=>Ct(u));o=fI(t.serverSyncTree_,i,c)}else{const c=Ct(n);o=vl(t.serverSyncTree_,i,c)}let l=i;o.length>0&&(l=Xs(t,i)),En(t.eventQueue_,l,o)}function dp(t,e){dh(t,"connected",e),e===!1&&WI(t)}function jI(t,e){kt(e,(n,r)=>{dh(t,n,r)})}function dh(t,e,n){const r=new je("/.info/"+e),s=Ct(n);t.infoData_.updateSnapshot(r,s);const i=vl(t.infoSyncTree_,r,s);En(t.eventQueue_,r,i)}function ph(t){return t.nextWriteId_++}function BI(t,e,n,r,s){Cl(t,"set",{path:e.toString(),value:n,priority:r});const i=bl(t),o=Ct(n,r),l=nh(t.serverSyncTree_,e),c=y_(o,l,i),u=ph(t),f=p_(t.serverSyncTree_,e,c,u,!0);wl(t.eventQueue_,f),t.server_.put(e.toString(),o.val(!0),(g,b)=>{const S=g==="ok";S||Wt("set at "+e+" failed: "+g);const P=_r(t.serverSyncTree_,u,!S);En(t.eventQueue_,e,P),Jc(t,s,g,b)});const p=vh(t,e);Xs(t,p),En(t.eventQueue_,p,[])}function UI(t,e,n,r){Cl(t,"update",{path:e.toString(),value:n});let s=!0;const i=bl(t),o={};if(kt(n,(l,c)=>{s=!1,o[l]=__(tt(e,l),Ct(c),t.serverSyncTree_,i)}),s)Mt("update() called with empty data.  Don't do anything."),Jc(t,r,"ok",void 0);else{const l=ph(t),c=hI(t.serverSyncTree_,e,o,l);wl(t.eventQueue_,c),t.server_.merge(e.toString(),n,(u,f)=>{const p=u==="ok";p||Wt("update at "+e+" failed: "+u);const g=_r(t.serverSyncTree_,l,!p),b=g.length>0?Xs(t,e):e;En(t.eventQueue_,b,g),Jc(t,r,u,f)}),kt(n,u=>{const f=vh(t,tt(e,u));Xs(t,f)}),En(t.eventQueue_,e,[])}}function WI(t){Cl(t,"onDisconnectEvents");const e=bl(t),n=Ma();Wc(t.onDisconnect_,$e(),(s,i)=>{const o=__(s,i,t.serverSyncTree_,e);t_(n,s,o)});let r=[];Wc(n,$e(),(s,i)=>{r=r.concat(vl(t.serverSyncTree_,s,i));const o=vh(t,s);Xs(t,o)}),t.onDisconnect_=Ma(),En(t.eventQueue_,$e(),r)}function VI(t,e,n){let r;Ee(e._path)===".info"?r=up(t.infoSyncTree_,e,n):r=up(t.serverSyncTree_,e,n),D_(t.eventQueue_,e._path,r)}function zI(t,e,n){let r;Ee(e._path)===".info"?r=Qc(t.infoSyncTree_,e,n):r=Qc(t.serverSyncTree_,e,n),D_(t.eventQueue_,e._path,r)}function KI(t){t.persistentConnection_&&t.persistentConnection_.interrupt(LI)}function Cl(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),Mt(n,...e)}function Jc(t,e,n,r){e&&ui(()=>{if(n==="ok")e(null);else{const s=(n||"error").toUpperCase();let i=s;r&&(i+=": "+r);const o=new Error(i);o.code=s,e(o)}})}function P_(t,e,n){return nh(t.serverSyncTree_,e,n)||ye.EMPTY_NODE}function gh(t,e=t.transactionQueueTree_){if(e||El(t,e),fi(e)){const n=O_(t,e);Q(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&GI(t,Do(e),n)}else b_(e)&&_l(e,n=>{gh(t,n)})}function GI(t,e,n){const r=n.map(u=>u.currentWriteId),s=P_(t,e,r);let i=s;const o=s.hash();for(let u=0;u<n.length;u++){const f=n[u];Q(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const p=Gt(e,f.path);i=i.updateChild(p,f.currentOutputSnapshotRaw)}const l=i.val(!0),c=e;t.server_.put(c.toString(),l,u=>{Cl(t,"transaction put response",{path:c.toString(),status:u});let f=[];if(u==="ok"){const p=[];for(let g=0;g<n.length;g++)n[g].status=2,f=f.concat(_r(t.serverSyncTree_,n[g].currentWriteId)),n[g].onComplete&&p.push(()=>n[g].onComplete(null,!0,n[g].currentOutputSnapshotResolved)),n[g].unwatcher();El(t,uh(t.transactionQueueTree_,e)),gh(t,t.transactionQueueTree_),En(t.eventQueue_,e,f);for(let g=0;g<p.length;g++)ui(p[g])}else{if(u==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Wt("transaction at "+c.toString()+" failed: "+u);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=u}Xs(t,e)}},o)}function Xs(t,e){const n=M_(t,e),r=Do(n),s=O_(t,n);return qI(t,s,r),r}function qI(t,e,n){if(e.length===0)return;const r=[];let s=[];const o=e.filter(l=>l.status===0).map(l=>l.currentWriteId);for(let l=0;l<e.length;l++){const c=e[l],u=Gt(n,c.path);let f=!1,p;if(Q(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)f=!0,p=c.abortReason,s=s.concat(_r(t.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=FI)f=!0,p="maxretry",s=s.concat(_r(t.serverSyncTree_,c.currentWriteId,!0));else{const g=P_(t,c.path,o);c.currentInputSnapshot=g;const b=e[l].update(g.val());if(b!==void 0){yl("transaction failed: Data returned ",b,c.path);let S=Ct(b);typeof b=="object"&&b!=null&&Ln(b,".priority")||(S=S.updatePriority(g.getPriority()));const O=c.currentWriteId,k=bl(t),z=y_(S,g,k);c.currentOutputSnapshotRaw=S,c.currentOutputSnapshotResolved=z,c.currentWriteId=ph(t),o.splice(o.indexOf(O),1),s=s.concat(p_(t.serverSyncTree_,c.path,z,c.currentWriteId,c.applyLocally)),s=s.concat(_r(t.serverSyncTree_,O,!0))}else f=!0,p="nodata",s=s.concat(_r(t.serverSyncTree_,c.currentWriteId,!0))}En(t.eventQueue_,n,s),s=[],f&&(e[l].status=2,function(g){setTimeout(g,Math.floor(0))}(e[l].unwatcher),e[l].onComplete&&(p==="nodata"?r.push(()=>e[l].onComplete(null,!1,e[l].currentInputSnapshot)):r.push(()=>e[l].onComplete(new Error(p),!1,null))))}El(t,t.transactionQueueTree_);for(let l=0;l<r.length;l++)ui(r[l]);gh(t,t.transactionQueueTree_)}function M_(t,e){let n,r=t.transactionQueueTree_;for(n=Ee(e);n!==null&&fi(r)===void 0;)r=uh(r,n),e=Ke(e),n=Ee(e);return r}function O_(t,e){const n=[];return k_(t,e,n),n.sort((r,s)=>r.order-s.order),n}function k_(t,e,n){const r=fi(e);if(r)for(let s=0;s<r.length;s++)n.push(r[s]);_l(e,s=>{k_(t,s,n)})}function El(t,e){const n=fi(e);if(n){let r=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[r]=n[s],r++);n.length=r,w_(e,n.length>0?n:void 0)}_l(e,r=>{El(t,r)})}function vh(t,e){const n=Do(M_(t,e)),r=uh(t.transactionQueueTree_,e);return II(r,s=>{dc(t,s)}),dc(t,r),C_(r,s=>{dc(t,s)}),n}function dc(t,e){const n=fi(e);if(n){const r=[];let s=[],i=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Q(i===o-1,"All SENT items should be at beginning of queue."),i=o,n[o].status=3,n[o].abortReason="set"):(Q(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),s=s.concat(_r(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));i===-1?w_(e,void 0):n.length=i+1,En(t.eventQueue_,Do(e),s);for(let o=0;o<r.length;o++)ui(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let s=n[r];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function QI(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Wt(`Invalid query segment '${n}' in query '${t}'`)}return e}const pp=function(t,e){const n=ZI(t),r=n.namespace;n.domain==="firebase.com"&&Qn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||aE();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new Fm(n.host,n.secure,r,s,e,"",r!==n.subdomain),path:new je(n.pathString)}},ZI=function(t){let e="",n="",r="",s="",i="",o=!0,l="https",c=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(l=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(f,p)),f<p&&(s=XI(t.substring(f,p)));const g=QI(t.substring(Math.min(t.length,p)));u=e.indexOf(":"),u>=0?(o=l==="https"||l==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;const b=e.slice(0,u);if(b.toLowerCase()==="localhost")n="localhost";else if(b.split(".").length<=2)n=b;else{const S=e.indexOf(".");r=e.substring(0,S).toLowerCase(),n=e.substring(S+1),i=r}"ns"in g&&(i=g.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:l,pathString:s,namespace:i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gp="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",JI=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let s;const i=new Array(8);for(s=7;s>=0;s--)i[s]=gp.charAt(n%64),n=Math.floor(n/64);Q(n===0,"Cannot push at time == 0");let o=i.join("");if(r){for(s=11;s>=0&&e[s]===63;s--)e[s]=0;e[s]++}else for(s=0;s<12;s++)e[s]=Math.floor(Math.random()*64);for(s=0;s<12;s++)o+=gp.charAt(e[s]);return Q(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eD{constructor(e,n,r,s){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Et(this.snapshot.exportVal())}}class tD{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return Q(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mh{constructor(e,n,r,s){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=s}get key(){return Se(this._path)?null:Bu(this._path)}get ref(){return new Rr(this._repo,this._path)}get _queryIdentifier(){const e=Jd(this._queryParams),n=Fu(e);return n==="{}"?"default":n}get _queryObject(){return Jd(this._queryParams)}isEqual(e){if(e=ci(e),!(e instanceof mh))return!1;const n=this._repo===e._repo,r=Uu(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&r&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+WE(this._path)}}class Rr extends mh{constructor(e,n){super(e,n,new Ku,!1)}get parent(){const e=Km(this._path);return e===null?null:new Rr(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Fa{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new je(e),r=go(this.ref,e);return new Fa(this._node.getChild(n),r,nt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,s)=>e(new Fa(s,go(this.ref,r),nt)))}hasChild(e){const n=new je(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Wr(t,e){return t=ci(t),t._checkNotDeleted("ref"),e!==void 0?go(t._root,e):t._root}function go(t,e){return t=ci(t),Ee(t._path)===null?xI("child","path",e):I_("child","path",e),new Rr(t._repo,tt(t._path,e))}function rD(t,e){t=ci(t),fh("push",t._path),T_("push",e,t._path,!0);const n=A_(t._repo),r=JI(n),s=go(t,r),i=go(t,r);let o;return o=Promise.resolve(i),s.then=o.then.bind(o),s.catch=o.then.bind(o,void 0),s}function sD(t){return fh("remove",t._path),x_(t,null)}function x_(t,e){t=ci(t),fh("set",t._path),T_("set",e,t._path,!1);const n=new Co;return BI(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function Zo(t,e){kI("update",e,t._path);const n=new Co;return UI(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}class _h{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new eD("value",this,new Fa(e.snapshotNode,new Rr(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new tD(this,e,n):null}matches(e){return e instanceof _h?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function iD(t,e,n,r,s){const i=new nD(n,void 0),o=new _h(i);return VI(t._repo,t,o),()=>zI(t._repo,t,o)}function oD(t,e,n,r){return iD(t,"value",e)}nI(Rr);lI(Rr);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aD="FIREBASE_DATABASE_EMULATOR_HOST",eu={};let lD=!1;function cD(t,e,n,r){t.repoInfo_=new Fm(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}function uD(t,e,n,r,s){let i=r||t.options.databaseURL;i===void 0&&(t.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Mt("Using default host for project ",t.options.projectId),i=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=pp(i,s),l=o.repoInfo,c;typeof process<"u"&&Nd&&(c=Nd[aD]),c?(i=`http://${c}?ns=${l.namespace}`,o=pp(i,s),l=o.repoInfo):o.repoInfo.secure;const u=new _E(t.name,t.options,e);RI("Invalid Firebase Database URL",o),Se(o.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const f=fD(l,t,u,new mE(t.name,n));return new dD(f,t)}function hD(t,e){const n=eu[e];(!n||n[t.key]!==t)&&Qn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),KI(t),delete n[t.key]}function fD(t,e,n,r){let s=eu[e.name];s||(s={},eu[e.name]=s);let i=s[t.toURLString()];return i&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new YI(t,lD,n,r),s[t.toURLString()]=i,i}class dD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(HI(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Rr(this._repo,$e())),this._rootInternal}_delete(){return this._rootInternal!==null&&(hD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Qn("Cannot call "+e+" on a deleted database.")}}function pD(t=bm(),e){const n=_m(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=cm("database");r&&gD(n,...r)}return n}function gD(t,e,n,r={}){t=ci(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&Qn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let i;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),i=new ua(ua.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:hm(r.mockUserToken,t.app.options.projectId);i=new ua(o)}cD(s,e,n,i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(t){tE(ym),oo(new Vs("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return uD(r,s,i,n)},"PUBLIC").setMultipleInstances(!0)),Er($d,Ld,t),Er($d,Ld,"esm2017")}qn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};qn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};vD();var mD="firebase",_D="10.13.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Er(mD,_D,"app");var vp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R_;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(E,y){function w(){}w.prototype=y.prototype,E.D=y.prototype,E.prototype=new w,E.prototype.constructor=E,E.C=function(T,C,_){for(var v=Array(arguments.length-2),J=2;J<arguments.length;J++)v[J-2]=arguments[J];return y.prototype[C].apply(T,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(E,y,w){w||(w=0);var T=Array(16);if(typeof y=="string")for(var C=0;16>C;++C)T[C]=y.charCodeAt(w++)|y.charCodeAt(w++)<<8|y.charCodeAt(w++)<<16|y.charCodeAt(w++)<<24;else for(C=0;16>C;++C)T[C]=y[w++]|y[w++]<<8|y[w++]<<16|y[w++]<<24;y=E.g[0],w=E.g[1],C=E.g[2];var _=E.g[3],v=y+(_^w&(C^_))+T[0]+3614090360&4294967295;y=w+(v<<7&4294967295|v>>>25),v=_+(C^y&(w^C))+T[1]+3905402710&4294967295,_=y+(v<<12&4294967295|v>>>20),v=C+(w^_&(y^w))+T[2]+606105819&4294967295,C=_+(v<<17&4294967295|v>>>15),v=w+(y^C&(_^y))+T[3]+3250441966&4294967295,w=C+(v<<22&4294967295|v>>>10),v=y+(_^w&(C^_))+T[4]+4118548399&4294967295,y=w+(v<<7&4294967295|v>>>25),v=_+(C^y&(w^C))+T[5]+1200080426&4294967295,_=y+(v<<12&4294967295|v>>>20),v=C+(w^_&(y^w))+T[6]+2821735955&4294967295,C=_+(v<<17&4294967295|v>>>15),v=w+(y^C&(_^y))+T[7]+4249261313&4294967295,w=C+(v<<22&4294967295|v>>>10),v=y+(_^w&(C^_))+T[8]+1770035416&4294967295,y=w+(v<<7&4294967295|v>>>25),v=_+(C^y&(w^C))+T[9]+2336552879&4294967295,_=y+(v<<12&4294967295|v>>>20),v=C+(w^_&(y^w))+T[10]+4294925233&4294967295,C=_+(v<<17&4294967295|v>>>15),v=w+(y^C&(_^y))+T[11]+2304563134&4294967295,w=C+(v<<22&4294967295|v>>>10),v=y+(_^w&(C^_))+T[12]+1804603682&4294967295,y=w+(v<<7&4294967295|v>>>25),v=_+(C^y&(w^C))+T[13]+4254626195&4294967295,_=y+(v<<12&4294967295|v>>>20),v=C+(w^_&(y^w))+T[14]+2792965006&4294967295,C=_+(v<<17&4294967295|v>>>15),v=w+(y^C&(_^y))+T[15]+1236535329&4294967295,w=C+(v<<22&4294967295|v>>>10),v=y+(C^_&(w^C))+T[1]+4129170786&4294967295,y=w+(v<<5&4294967295|v>>>27),v=_+(w^C&(y^w))+T[6]+3225465664&4294967295,_=y+(v<<9&4294967295|v>>>23),v=C+(y^w&(_^y))+T[11]+643717713&4294967295,C=_+(v<<14&4294967295|v>>>18),v=w+(_^y&(C^_))+T[0]+3921069994&4294967295,w=C+(v<<20&4294967295|v>>>12),v=y+(C^_&(w^C))+T[5]+3593408605&4294967295,y=w+(v<<5&4294967295|v>>>27),v=_+(w^C&(y^w))+T[10]+38016083&4294967295,_=y+(v<<9&4294967295|v>>>23),v=C+(y^w&(_^y))+T[15]+3634488961&4294967295,C=_+(v<<14&4294967295|v>>>18),v=w+(_^y&(C^_))+T[4]+3889429448&4294967295,w=C+(v<<20&4294967295|v>>>12),v=y+(C^_&(w^C))+T[9]+568446438&4294967295,y=w+(v<<5&4294967295|v>>>27),v=_+(w^C&(y^w))+T[14]+3275163606&4294967295,_=y+(v<<9&4294967295|v>>>23),v=C+(y^w&(_^y))+T[3]+4107603335&4294967295,C=_+(v<<14&4294967295|v>>>18),v=w+(_^y&(C^_))+T[8]+1163531501&4294967295,w=C+(v<<20&4294967295|v>>>12),v=y+(C^_&(w^C))+T[13]+2850285829&4294967295,y=w+(v<<5&4294967295|v>>>27),v=_+(w^C&(y^w))+T[2]+4243563512&4294967295,_=y+(v<<9&4294967295|v>>>23),v=C+(y^w&(_^y))+T[7]+1735328473&4294967295,C=_+(v<<14&4294967295|v>>>18),v=w+(_^y&(C^_))+T[12]+2368359562&4294967295,w=C+(v<<20&4294967295|v>>>12),v=y+(w^C^_)+T[5]+4294588738&4294967295,y=w+(v<<4&4294967295|v>>>28),v=_+(y^w^C)+T[8]+2272392833&4294967295,_=y+(v<<11&4294967295|v>>>21),v=C+(_^y^w)+T[11]+1839030562&4294967295,C=_+(v<<16&4294967295|v>>>16),v=w+(C^_^y)+T[14]+4259657740&4294967295,w=C+(v<<23&4294967295|v>>>9),v=y+(w^C^_)+T[1]+2763975236&4294967295,y=w+(v<<4&4294967295|v>>>28),v=_+(y^w^C)+T[4]+1272893353&4294967295,_=y+(v<<11&4294967295|v>>>21),v=C+(_^y^w)+T[7]+4139469664&4294967295,C=_+(v<<16&4294967295|v>>>16),v=w+(C^_^y)+T[10]+3200236656&4294967295,w=C+(v<<23&4294967295|v>>>9),v=y+(w^C^_)+T[13]+681279174&4294967295,y=w+(v<<4&4294967295|v>>>28),v=_+(y^w^C)+T[0]+3936430074&4294967295,_=y+(v<<11&4294967295|v>>>21),v=C+(_^y^w)+T[3]+3572445317&4294967295,C=_+(v<<16&4294967295|v>>>16),v=w+(C^_^y)+T[6]+76029189&4294967295,w=C+(v<<23&4294967295|v>>>9),v=y+(w^C^_)+T[9]+3654602809&4294967295,y=w+(v<<4&4294967295|v>>>28),v=_+(y^w^C)+T[12]+3873151461&4294967295,_=y+(v<<11&4294967295|v>>>21),v=C+(_^y^w)+T[15]+530742520&4294967295,C=_+(v<<16&4294967295|v>>>16),v=w+(C^_^y)+T[2]+3299628645&4294967295,w=C+(v<<23&4294967295|v>>>9),v=y+(C^(w|~_))+T[0]+4096336452&4294967295,y=w+(v<<6&4294967295|v>>>26),v=_+(w^(y|~C))+T[7]+1126891415&4294967295,_=y+(v<<10&4294967295|v>>>22),v=C+(y^(_|~w))+T[14]+2878612391&4294967295,C=_+(v<<15&4294967295|v>>>17),v=w+(_^(C|~y))+T[5]+4237533241&4294967295,w=C+(v<<21&4294967295|v>>>11),v=y+(C^(w|~_))+T[12]+1700485571&4294967295,y=w+(v<<6&4294967295|v>>>26),v=_+(w^(y|~C))+T[3]+2399980690&4294967295,_=y+(v<<10&4294967295|v>>>22),v=C+(y^(_|~w))+T[10]+4293915773&4294967295,C=_+(v<<15&4294967295|v>>>17),v=w+(_^(C|~y))+T[1]+2240044497&4294967295,w=C+(v<<21&4294967295|v>>>11),v=y+(C^(w|~_))+T[8]+1873313359&4294967295,y=w+(v<<6&4294967295|v>>>26),v=_+(w^(y|~C))+T[15]+4264355552&4294967295,_=y+(v<<10&4294967295|v>>>22),v=C+(y^(_|~w))+T[6]+2734768916&4294967295,C=_+(v<<15&4294967295|v>>>17),v=w+(_^(C|~y))+T[13]+1309151649&4294967295,w=C+(v<<21&4294967295|v>>>11),v=y+(C^(w|~_))+T[4]+4149444226&4294967295,y=w+(v<<6&4294967295|v>>>26),v=_+(w^(y|~C))+T[11]+3174756917&4294967295,_=y+(v<<10&4294967295|v>>>22),v=C+(y^(_|~w))+T[2]+718787259&4294967295,C=_+(v<<15&4294967295|v>>>17),v=w+(_^(C|~y))+T[9]+3951481745&4294967295,E.g[0]=E.g[0]+y&4294967295,E.g[1]=E.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,E.g[2]=E.g[2]+C&4294967295,E.g[3]=E.g[3]+_&4294967295}r.prototype.u=function(E,y){y===void 0&&(y=E.length);for(var w=y-this.blockSize,T=this.B,C=this.h,_=0;_<y;){if(C==0)for(;_<=w;)s(this,E,_),_+=this.blockSize;if(typeof E=="string"){for(;_<y;)if(T[C++]=E.charCodeAt(_++),C==this.blockSize){s(this,T),C=0;break}}else for(;_<y;)if(T[C++]=E[_++],C==this.blockSize){s(this,T),C=0;break}}this.h=C,this.o+=y},r.prototype.v=function(){var E=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);E[0]=128;for(var y=1;y<E.length-8;++y)E[y]=0;var w=8*this.o;for(y=E.length-8;y<E.length;++y)E[y]=w&255,w/=256;for(this.u(E),E=Array(16),y=w=0;4>y;++y)for(var T=0;32>T;T+=8)E[w++]=this.g[y]>>>T&255;return E};function i(E,y){var w=l;return Object.prototype.hasOwnProperty.call(w,E)?w[E]:w[E]=y(E)}function o(E,y){this.h=y;for(var w=[],T=!0,C=E.length-1;0<=C;C--){var _=E[C]|0;T&&_==y||(w[C]=_,T=!1)}this.g=w}var l={};function c(E){return-128<=E&&128>E?i(E,function(y){return new o([y|0],0>y?-1:0)}):new o([E|0],0>E?-1:0)}function u(E){if(isNaN(E)||!isFinite(E))return p;if(0>E)return O(u(-E));for(var y=[],w=1,T=0;E>=w;T++)y[T]=E/w|0,w*=4294967296;return new o(y,0)}function f(E,y){if(E.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(E.charAt(0)=="-")return O(f(E.substring(1),y));if(0<=E.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=u(Math.pow(y,8)),T=p,C=0;C<E.length;C+=8){var _=Math.min(8,E.length-C),v=parseInt(E.substring(C,C+_),y);8>_?(_=u(Math.pow(y,_)),T=T.j(_).add(u(v))):(T=T.j(w),T=T.add(u(v)))}return T}var p=c(0),g=c(1),b=c(16777216);t=o.prototype,t.m=function(){if(P(this))return-O(this).m();for(var E=0,y=1,w=0;w<this.g.length;w++){var T=this.i(w);E+=(0<=T?T:4294967296+T)*y,y*=4294967296}return E},t.toString=function(E){if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(S(this))return"0";if(P(this))return"-"+O(this).toString(E);for(var y=u(Math.pow(E,6)),w=this,T="";;){var C=$(w,y).g;w=k(w,C.j(y));var _=((0<w.g.length?w.g[0]:w.h)>>>0).toString(E);if(w=C,S(w))return _+T;for(;6>_.length;)_="0"+_;T=_+T}},t.i=function(E){return 0>E?0:E<this.g.length?this.g[E]:this.h};function S(E){if(E.h!=0)return!1;for(var y=0;y<E.g.length;y++)if(E.g[y]!=0)return!1;return!0}function P(E){return E.h==-1}t.l=function(E){return E=k(this,E),P(E)?-1:S(E)?0:1};function O(E){for(var y=E.g.length,w=[],T=0;T<y;T++)w[T]=~E.g[T];return new o(w,~E.h).add(g)}t.abs=function(){return P(this)?O(this):this},t.add=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0,C=0;C<=y;C++){var _=T+(this.i(C)&65535)+(E.i(C)&65535),v=(_>>>16)+(this.i(C)>>>16)+(E.i(C)>>>16);T=v>>>16,_&=65535,v&=65535,w[C]=v<<16|_}return new o(w,w[w.length-1]&-2147483648?-1:0)};function k(E,y){return E.add(O(y))}t.j=function(E){if(S(this)||S(E))return p;if(P(this))return P(E)?O(this).j(O(E)):O(O(this).j(E));if(P(E))return O(this.j(O(E)));if(0>this.l(b)&&0>E.l(b))return u(this.m()*E.m());for(var y=this.g.length+E.g.length,w=[],T=0;T<2*y;T++)w[T]=0;for(T=0;T<this.g.length;T++)for(var C=0;C<E.g.length;C++){var _=this.i(T)>>>16,v=this.i(T)&65535,J=E.i(C)>>>16,ee=E.i(C)&65535;w[2*T+2*C]+=v*ee,z(w,2*T+2*C),w[2*T+2*C+1]+=_*ee,z(w,2*T+2*C+1),w[2*T+2*C+1]+=v*J,z(w,2*T+2*C+1),w[2*T+2*C+2]+=_*J,z(w,2*T+2*C+2)}for(T=0;T<y;T++)w[T]=w[2*T+1]<<16|w[2*T];for(T=y;T<2*y;T++)w[T]=0;return new o(w,0)};function z(E,y){for(;(E[y]&65535)!=E[y];)E[y+1]+=E[y]>>>16,E[y]&=65535,y++}function U(E,y){this.g=E,this.h=y}function $(E,y){if(S(y))throw Error("division by zero");if(S(E))return new U(p,p);if(P(E))return y=$(O(E),y),new U(O(y.g),O(y.h));if(P(y))return y=$(E,O(y)),new U(O(y.g),y.h);if(30<E.g.length){if(P(E)||P(y))throw Error("slowDivide_ only works with positive integers.");for(var w=g,T=y;0>=T.l(E);)w=K(w),T=K(T);var C=j(w,1),_=j(T,1);for(T=j(T,2),w=j(w,2);!S(T);){var v=_.add(T);0>=v.l(E)&&(C=C.add(w),_=v),T=j(T,1),w=j(w,1)}return y=k(E,C.j(y)),new U(C,y)}for(C=p;0<=E.l(y);){for(w=Math.max(1,Math.floor(E.m()/y.m())),T=Math.ceil(Math.log(w)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),_=u(w),v=_.j(y);P(v)||0<v.l(E);)w-=T,_=u(w),v=_.j(y);S(_)&&(_=g),C=C.add(_),E=k(E,v)}return new U(C,E)}t.A=function(E){return $(this,E).h},t.and=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)&E.i(T);return new o(w,this.h&E.h)},t.or=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)|E.i(T);return new o(w,this.h|E.h)},t.xor=function(E){for(var y=Math.max(this.g.length,E.g.length),w=[],T=0;T<y;T++)w[T]=this.i(T)^E.i(T);return new o(w,this.h^E.h)};function K(E){for(var y=E.g.length+1,w=[],T=0;T<y;T++)w[T]=E.i(T)<<1|E.i(T-1)>>>31;return new o(w,E.h)}function j(E,y){var w=y>>5;y%=32;for(var T=E.g.length-w,C=[],_=0;_<T;_++)C[_]=0<y?E.i(_+w)>>>y|E.i(_+w+1)<<32-y:E.i(_+w);return new o(C,E.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=f,R_=o}).apply(typeof vp<"u"?vp:typeof self<"u"?self:typeof window<"u"?window:{});var Jo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,h,d){return a==Array.prototype||a==Object.prototype||(a[h]=d.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof Jo=="object"&&Jo];for(var h=0;h<a.length;++h){var d=a[h];if(d&&d.Math==Math)return d}throw Error("Cannot find global object")}var r=n(this);function s(a,h){if(h)e:{var d=r;a=a.split(".");for(var m=0;m<a.length-1;m++){var M=a[m];if(!(M in d))break e;d=d[M]}a=a[a.length-1],m=d[a],h=h(m),h!=m&&h!=null&&e(d,a,{configurable:!0,writable:!0,value:h})}}function i(a,h){a instanceof String&&(a+="");var d=0,m=!1,M={next:function(){if(!m&&d<a.length){var R=d++;return{value:h(R,a[R]),done:!1}}return m=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}s("Array.prototype.values",function(a){return a||function(){return i(this,function(h,d){return d})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function c(a){var h=typeof a;return h=h!="object"?h:a?Array.isArray(a)?"array":h:"null",h=="array"||h=="object"&&typeof a.length=="number"}function u(a){var h=typeof a;return h=="object"&&a!=null||h=="function"}function f(a,h,d){return a.call.apply(a.bind,arguments)}function p(a,h,d){if(!a)throw Error();if(2<arguments.length){var m=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,m),a.apply(h,M)}}return function(){return a.apply(h,arguments)}}function g(a,h,d){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:p,g.apply(null,arguments)}function b(a,h){var d=Array.prototype.slice.call(arguments,1);return function(){var m=d.slice();return m.push.apply(m,arguments),a.apply(this,m)}}function S(a,h){function d(){}d.prototype=h.prototype,a.aa=h.prototype,a.prototype=new d,a.prototype.constructor=a,a.Qb=function(m,M,R){for(var te=Array(arguments.length-2),We=2;We<arguments.length;We++)te[We-2]=arguments[We];return h.prototype[M].apply(m,te)}}function P(a){const h=a.length;if(0<h){const d=Array(h);for(let m=0;m<h;m++)d[m]=a[m];return d}return[]}function O(a,h){for(let d=1;d<arguments.length;d++){const m=arguments[d];if(c(m)){const M=a.length||0,R=m.length||0;a.length=M+R;for(let te=0;te<R;te++)a[M+te]=m[te]}else a.push(m)}}class k{constructor(h,d){this.i=h,this.j=d,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}function z(a){return/^[\s\xa0]*$/.test(a)}function U(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function $(a){return $[" "](a),a}$[" "]=function(){};var K=U().indexOf("Gecko")!=-1&&!(U().toLowerCase().indexOf("webkit")!=-1&&U().indexOf("Edge")==-1)&&!(U().indexOf("Trident")!=-1||U().indexOf("MSIE")!=-1)&&U().indexOf("Edge")==-1;function j(a,h,d){for(const m in a)h.call(d,a[m],m,a)}function E(a,h){for(const d in a)h.call(void 0,a[d],d,a)}function y(a){const h={};for(const d in a)h[d]=a[d];return h}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(a,h){let d,m;for(let M=1;M<arguments.length;M++){m=arguments[M];for(d in m)a[d]=m[d];for(let R=0;R<w.length;R++)d=w[R],Object.prototype.hasOwnProperty.call(m,d)&&(a[d]=m[d])}}function C(a){var h=1;a=a.split(":");const d=[];for(;0<h&&a.length;)d.push(a.shift()),h--;return a.length&&d.push(a.join(":")),d}function _(a){l.setTimeout(()=>{throw a},0)}function v(){var a=Ae;let h=null;return a.g&&(h=a.g,a.g=a.g.next,a.g||(a.h=null),h.next=null),h}class J{constructor(){this.h=this.g=null}add(h,d){const m=ee.get();m.set(h,d),this.h?this.h.next=m:this.g=m,this.h=m}}var ee=new k(()=>new oe,a=>a.reset());class oe{constructor(){this.next=this.g=this.h=null}set(h,d){this.h=h,this.g=d,this.next=null}reset(){this.next=this.g=this.h=null}}let fe,pe=!1,Ae=new J,G=()=>{const a=l.Promise.resolve(void 0);fe=()=>{a.then(be)}};var be=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(d){_(d)}var h=ee;h.j(a),100>h.h&&(h.h++,a.next=h.g,h.g=a)}pe=!1};function ie(){this.s=this.s,this.C=this.C}ie.prototype.s=!1,ie.prototype.ma=function(){this.s||(this.s=!0,this.N())},ie.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ce(a,h){this.type=a,this.g=this.target=h,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,h=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const d=()=>{};l.addEventListener("test",d,h),l.removeEventListener("test",d,h)}catch{}return a}();function Ye(a,h){if(Ce.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var d=this.type=a.type,m=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=h,h=a.relatedTarget){if(K){e:{try{$(h.nodeName);var M=!0;break e}catch{}M=!1}M||(h=null)}}else d=="mouseover"?h=a.fromElement:d=="mouseout"&&(h=a.toElement);this.relatedTarget=h,m?(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:Xe[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Ye.aa.h.call(this)}}S(Ye,Ce);var Xe={2:"touch",3:"pen",4:"mouse"};Ye.prototype.h=function(){Ye.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Le="closure_listenable_"+(1e6*Math.random()|0),et=0;function yt(a,h,d,m,M){this.listener=a,this.proxy=null,this.src=h,this.type=d,this.capture=!!m,this.ha=M,this.key=++et,this.da=this.fa=!1}function lt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function pt(a){this.src=a,this.g={},this.h=0}pt.prototype.add=function(a,h,d,m,M){var R=a.toString();a=this.g[R],a||(a=this.g[R]=[],this.h++);var te=I(a,h,m,M);return-1<te?(h=a[te],d||(h.fa=!1)):(h=new yt(h,this.src,R,!!m,M),h.fa=d,a.push(h)),h};function gt(a,h){var d=h.type;if(d in a.g){var m=a.g[d],M=Array.prototype.indexOf.call(m,h,void 0),R;(R=0<=M)&&Array.prototype.splice.call(m,M,1),R&&(lt(h),a.g[d].length==0&&(delete a.g[d],a.h--))}}function I(a,h,d,m){for(var M=0;M<a.length;++M){var R=a[M];if(!R.da&&R.listener==h&&R.capture==!!d&&R.ha==m)return M}return-1}var A="closure_lm_"+(1e6*Math.random()|0),x={};function H(a,h,d,m,M){if(Array.isArray(h)){for(var R=0;R<h.length;R++)H(a,h[R],d,m,M);return null}return d=le(d),a&&a[Le]?a.K(h,d,u(m)?!!m.capture:!!m,M):F(a,h,d,!1,m,M)}function F(a,h,d,m,M,R){if(!h)throw Error("Invalid event type");var te=u(M)?!!M.capture:!!M,We=ne(a);if(We||(a[A]=We=new pt(a)),d=We.add(h,d,m,te,R),d.proxy)return d;if(m=V(),d.proxy=m,m.src=a,m.listener=d,a.addEventListener)Pe||(M=te),M===void 0&&(M=!1),a.addEventListener(h.toString(),m,M);else if(a.attachEvent)a.attachEvent(X(h.toString()),m);else if(a.addListener&&a.removeListener)a.addListener(m);else throw Error("addEventListener and attachEvent are unavailable.");return d}function V(){function a(d){return h.call(a.src,a.listener,d)}const h=B;return a}function Z(a,h,d,m,M){if(Array.isArray(h))for(var R=0;R<h.length;R++)Z(a,h[R],d,m,M);else m=u(m)?!!m.capture:!!m,d=le(d),a&&a[Le]?(a=a.i,h=String(h).toString(),h in a.g&&(R=a.g[h],d=I(R,d,m,M),-1<d&&(lt(R[d]),Array.prototype.splice.call(R,d,1),R.length==0&&(delete a.g[h],a.h--)))):a&&(a=ne(a))&&(h=a.g[h.toString()],a=-1,h&&(a=I(h,d,m,M)),(d=-1<a?h[a]:null)&&q(d))}function q(a){if(typeof a!="number"&&a&&!a.da){var h=a.src;if(h&&h[Le])gt(h.i,a);else{var d=a.type,m=a.proxy;h.removeEventListener?h.removeEventListener(d,m,a.capture):h.detachEvent?h.detachEvent(X(d),m):h.addListener&&h.removeListener&&h.removeListener(m),(d=ne(h))?(gt(d,a),d.h==0&&(d.src=null,h[A]=null)):lt(a)}}}function X(a){return a in x?x[a]:x[a]="on"+a}function B(a,h){if(a.da)a=!0;else{h=new Ye(h,this);var d=a.listener,m=a.ha||a.src;a.fa&&q(a),a=d.call(m,h)}return a}function ne(a){return a=a[A],a instanceof pt?a:null}var ce="__closure_events_fn_"+(1e9*Math.random()>>>0);function le(a){return typeof a=="function"?a:(a[ce]||(a[ce]=function(h){return a.handleEvent(h)}),a[ce])}function ae(){ie.call(this),this.i=new pt(this),this.M=this,this.F=null}S(ae,ie),ae.prototype[Le]=!0,ae.prototype.removeEventListener=function(a,h,d,m){Z(this,a,h,d,m)};function ue(a,h){var d,m=a.F;if(m)for(d=[];m;m=m.F)d.push(m);if(a=a.M,m=h.type||h,typeof h=="string")h=new Ce(h,a);else if(h instanceof Ce)h.target=h.target||a;else{var M=h;h=new Ce(m,a),T(h,M)}if(M=!0,d)for(var R=d.length-1;0<=R;R--){var te=h.g=d[R];M=Ie(te,m,!0,h)&&M}if(te=h.g=a,M=Ie(te,m,!0,h)&&M,M=Ie(te,m,!1,h)&&M,d)for(R=0;R<d.length;R++)te=h.g=d[R],M=Ie(te,m,!1,h)&&M}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var a=this.i,h;for(h in a.g){for(var d=a.g[h],m=0;m<d.length;m++)lt(d[m]);delete a.g[h],a.h--}}this.F=null},ae.prototype.K=function(a,h,d,m){return this.i.add(String(a),h,!1,d,m)},ae.prototype.L=function(a,h,d,m){return this.i.add(String(a),h,!0,d,m)};function Ie(a,h,d,m){if(h=a.i.g[String(h)],!h)return!0;h=h.concat();for(var M=!0,R=0;R<h.length;++R){var te=h[R];if(te&&!te.da&&te.capture==d){var We=te.listener,Pt=te.ha||te.src;te.fa&&gt(a.i,te),M=We.call(Pt,m)!==!1&&M}}return M&&!m.defaultPrevented}function De(a,h,d){if(typeof a=="function")d&&(a=g(a,d));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(h)?-1:l.setTimeout(a,h||0)}function Be(a){a.g=De(()=>{a.g=null,a.i&&(a.i=!1,Be(a))},a.l);const h=a.h;a.h=null,a.m.apply(null,h)}class St extends ie{constructor(h,d){super(),this.m=h,this.l=d,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:Be(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function At(a){ie.call(this),this.h=a,this.g={}}S(At,ie);var Sn=[];function rn(a){j(a.g,function(h,d){this.g.hasOwnProperty(d)&&q(h)},a),a.g={}}At.prototype.N=function(){At.aa.N.call(this),rn(this)},At.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gn=l.JSON.stringify,ct=l.JSON.parse,Y=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function D(){}D.prototype.h=null;function L(a){return a.h||(a.h=a.i())}function se(){}var _e={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ue(){Ce.call(this,"d")}S(Ue,Ce);function vt(){Ce.call(this,"c")}S(vt,Ce);var ut={},Hn=null;function An(){return Hn=Hn||new ae}ut.La="serverreachability";function ms(a){Ce.call(this,ut.La,a)}S(ms,Ce);function ht(a){const h=An();ue(h,new ms(h))}ut.STAT_EVENT="statevent";function _s(a,h){Ce.call(this,ut.STAT_EVENT,a),this.stat=h}S(_s,Ce);function ft(a){const h=An();ue(h,new _s(h,a))}ut.Ma="timingevent";function sr(a,h){Ce.call(this,ut.Ma,a),this.size=h}S(sr,Ce);function vn(a,h){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},h)}function Lr(){this.g=!0}Lr.prototype.xa=function(){this.g=!1};function yw(a,h,d,m,M,R){a.info(function(){if(a.g)if(R)for(var te="",We=R.split("&"),Pt=0;Pt<We.length;Pt++){var Ne=We[Pt].split("=");if(1<Ne.length){var xt=Ne[0];Ne=Ne[1];var Rt=xt.split("_");te=2<=Rt.length&&Rt[1]=="type"?te+(xt+"="+Ne+"&"):te+(xt+"=redacted&")}}else te=null;else te=R;return"XMLHTTP REQ ("+m+") [attempt "+M+"]: "+h+`
`+d+`
`+te})}function ww(a,h,d,m,M,R,te){a.info(function(){return"XMLHTTP RESP ("+m+") [ attempt "+M+"]: "+h+`
`+d+`
`+R+" "+te})}function ys(a,h,d,m){a.info(function(){return"XMLHTTP TEXT ("+h+"): "+Cw(a,d)+(m?" "+m:"")})}function bw(a,h){a.info(function(){return"TIMEOUT: "+h})}Lr.prototype.info=function(){};function Cw(a,h){if(!a.g)return h;if(!h)return null;try{var d=JSON.parse(h);if(d){for(a=0;a<d.length;a++)if(Array.isArray(d[a])){var m=d[a];if(!(2>m.length)){var M=m[1];if(Array.isArray(M)&&!(1>M.length)){var R=M[0];if(R!="noop"&&R!="stop"&&R!="close")for(var te=1;te<M.length;te++)M[te]=""}}}}return gn(d)}catch{return h}}var Rl={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ew={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Nl;function Oo(){}S(Oo,D),Oo.prototype.g=function(){return new XMLHttpRequest},Oo.prototype.i=function(){return{}},Nl=new Oo;function ir(a,h,d,m){this.j=a,this.i=h,this.l=d,this.R=m||1,this.U=new At(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Zh}function Zh(){this.i=null,this.g="",this.h=!1}var Jh={},$l={};function Ll(a,h,d){a.L=1,a.v=No(jn(h)),a.m=d,a.P=!0,ef(a,null)}function ef(a,h){a.F=Date.now(),ko(a),a.A=jn(a.v);var d=a.A,m=a.R;Array.isArray(m)||(m=[String(m)]),gf(d.i,"t",m),a.C=0,d=a.j.J,a.h=new Zh,a.g=xf(a.j,d?h:null,!a.m),0<a.O&&(a.M=new St(g(a.Y,a,a.g),a.O)),h=a.U,d=a.g,m=a.ca;var M="readystatechange";Array.isArray(M)||(M&&(Sn[0]=M.toString()),M=Sn);for(var R=0;R<M.length;R++){var te=H(d,M[R],m||h.handleEvent,!1,h.h||h);if(!te)break;h.g[te.key]=te}h=a.H?y(a.H):{},a.m?(a.u||(a.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,h)):(a.u="GET",a.g.ea(a.A,a.u,null,h)),ht(),yw(a.i,a.u,a.A,a.l,a.R,a.m)}ir.prototype.ca=function(a){a=a.target;const h=this.M;h&&Bn(a)==3?h.j():this.Y(a)},ir.prototype.Y=function(a){try{if(a==this.g)e:{const Rt=Bn(this.g);var h=this.g.Ba();const Cs=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||Cf(this.g)))){this.J||Rt!=4||h==7||(h==8||0>=Cs?ht(3):ht(2)),Fl(this);var d=this.g.Z();this.X=d;t:if(tf(this)){var m=Cf(this.g);a="";var M=m.length,R=Bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Fr(this),bi(this);var te="";break t}this.h.i=new l.TextDecoder}for(h=0;h<M;h++)this.h.h=!0,a+=this.h.i.decode(m[h],{stream:!(R&&h==M-1)});m.length=0,this.h.g+=a,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=d==200,ww(this.i,this.u,this.A,this.l,this.R,Rt,d),this.o){if(this.T&&!this.K){t:{if(this.g){var We,Pt=this.g;if((We=Pt.g?Pt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(We)){var Ne=We;break t}}Ne=null}if(d=Ne)ys(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Yl(this,d);else{this.o=!1,this.s=3,ft(12),Fr(this),bi(this);break e}}if(this.P){d=!0;let mn;for(;!this.J&&this.C<te.length;)if(mn=Tw(this,te),mn==$l){Rt==4&&(this.s=4,ft(14),d=!1),ys(this.i,this.l,null,"[Incomplete Response]");break}else if(mn==Jh){this.s=4,ft(15),ys(this.i,this.l,te,"[Invalid Chunk]"),d=!1;break}else ys(this.i,this.l,mn,null),Yl(this,mn);if(tf(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||te.length!=0||this.h.h||(this.s=1,ft(16),d=!1),this.o=this.o&&d,!d)ys(this.i,this.l,te,"[Invalid Chunked Response]"),Fr(this),bi(this);else if(0<te.length&&!this.W){this.W=!0;var xt=this.j;xt.g==this&&xt.ba&&!xt.M&&(xt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Vl(xt),xt.M=!0,ft(11))}}else ys(this.i,this.l,te,null),Yl(this,te);Rt==4&&Fr(this),this.o&&!this.J&&(Rt==4?Pf(this.j,this):(this.o=!1,ko(this)))}else jw(this.g),d==400&&0<te.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Fr(this),bi(this)}}}catch{}finally{}};function tf(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Tw(a,h){var d=a.C,m=h.indexOf(`
`,d);return m==-1?$l:(d=Number(h.substring(d,m)),isNaN(d)?Jh:(m+=1,m+d>h.length?$l:(h=h.slice(m,m+d),a.C=m+d,h)))}ir.prototype.cancel=function(){this.J=!0,Fr(this)};function ko(a){a.S=Date.now()+a.I,nf(a,a.I)}function nf(a,h){if(a.B!=null)throw Error("WatchDog timer not null");a.B=vn(g(a.ba,a),h)}function Fl(a){a.B&&(l.clearTimeout(a.B),a.B=null)}ir.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(bw(this.i,this.A),this.L!=2&&(ht(),ft(17)),Fr(this),this.s=2,bi(this)):nf(this,this.S-a)};function bi(a){a.j.G==0||a.J||Pf(a.j,a)}function Fr(a){Fl(a);var h=a.M;h&&typeof h.ma=="function"&&h.ma(),a.M=null,rn(a.U),a.g&&(h=a.g,a.g=null,h.abort(),h.ma())}function Yl(a,h){try{var d=a.j;if(d.G!=0&&(d.g==a||Hl(d.h,a))){if(!a.K&&Hl(d.h,a)&&d.G==3){try{var m=d.Da.g.parse(h)}catch{m=null}if(Array.isArray(m)&&m.length==3){var M=m;if(M[0]==0){e:if(!d.u){if(d.g)if(d.g.F+3e3<a.F)jo(d),Yo(d);else break e;Wl(d),ft(18)}}else d.za=M[1],0<d.za-d.T&&37500>M[2]&&d.F&&d.v==0&&!d.C&&(d.C=vn(g(d.Za,d),6e3));if(1>=of(d.h)&&d.ca){try{d.ca()}catch{}d.ca=void 0}}else Hr(d,11)}else if((a.K||d.g==a)&&jo(d),!z(h))for(M=d.Da.g.parse(h),h=0;h<M.length;h++){let Ne=M[h];if(d.T=Ne[0],Ne=Ne[1],d.G==2)if(Ne[0]=="c"){d.K=Ne[1],d.ia=Ne[2];const xt=Ne[3];xt!=null&&(d.la=xt,d.j.info("VER="+d.la));const Rt=Ne[4];Rt!=null&&(d.Aa=Rt,d.j.info("SVER="+d.Aa));const Cs=Ne[5];Cs!=null&&typeof Cs=="number"&&0<Cs&&(m=1.5*Cs,d.L=m,d.j.info("backChannelRequestTimeoutMs_="+m)),m=d;const mn=a.g;if(mn){const Bo=mn.g?mn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bo){var R=m.h;R.g||Bo.indexOf("spdy")==-1&&Bo.indexOf("quic")==-1&&Bo.indexOf("h2")==-1||(R.j=R.l,R.g=new Set,R.h&&(jl(R,R.h),R.h=null))}if(m.D){const zl=mn.g?mn.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(m.ya=zl,Qe(m.I,m.D,zl))}}d.G=3,d.l&&d.l.ua(),d.ba&&(d.R=Date.now()-a.F,d.j.info("Handshake RTT: "+d.R+"ms")),m=d;var te=a;if(m.qa=kf(m,m.J?m.ia:null,m.W),te.K){af(m.h,te);var We=te,Pt=m.L;Pt&&(We.I=Pt),We.B&&(Fl(We),ko(We)),m.g=te}else Sf(m);0<d.i.length&&Ho(d)}else Ne[0]!="stop"&&Ne[0]!="close"||Hr(d,7);else d.G==3&&(Ne[0]=="stop"||Ne[0]=="close"?Ne[0]=="stop"?Hr(d,7):Ul(d):Ne[0]!="noop"&&d.l&&d.l.ta(Ne),d.v=0)}}ht(4)}catch{}}var Iw=class{constructor(a,h){this.g=a,this.map=h}};function rf(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sf(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function of(a){return a.h?1:a.g?a.g.size:0}function Hl(a,h){return a.h?a.h==h:a.g?a.g.has(h):!1}function jl(a,h){a.g?a.g.add(h):a.h=h}function af(a,h){a.h&&a.h==h?a.h=null:a.g&&a.g.has(h)&&a.g.delete(h)}rf.prototype.cancel=function(){if(this.i=lf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function lf(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let h=a.i;for(const d of a.g.values())h=h.concat(d.D);return h}return P(a.i)}function Dw(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(c(a)){for(var h=[],d=a.length,m=0;m<d;m++)h.push(a[m]);return h}h=[],d=0;for(m in a)h[d++]=a[m];return h}function Sw(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(c(a)||typeof a=="string"){var h=[];a=a.length;for(var d=0;d<a;d++)h.push(d);return h}h=[],d=0;for(const m in a)h[d++]=m;return h}}}function cf(a,h){if(a.forEach&&typeof a.forEach=="function")a.forEach(h,void 0);else if(c(a)||typeof a=="string")Array.prototype.forEach.call(a,h,void 0);else for(var d=Sw(a),m=Dw(a),M=m.length,R=0;R<M;R++)h.call(void 0,m[R],d&&d[R],a)}var uf=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Aw(a,h){if(a){a=a.split("&");for(var d=0;d<a.length;d++){var m=a[d].indexOf("="),M=null;if(0<=m){var R=a[d].substring(0,m);M=a[d].substring(m+1)}else R=a[d];h(R,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function Yr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Yr){this.h=a.h,xo(this,a.j),this.o=a.o,this.g=a.g,Ro(this,a.s),this.l=a.l;var h=a.i,d=new Ti;d.i=h.i,h.g&&(d.g=new Map(h.g),d.h=h.h),hf(this,d),this.m=a.m}else a&&(h=String(a).match(uf))?(this.h=!1,xo(this,h[1]||"",!0),this.o=Ci(h[2]||""),this.g=Ci(h[3]||"",!0),Ro(this,h[4]),this.l=Ci(h[5]||"",!0),hf(this,h[6]||"",!0),this.m=Ci(h[7]||"")):(this.h=!1,this.i=new Ti(null,this.h))}Yr.prototype.toString=function(){var a=[],h=this.j;h&&a.push(Ei(h,ff,!0),":");var d=this.g;return(d||h=="file")&&(a.push("//"),(h=this.o)&&a.push(Ei(h,ff,!0),"@"),a.push(encodeURIComponent(String(d)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d=this.s,d!=null&&a.push(":",String(d))),(d=this.l)&&(this.g&&d.charAt(0)!="/"&&a.push("/"),a.push(Ei(d,d.charAt(0)=="/"?Ow:Mw,!0))),(d=this.i.toString())&&a.push("?",d),(d=this.m)&&a.push("#",Ei(d,xw)),a.join("")};function jn(a){return new Yr(a)}function xo(a,h,d){a.j=d?Ci(h,!0):h,a.j&&(a.j=a.j.replace(/:$/,""))}function Ro(a,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);a.s=h}else a.s=null}function hf(a,h,d){h instanceof Ti?(a.i=h,Rw(a.i,a.h)):(d||(h=Ei(h,kw)),a.i=new Ti(h,a.h))}function Qe(a,h,d){a.i.set(h,d)}function No(a){return Qe(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Ci(a,h){return a?h?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ei(a,h,d){return typeof a=="string"?(a=encodeURI(a).replace(h,Pw),d&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function Pw(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var ff=/[#\/\?@]/g,Mw=/[#\?:]/g,Ow=/[#\?]/g,kw=/[#\?@]/g,xw=/#/g;function Ti(a,h){this.h=this.g=null,this.i=a||null,this.j=!!h}function or(a){a.g||(a.g=new Map,a.h=0,a.i&&Aw(a.i,function(h,d){a.add(decodeURIComponent(h.replace(/\+/g," ")),d)}))}t=Ti.prototype,t.add=function(a,h){or(this),this.i=null,a=ws(this,a);var d=this.g.get(a);return d||this.g.set(a,d=[]),d.push(h),this.h+=1,this};function df(a,h){or(a),h=ws(a,h),a.g.has(h)&&(a.i=null,a.h-=a.g.get(h).length,a.g.delete(h))}function pf(a,h){return or(a),h=ws(a,h),a.g.has(h)}t.forEach=function(a,h){or(this),this.g.forEach(function(d,m){d.forEach(function(M){a.call(h,M,m,this)},this)},this)},t.na=function(){or(this);const a=Array.from(this.g.values()),h=Array.from(this.g.keys()),d=[];for(let m=0;m<h.length;m++){const M=a[m];for(let R=0;R<M.length;R++)d.push(h[m])}return d},t.V=function(a){or(this);let h=[];if(typeof a=="string")pf(this,a)&&(h=h.concat(this.g.get(ws(this,a))));else{a=Array.from(this.g.values());for(let d=0;d<a.length;d++)h=h.concat(a[d])}return h},t.set=function(a,h){return or(this),this.i=null,a=ws(this,a),pf(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[h]),this.h+=1,this},t.get=function(a,h){return a?(a=this.V(a),0<a.length?String(a[0]):h):h};function gf(a,h,d){df(a,h),0<d.length&&(a.i=null,a.g.set(ws(a,h),P(d)),a.h+=d.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],h=Array.from(this.g.keys());for(var d=0;d<h.length;d++){var m=h[d];const R=encodeURIComponent(String(m)),te=this.V(m);for(m=0;m<te.length;m++){var M=R;te[m]!==""&&(M+="="+encodeURIComponent(String(te[m]))),a.push(M)}}return this.i=a.join("&")};function ws(a,h){return h=String(h),a.j&&(h=h.toLowerCase()),h}function Rw(a,h){h&&!a.j&&(or(a),a.i=null,a.g.forEach(function(d,m){var M=m.toLowerCase();m!=M&&(df(this,m),gf(this,M,d))},a)),a.j=h}function Nw(a,h){const d=new Lr;if(l.Image){const m=new Image;m.onload=b(ar,d,"TestLoadImage: loaded",!0,h,m),m.onerror=b(ar,d,"TestLoadImage: error",!1,h,m),m.onabort=b(ar,d,"TestLoadImage: abort",!1,h,m),m.ontimeout=b(ar,d,"TestLoadImage: timeout",!1,h,m),l.setTimeout(function(){m.ontimeout&&m.ontimeout()},1e4),m.src=a}else h(!1)}function $w(a,h){const d=new Lr,m=new AbortController,M=setTimeout(()=>{m.abort(),ar(d,"TestPingServer: timeout",!1,h)},1e4);fetch(a,{signal:m.signal}).then(R=>{clearTimeout(M),R.ok?ar(d,"TestPingServer: ok",!0,h):ar(d,"TestPingServer: server error",!1,h)}).catch(()=>{clearTimeout(M),ar(d,"TestPingServer: error",!1,h)})}function ar(a,h,d,m,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),m(d)}catch{}}function Lw(){this.g=new Y}function Fw(a,h,d){const m=d||"";try{cf(a,function(M,R){let te=M;u(M)&&(te=gn(M)),h.push(m+R+"="+encodeURIComponent(te))})}catch(M){throw h.push(m+"type="+encodeURIComponent("_badmap")),M}}function $o(a){this.l=a.Ub||null,this.j=a.eb||!1}S($o,D),$o.prototype.g=function(){return new Lo(this.l,this.j)},$o.prototype.i=function(a){return function(){return a}}({});function Lo(a,h){ae.call(this),this.D=a,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(Lo,ae),t=Lo.prototype,t.open=function(a,h){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=h,this.readyState=1,Di(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(h.body=a),(this.D||l).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ii(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Di(this)),this.g&&(this.readyState=3,Di(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vf(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function vf(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var h=a.value?a.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!a.done}))&&(this.response=this.responseText+=h)}a.done?Ii(this):Di(this),this.readyState==3&&vf(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ii(this))},t.Qa=function(a){this.g&&(this.response=a,Ii(this))},t.ga=function(){this.g&&Ii(this)};function Ii(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Di(a)}t.setRequestHeader=function(a,h){this.u.append(a,h)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],h=this.h.entries();for(var d=h.next();!d.done;)d=d.value,a.push(d[0]+": "+d[1]),d=h.next();return a.join(`\r
`)};function Di(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Lo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function mf(a){let h="";return j(a,function(d,m){h+=m,h+=":",h+=d,h+=`\r
`}),h}function Bl(a,h,d){e:{for(m in d){var m=!1;break e}m=!0}m||(d=mf(d),typeof a=="string"?d!=null&&encodeURIComponent(String(d)):Qe(a,h,d))}function st(a){ae.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(st,ae);var Yw=/^https?$/i,Hw=["POST","PUT"];t=st.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,h,d,m){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);h=h?h.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Nl.g(),this.v=this.o?L(this.o):L(Nl),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(h,String(a),!0),this.B=!1}catch(R){_f(this,R);return}if(a=d||"",d=new Map(this.headers),m)if(Object.getPrototypeOf(m)===Object.prototype)for(var M in m)d.set(M,m[M]);else if(typeof m.keys=="function"&&typeof m.get=="function")for(const R of m.keys())d.set(R,m.get(R));else throw Error("Unknown input type for opt_headers: "+String(m));m=Array.from(d.keys()).find(R=>R.toLowerCase()=="content-type"),M=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(Hw,h,void 0))||m||M||d.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[R,te]of d)this.g.setRequestHeader(R,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bf(this),this.u=!0,this.g.send(a),this.u=!1}catch(R){_f(this,R)}};function _f(a,h){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=h,a.m=5,yf(a),Fo(a)}function yf(a){a.A||(a.A=!0,ue(a,"complete"),ue(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ue(this,"complete"),ue(this,"abort"),Fo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fo(this,!0)),st.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wf(this):this.bb())},t.bb=function(){wf(this)};function wf(a){if(a.h&&typeof o<"u"&&(!a.v[1]||Bn(a)!=4||a.Z()!=2)){if(a.u&&Bn(a)==4)De(a.Ea,0,a);else if(ue(a,"readystatechange"),Bn(a)==4){a.h=!1;try{const te=a.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var d;if(!(d=h)){var m;if(m=te===0){var M=String(a.D).match(uf)[1]||null;!M&&l.self&&l.self.location&&(M=l.self.location.protocol.slice(0,-1)),m=!Yw.test(M?M.toLowerCase():"")}d=m}if(d)ue(a,"complete"),ue(a,"success");else{a.m=6;try{var R=2<Bn(a)?a.g.statusText:""}catch{R=""}a.l=R+" ["+a.Z()+"]",yf(a)}}finally{Fo(a)}}}}function Fo(a,h){if(a.g){bf(a);const d=a.g,m=a.v[0]?()=>{}:null;a.g=null,a.v=null,h||ue(a,"ready");try{d.onreadystatechange=m}catch{}}}function bf(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function Bn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<Bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var h=this.g.responseText;return a&&h.indexOf(a)==0&&(h=h.substring(a.length)),ct(h)}};function Cf(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function jw(a){const h={};a=(a.g&&2<=Bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let m=0;m<a.length;m++){if(z(a[m]))continue;var d=C(a[m]);const M=d[0];if(d=d[1],typeof d!="string")continue;d=d.trim();const R=h[M]||[];h[M]=R,R.push(d)}E(h,function(m){return m.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(a,h,d){return d&&d.internalChannelParams&&d.internalChannelParams[a]||h}function Ef(a){this.Aa=0,this.i=[],this.j=new Lr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Si("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Si("baseRetryDelayMs",5e3,a),this.cb=Si("retryDelaySeedMs",1e4,a),this.Wa=Si("forwardChannelMaxRetries",2,a),this.wa=Si("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new rf(a&&a.concurrentRequestLimit),this.Da=new Lw,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ef.prototype,t.la=8,t.G=1,t.connect=function(a,h,d,m){ft(0),this.W=a,this.H=h||{},d&&m!==void 0&&(this.H.OSID=d,this.H.OAID=m),this.F=this.X,this.I=kf(this,null,this.W),Ho(this)};function Ul(a){if(Tf(a),a.G==3){var h=a.U++,d=jn(a.I);if(Qe(d,"SID",a.K),Qe(d,"RID",h),Qe(d,"TYPE","terminate"),Ai(a,d),h=new ir(a,a.j,h),h.L=2,h.v=No(jn(d)),d=!1,l.navigator&&l.navigator.sendBeacon)try{d=l.navigator.sendBeacon(h.v.toString(),"")}catch{}!d&&l.Image&&(new Image().src=h.v,d=!0),d||(h.g=xf(h.j,null),h.g.ea(h.v)),h.F=Date.now(),ko(h)}Of(a)}function Yo(a){a.g&&(Vl(a),a.g.cancel(),a.g=null)}function Tf(a){Yo(a),a.u&&(l.clearTimeout(a.u),a.u=null),jo(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ho(a){if(!sf(a.h)&&!a.s){a.s=!0;var h=a.Ga;fe||G(),pe||(fe(),pe=!0),Ae.add(h,a),a.B=0}}function Bw(a,h){return of(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=h.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=vn(g(a.Ga,a,h),Mf(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const M=new ir(this,this.j,a);let R=this.o;if(this.S&&(R?(R=y(R),T(R,this.S)):R=this.S),this.m!==null||this.O||(M.H=R,R=null),this.P)e:{for(var h=0,d=0;d<this.i.length;d++){t:{var m=this.i[d];if("__data__"in m.map&&(m=m.map.__data__,typeof m=="string")){m=m.length;break t}m=void 0}if(m===void 0)break;if(h+=m,4096<h){h=d;break e}if(h===4096||d===this.i.length-1){h=d+1;break e}}h=1e3}else h=1e3;h=Df(this,M,h),d=jn(this.I),Qe(d,"RID",a),Qe(d,"CVER",22),this.D&&Qe(d,"X-HTTP-Session-Id",this.D),Ai(this,d),R&&(this.O?h="headers="+encodeURIComponent(String(mf(R)))+"&"+h:this.m&&Bl(d,this.m,R)),jl(this.h,M),this.Ua&&Qe(d,"TYPE","init"),this.P?(Qe(d,"$req",h),Qe(d,"SID","null"),M.T=!0,Ll(M,d,null)):Ll(M,d,h),this.G=2}}else this.G==3&&(a?If(this,a):this.i.length==0||sf(this.h)||If(this))};function If(a,h){var d;h?d=h.l:d=a.U++;const m=jn(a.I);Qe(m,"SID",a.K),Qe(m,"RID",d),Qe(m,"AID",a.T),Ai(a,m),a.m&&a.o&&Bl(m,a.m,a.o),d=new ir(a,a.j,d,a.B+1),a.m===null&&(d.H=a.o),h&&(a.i=h.D.concat(a.i)),h=Df(a,d,1e3),d.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),jl(a.h,d),Ll(d,m,h)}function Ai(a,h){a.H&&j(a.H,function(d,m){Qe(h,m,d)}),a.l&&cf({},function(d,m){Qe(h,m,d)})}function Df(a,h,d){d=Math.min(a.i.length,d);var m=a.l?g(a.l.Na,a.l,a):null;e:{var M=a.i;let R=-1;for(;;){const te=["count="+d];R==-1?0<d?(R=M[0].g,te.push("ofs="+R)):R=0:te.push("ofs="+R);let We=!0;for(let Pt=0;Pt<d;Pt++){let Ne=M[Pt].g;const xt=M[Pt].map;if(Ne-=R,0>Ne)R=Math.max(0,M[Pt].g-100),We=!1;else try{Fw(xt,te,"req"+Ne+"_")}catch{m&&m(xt)}}if(We){m=te.join("&");break e}}}return a=a.i.splice(0,d),h.D=a,m}function Sf(a){if(!a.g&&!a.u){a.Y=1;var h=a.Fa;fe||G(),pe||(fe(),pe=!0),Ae.add(h,a),a.v=0}}function Wl(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=vn(g(a.Fa,a),Mf(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Af(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=vn(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Yo(this),Af(this))};function Vl(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Af(a){a.g=new ir(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var h=jn(a.qa);Qe(h,"RID","rpc"),Qe(h,"SID",a.K),Qe(h,"AID",a.T),Qe(h,"CI",a.F?"0":"1"),!a.F&&a.ja&&Qe(h,"TO",a.ja),Qe(h,"TYPE","xmlhttp"),Ai(a,h),a.m&&a.o&&Bl(h,a.m,a.o),a.L&&(a.g.I=a.L);var d=a.g;a=a.ia,d.L=1,d.v=No(jn(h)),d.m=null,d.P=!0,ef(d,a)}t.Za=function(){this.C!=null&&(this.C=null,Yo(this),Wl(this),ft(19))};function jo(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Pf(a,h){var d=null;if(a.g==h){jo(a),Vl(a),a.g=null;var m=2}else if(Hl(a.h,h))d=h.D,af(a.h,h),m=1;else return;if(a.G!=0){if(h.o)if(m==1){d=h.m?h.m.length:0,h=Date.now()-h.F;var M=a.B;m=An(),ue(m,new sr(m,d)),Ho(a)}else Sf(a);else if(M=h.s,M==3||M==0&&0<h.X||!(m==1&&Bw(a,h)||m==2&&Wl(a)))switch(d&&0<d.length&&(h=a.h,h.i=h.i.concat(d)),M){case 1:Hr(a,5);break;case 4:Hr(a,10);break;case 3:Hr(a,6);break;default:Hr(a,2)}}}function Mf(a,h){let d=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(d*=2),d*h}function Hr(a,h){if(a.j.info("Error code "+h),h==2){var d=g(a.fb,a),m=a.Xa;const M=!m;m=new Yr(m||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||xo(m,"https"),No(m),M?Nw(m.toString(),d):$w(m.toString(),d)}else ft(2);a.G=0,a.l&&a.l.sa(h),Of(a),Tf(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function Of(a){if(a.G=0,a.ka=[],a.l){const h=lf(a.h);(h.length!=0||a.i.length!=0)&&(O(a.ka,h),O(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function kf(a,h,d){var m=d instanceof Yr?jn(d):new Yr(d);if(m.g!="")h&&(m.g=h+"."+m.g),Ro(m,m.s);else{var M=l.location;m=M.protocol,h=h?h+"."+M.hostname:M.hostname,M=+M.port;var R=new Yr(null);m&&xo(R,m),h&&(R.g=h),M&&Ro(R,M),d&&(R.l=d),m=R}return d=a.D,h=a.ya,d&&h&&Qe(m,d,h),Qe(m,"VER",a.la),Ai(a,m),m}function xf(a,h,d){if(h&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return h=a.Ca&&!a.pa?new st(new $o({eb:d})):new st(a.pa),h.Ha(a.J),h}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Rf(){}t=Rf.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function sn(a,h){ae.call(this),this.g=new Ef(h),this.l=a,this.h=h&&h.messageUrlParams||null,a=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(a?a["X-WebChannel-Content-Type"]=h.messageContentType:a={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(a?a["X-WebChannel-Client-Profile"]=h.va:a={"X-WebChannel-Client-Profile":h.va}),this.g.S=a,(a=h&&h.Sb)&&!z(a)&&(this.g.m=a),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!z(h)&&(this.g.D=h,a=this.h,a!==null&&h in a&&(a=this.h,h in a&&delete a[h])),this.j=new bs(this)}S(sn,ae),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Ul(this.g)},sn.prototype.o=function(a){var h=this.g;if(typeof a=="string"){var d={};d.__data__=a,a=d}else this.u&&(d={},d.__data__=gn(a),a=d);h.i.push(new Iw(h.Ya++,a)),h.G==3&&Ho(h)},sn.prototype.N=function(){this.g.l=null,delete this.j,Ul(this.g),delete this.g,sn.aa.N.call(this)};function Nf(a){Ue.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var h=a.__sm__;if(h){e:{for(const d in h){a=d;break e}a=void 0}(this.i=a)&&(a=this.i,h=h!==null&&a in h?h[a]:void 0),this.data=h}else this.data=a}S(Nf,Ue);function $f(){vt.call(this),this.status=1}S($f,vt);function bs(a){this.g=a}S(bs,Rf),bs.prototype.ua=function(){ue(this.g,"a")},bs.prototype.ta=function(a){ue(this.g,new Nf(a))},bs.prototype.sa=function(a){ue(this.g,new $f)},bs.prototype.ra=function(){ue(this.g,"b")},sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Rl.NO_ERROR=0,Rl.TIMEOUT=8,Rl.HTTP_ERROR=6,Ew.COMPLETE="complete",se.EventType=_e,_e.OPEN="a",_e.CLOSE="b",_e.ERROR="c",_e.MESSAGE="d",ae.prototype.listen=ae.prototype.K,st.prototype.listenOnce=st.prototype.L,st.prototype.getLastError=st.prototype.Ka,st.prototype.getLastErrorCode=st.prototype.Ba,st.prototype.getStatus=st.prototype.Z,st.prototype.getResponseJson=st.prototype.Oa,st.prototype.getResponseText=st.prototype.oa,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Ha}).apply(typeof Jo<"u"?Jo:typeof self<"u"?self:typeof window<"u"?window:{});const mp="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}$t.UNAUTHENTICATED=new $t(null),$t.GOOGLE_CREDENTIALS=new $t("google-credentials-uid"),$t.FIRST_PARTY=new $t("first-party-uid"),$t.MOCK_USER=new $t("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let So="10.13.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qs=new Nu("@firebase/firestore");function tn(t,...e){if(Qs.logLevel<=Fe.DEBUG){const n=e.map(wh);Qs.debug(`Firestore (${So}): ${t}`,...n)}}function yh(t,...e){if(Qs.logLevel<=Fe.ERROR){const n=e.map(wh);Qs.error(`Firestore (${So}): ${t}`,...n)}}function yD(t,...e){if(Qs.logLevel<=Fe.WARN){const n=e.map(wh);Qs.warn(`Firestore (${So}): ${t}`,...n)}}function wh(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t="Unexpected state"){const e=`FIRESTORE (${So}) INTERNAL ASSERTION FAILED: `+t;throw yh(e),new Error(e)}function tu(t,e){t||bh()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ft={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Yt extends li{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class wD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n($t.UNAUTHENTICATED))}shutdown(){}}class bD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class CD{constructor(e){this.t=e,this.currentUser=$t.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new $s;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $s,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},l=c=>{tn("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>l(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?l(c):(tn("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $s)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(tn("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tu(typeof r.accessToken=="string"),new N_(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tu(e===null||typeof e=="string"),new $t(e)}}class ED{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=$t.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class TD{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ED(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n($t.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ID{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class DD{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&tn("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.R;return this.R=i.token,tn("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{tn("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?s(i):tn("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(tu(typeof n.token=="string"),this.R=n.token,new ID(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SD(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=SD(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function $_(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e,n,r,s,i,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=c,this.useFetchStreams=u}}class Ya{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Ya("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Ya&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _p,Me;(Me=_p||(_p={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new R_([4294967295,4294967295],0);function pc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=s,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),s=Math.max(0,n-r);s>0&&tn("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,s,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new $s,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new Ch(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Yt(Ft.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function OD(t,e){if(yh("AsyncQueue",`${e}: ${t}`),$_(t))return new Yt(Ft.UNAVAILABLE,`${e}: ${t}`);throw t}var yp,wp;(wp=yp||(yp={})).ea="default",wp.Cache="cache";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=$t.UNAUTHENTICATED,this.clientId=AD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{tn("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(tn("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Yt(Ft.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $s;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=OD(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bp=new Map;function xD(t,e,n,r){if(e===!0&&r===!0)throw new Yt(Ft.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function RD(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":bh()}function ND(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Yt(Ft.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=RD(t);throw new Yt(Ft.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cp{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Yt(Ft.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Yt(Ft.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}xD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=L_((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Yt(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Yt(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Yt(Ft.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class F_{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Cp({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Yt(Ft.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Yt(Ft.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Cp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new wD;switch(r.type){case"firstParty":return new TD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Yt(Ft.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=bp.get(n);r&&(tn("ComponentProvider","Removing Datastore"),bp.delete(n),r.terminate())}(this),Promise.resolve()}}function $D(t,e,n,r={}){var s;const i=(t=ND(t,F_))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&yD("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let l,c;if(typeof r.mockUserToken=="string")l=r.mockUserToken,c=$t.MOCK_USER;else{l=hm(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Yt(Ft.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new $t(u)}t._authCredentials=new bD(new N_(l,c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new MD(this,"async_queue_retry"),this.Eu=()=>{const n=pc();n&&tn("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};const e=pc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;const n=pc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});const n=new $s;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}async Ru(){if(this.uu.length!==0){try{await this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!$_(e))throw e;tn("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}}Au(e){const n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;const s=function(o){let l=o.message||"";return o.stack&&(l=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),l}(r);throw yh("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);const s=Ch.createAndSchedule(this,e,n,r,i=>this.Vu(i));return this.lu.push(s),s}du(){this.hu&&bh()}verifyOperationInProgress(){}async mu(){let e;do e=this.au,await e;while(e!==this.au)}fu(e){for(const n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){const n=this.lu.indexOf(e);this.lu.splice(n,1)}}class FD extends F_{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=function(){return new LD}(),this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||HD(this),this._firestoreClient.terminate()}}function YD(t,e){const n=typeof t=="object"?t:bm(),r=typeof t=="string"?t:"(default)",s=_m(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=cm("firestore");i&&$D(s,...i)}return s}function HD(t){var e,n,r;const s=t._freezeSettings(),i=function(l,c,u,f){return new PD(l,c,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,L_(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new kD(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.localCache.kind,_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider})}(function(e,n=!0){(function(s){So=s})(ym),oo(new Vs("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new FD(new CD(r.getProvider("auth-internal")),new DD(r.getProvider("app-check-internal")),function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Yt(Ft.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ya(u.options.projectId,f)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),Er(mp,"4.7.1",e),Er(mp,"4.7.1","esm2017")})();const jD={apiKey:"AIzaSyCvpQ8RK_ioYUNqNLW_h3qGytzP1_i-Dnk",authDomain:"postitdatas.firebaseapp.com",databaseURL:"https://postitdatas-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"postitdatas",storageBucket:"postitdatas.appspot.com",messagingSenderId:"472221846576",appId:"1:472221846576:web:da086432a9fd86cd7471f5",measurementId:"G-BBZZZ01SX8"},Y_=wm(jD),Vr=pD(Y_);YD(Y_);const BD={class:"absolute top-8 left-0"},UD=dt({__name:"calendar",props:{dataDate:{type:Number,default:0}},emits:["update-date"],setup(t,{emit:e}){const n=e,r=t,s=ke(new Date(r.dataDate*1e3));return console.log(Math.floor(s.value.getTime()/1e3)),mt(s,i=>{n("update-date",Math.floor(i.getTime()/1e3))}),(i,o)=>{const l=Mn("VDatePicker");return re(),he("div",BD,[ve(l,{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=c=>s.value=c),mode:"date"},null,8,["modelValue"])])}}}),Tl=t=>(Fb("data-v-cf46faa7"),t=t(),Yb(),t),WD=Tl(()=>ge("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"3",stroke:"currentColor",class:"size-4 mr-2"},[ge("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1)),VD={key:0,class:"absolute top-0 left-0 w-full h-full flex flex-col items-center justify-center text-white"},zD=Tl(()=>ge("div",{class:"w-[95%] h-[95%] bg-zinc-400/25 rounded-2xl flex flex-col items-center justify-center"},[ge("p",{class:"text-xl"},""),ge("p",{class:"text-sm"},"")],-1)),KD=[zD],GD={key:1},qD=["onMouseenter"],XD=["onMousedown"],QD={key:0,class:"w-40 flex flex-col"},ZD=["onUpdate:modelValue","onKeydown"],JD=["onKeydown","onClick"],eS={class:"flex justify-between mt-4"},tS=["onClick"],nS=["onClick"],rS=Tl(()=>ge("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor",class:"size-4 mr-2"},[ge("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5m-9-6h.008v.008H12v-.008ZM12 15h.008v.008H12V15Zm0 2.25h.008v.008H12v-.008ZM9.75 15h.008v.008H9.75V15Zm0 2.25h.008v.008H9.75v-.008ZM7.5 15h.008v.008H7.5V15Zm0 2.25h.008v.008H7.5v-.008Zm6.75-4.5h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V15Zm0 2.25h.008v.008h-.008v-.008Zm2.25-4.5h.008v.008H16.5v-.008Zm0 2.25h.008v.008H16.5V15Z"})],-1)),sS=["onClick"],iS=Tl(()=>ge("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-6 w-6"},[ge("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"})],-1)),oS=[iS],aS=dt({__name:"HelloWorld",setup(t){const e=ke({}),n=ke({}),r=ke(null),s=ke(!1),i=ke(!1),o=ke(window.innerWidth),l=ke(window.innerHeight),c=()=>{o.value=window.innerWidth,l.value=window.innerHeight};us(()=>{const C=Wr(Vr,"postits");oD(C,_=>{_.exists()?(n.value=_.val(),e.value=_.val()):e.value={}}),window.addEventListener("mousedown",P),window.addEventListener("mouseup",O),window.addEventListener("resize",c)}),ii(()=>{window.removeEventListener("mousedown",P),window.removeEventListener("mouseup",O),window.removeEventListener("mousemove",S),window.removeEventListener("resize",c)});const u=N(()=>Object.keys(e.value).length),f={yellow:"#ffd966",green:"#80d8a5",pink:"#f8a5c2",blue:"#6cc3f7"},p=cs({x:0,y:0}),g=(C,_)=>{r.value=_,p.x=C.offsetX,p.y=C.offsetY};window.onmousemove=async C=>{k(C)?document.body.style.cursor="grab":document.body.style.cursor="default"};const b=N(()=>{const C={};return Object.entries(e.value).forEach(([_,v])=>{const J=new Date(v.date*1e3),ee=`${J.getFullYear()} / ${J.getMonth()+1} / ${J.getDate()}`;C[_]={text:v.text,posX:v.posX,posY:v.posY,color:v.color,date:ee}}),C}),S=async C=>{if(s.value){console.log("Mouse is moving:",C.pageX,C.pageY),r.value!==null&&(e.value[r.value].posX=C.pageX-p.x,e.value[r.value].posY=C.pageY-p.y,document.body.style.cursor="grabbing");const _=Wr(Vr,`postits/${r.value}`);try{await Zo(_,{posX:C.pageX-p.x,posY:C.pageY-p.y}),console.log(`${r.value} data updated successfully!`)}catch(v){console.error(`Error updating ${r.value}:`,v)}}else document.body.style.cursor=i.value?"grab":"default"},P=C=>{k(C)&&(s.value=!0,window.addEventListener("mousemove",S))},O=()=>{s.value=!1,window.removeEventListener("mousemove",S),r.value=null,document.body.style.cursor="grab"},k=C=>{let _=Object.keys(e.value).map(v=>({id:v,...e.value[v]}));for(let v=0;v<_.length;v++){const J=_[v],ee=J.posX,oe=J.posX+160,fe=J.posY,pe=J.posY+160;if(C.pageX>=ee&&C.pageX<=oe&&C.pageY>=fe&&C.pageY<=pe)return!0}return!1},z=async()=>{const C=["yellow","green","pink","blue"],_=C[Math.floor(Math.random()*C.length)],v=Wr(Vr,"postits");try{const J=rD(v);await x_(J,{text:"",posX:Math.floor(Math.random()*o.value/2)+o.value/8,posY:Math.floor(Math.random()*l.value/2)+l.value/8,color:_,date:Math.floor(Date.now()/1e3)}),console.log("Data pushed successfully!")}catch(J){console.error("Error pushing data:",J)}},U=ke(null),$=async(C,_)=>{console.log(C);const v=Wr(Vr,`postits/${_}`),J=Object.keys(f).find(ee=>f[ee]===C);try{await Zo(v,{color:J}),console.log(`${_} data updated successfully!`)}catch(ee){console.error(`Error updating ${_}:`,ee)}},K=async C=>{const _=Wr(Vr,`postits/${C}`);try{await sD(_),console.log(`${C} deleted successfully!`)}catch(v){console.error(`Error deleting ${C}:`,v)}},j=async C=>{const _=Wr(Vr,`postits/${C}`);try{await Zo(_,{text:e.value[C].text}),console.log(`${C} data updated successfully!`)}catch(v){console.error(`Error updating ${C}:`,v)}},E=ke(null),y=C=>{E.value!==C?E.value=C:E.value=null},w=(C,_)=>{_.key==="Enter"&&j(C)},T=async C=>{const _=Wr(Vr,`postits/${E.value}`);try{await Zo(_,{date:C}),console.log(`${E.value} data updated successfully!`)}catch(v){console.error(`Error updating ${E.value}:`,v)}};return(C,_)=>(re(),he(xe,null,[ge("button",{onClick:z,class:"fixed z-50 bottom-4 right-4 w-40 h-10 text-sm flex items-center justify-center bg-zinc-400 rounded-full mt-4 font-bold outline-white outline-dashed outline-2 outline-offset-2 text-zinc-800"},[WD,Bs(" ")]),ve(d1,{name:"fade",tag:"div"},{default:at(()=>[u.value===0?(re(),he("div",VD,KD)):(re(),he("div",GD,[(re(!0),he(xe,null,Xt(Object.entries(b.value),([v,J],ee)=>(re(),he("div",{onMouseenter:oe=>U.value=v,onMouseleave:_[0]||(_[0]=oe=>U.value=null),key:ee,class:"absolute w-48 hover:bg-zinc-900/75 bg-zinc-900/25 border-[1px] border-white p-4 shadow-xl shadow-zinc-900 rounded-lg",style:zt({top:J.posY-16+"px",left:J.posX-16+"px"})},[ge("div",{onMousedown:oe=>g(oe,v),ref_for:!0,ref:"textContainer",class:"w-40 h-40 flex flex-col overflow-hidden leading-none whitespace-pre-line break-words justify-center items-center text-center shadow-lg shadow-zinc-900",style:zt({background:f[J.color],fontSize:120/Math.log2(J.text.length)+"px"})},Tt(J.text),45,XD),U.value===v?(re(),he("div",QD,[Du(ge("input",{"onUpdate:modelValue":oe=>e.value[ee].text=oe,onKeydown:rm(oe=>w(v,oe),["stop"]),maxlength:"18",placeholder:"18",class:"w-40 h-8 text-sm px-2 rounded-md focus:outline-none mt-2 placeholder:text-slate-400"},null,40,ZD),[[y1,e.value[ee].text]]),ge("button",{onKeydown:oe=>w(v,oe),onClick:oe=>j(v),class:"h-6 px-2 text-xs bg-zinc-800 text-slate-800 rounded-md mt-2",style:zt({color:f[J.color],border:"solid",borderWidth:"1px",borderColor:f[J.color]})},"  ",44,JD),ge("div",eS,[(re(),he(xe,null,Xt(f,oe=>ge("button",{onClick:fe=>$(oe,ee),style:zt({background:oe}),class:"w-6 h-6 rounded"},null,12,tS)),64))])])):ot("",!0),ge("button",{onClick:oe=>y(v),class:"absolute -top-3 -left-3 bg-zinc-800 border-[1px] border-white px-2 py-[1px] rounded-full text-sm font-bold flex justify-center items-center",style:zt({color:f[J.color]})},[rS,Bs(" "+Tt(J.date)+" ",1),E.value===v?(re(),Dt(UD,{key:0,onUpdateDate:T,dataDate:e.value[ee].date,class:"z-30"},null,8,["dataDate"])):ot("",!0)],12,nS),ge("button",{onClick:oe=>K(ee),class:"absolute -top-3 -right-3 bg-zinc-400/75 text-white rounded-full"},oS,8,sS)],44,qD))),128))]))]),_:1})],64))}}),H_=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},lS=H_(aS,[["__scopeId","data-v-cf46faa7"]]),cS={class:"notebook h-screen w-full bg-zinc-800 relative"},uS=dt({__name:"App",setup(t){return(e,n)=>(re(),he("div",cS,[ve(lS,{msg:"Vite + Vue"})]))}}),hS=H_(uS,[["__scopeId","data-v-25712e32"]]);var Qt="top",dn="bottom",pn="right",Zt="left",Eh="auto",Ao=[Qt,dn,pn,Zt],Zs="start",vo="end",fS="clippingParents",j_="viewport",Ri="popper",dS="reference",Ep=Ao.reduce(function(t,e){return t.concat([e+"-"+Zs,e+"-"+vo])},[]),B_=[].concat(Ao,[Eh]).reduce(function(t,e){return t.concat([e,e+"-"+Zs,e+"-"+vo])},[]),pS="beforeRead",gS="read",vS="afterRead",mS="beforeMain",_S="main",yS="afterMain",wS="beforeWrite",bS="write",CS="afterWrite",ES=[pS,gS,vS,mS,_S,yS,wS,bS,CS];function $n(t){return t?(t.nodeName||"").toLowerCase():null}function nn(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function as(t){var e=nn(t).Element;return t instanceof e||t instanceof Element}function hn(t){var e=nn(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function Th(t){if(typeof ShadowRoot>"u")return!1;var e=nn(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function TS(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},s=e.attributes[n]||{},i=e.elements[n];!hn(i)||!$n(i)||(Object.assign(i.style,r),Object.keys(s).forEach(function(o){var l=s[o];l===!1?i.removeAttribute(o):i.setAttribute(o,l===!0?"":l)}))})}function IS(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var s=e.elements[r],i=e.attributes[r]||{},o=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),l=o.reduce(function(c,u){return c[u]="",c},{});!hn(s)||!$n(s)||(Object.assign(s.style,l),Object.keys(i).forEach(function(c){s.removeAttribute(c)}))})}}const DS={name:"applyStyles",enabled:!0,phase:"write",fn:TS,effect:IS,requires:["computeStyles"]};function Nn(t){return t.split("-")[0]}var ts=Math.max,Ha=Math.min,Js=Math.round;function nu(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function U_(){return!/^((?!chrome|android).)*safari/i.test(nu())}function ei(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),s=1,i=1;e&&hn(t)&&(s=t.offsetWidth>0&&Js(r.width)/t.offsetWidth||1,i=t.offsetHeight>0&&Js(r.height)/t.offsetHeight||1);var o=as(t)?nn(t):window,l=o.visualViewport,c=!U_()&&n,u=(r.left+(c&&l?l.offsetLeft:0))/s,f=(r.top+(c&&l?l.offsetTop:0))/i,p=r.width/s,g=r.height/i;return{width:p,height:g,top:f,right:u+p,bottom:f+g,left:u,x:u,y:f}}function Ih(t){var e=ei(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function W_(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&Th(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Zn(t){return nn(t).getComputedStyle(t)}function SS(t){return["table","td","th"].indexOf($n(t))>=0}function Nr(t){return((as(t)?t.ownerDocument:t.document)||window.document).documentElement}function Il(t){return $n(t)==="html"?t:t.assignedSlot||t.parentNode||(Th(t)?t.host:null)||Nr(t)}function Tp(t){return!hn(t)||Zn(t).position==="fixed"?null:t.offsetParent}function AS(t){var e=/firefox/i.test(nu()),n=/Trident/i.test(nu());if(n&&hn(t)){var r=Zn(t);if(r.position==="fixed")return null}var s=Il(t);for(Th(s)&&(s=s.host);hn(s)&&["html","body"].indexOf($n(s))<0;){var i=Zn(s);if(i.transform!=="none"||i.perspective!=="none"||i.contain==="paint"||["transform","perspective"].indexOf(i.willChange)!==-1||e&&i.willChange==="filter"||e&&i.filter&&i.filter!=="none")return s;s=s.parentNode}return null}function Po(t){for(var e=nn(t),n=Tp(t);n&&SS(n)&&Zn(n).position==="static";)n=Tp(n);return n&&($n(n)==="html"||$n(n)==="body"&&Zn(n).position==="static")?e:n||AS(t)||e}function Dh(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zi(t,e,n){return ts(t,Ha(e,n))}function PS(t,e,n){var r=Zi(t,e,n);return r>n?n:r}function V_(){return{top:0,right:0,bottom:0,left:0}}function z_(t){return Object.assign({},V_(),t)}function K_(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var MS=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,z_(typeof e!="number"?e:K_(e,Ao))};function OS(t){var e,n=t.state,r=t.name,s=t.options,i=n.elements.arrow,o=n.modifiersData.popperOffsets,l=Nn(n.placement),c=Dh(l),u=[Zt,pn].indexOf(l)>=0,f=u?"height":"width";if(!(!i||!o)){var p=MS(s.padding,n),g=Ih(i),b=c==="y"?Qt:Zt,S=c==="y"?dn:pn,P=n.rects.reference[f]+n.rects.reference[c]-o[c]-n.rects.popper[f],O=o[c]-n.rects.reference[c],k=Po(i),z=k?c==="y"?k.clientHeight||0:k.clientWidth||0:0,U=P/2-O/2,$=p[b],K=z-g[f]-p[S],j=z/2-g[f]/2+U,E=Zi($,j,K),y=c;n.modifiersData[r]=(e={},e[y]=E,e.centerOffset=E-j,e)}}function kS(t){var e=t.state,n=t.options,r=n.element,s=r===void 0?"[data-popper-arrow]":r;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||W_(e.elements.popper,s)&&(e.elements.arrow=s))}const xS={name:"arrow",enabled:!0,phase:"main",fn:OS,effect:kS,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ti(t){return t.split("-")[1]}var RS={top:"auto",right:"auto",bottom:"auto",left:"auto"};function NS(t,e){var n=t.x,r=t.y,s=e.devicePixelRatio||1;return{x:Js(n*s)/s||0,y:Js(r*s)/s||0}}function Ip(t){var e,n=t.popper,r=t.popperRect,s=t.placement,i=t.variation,o=t.offsets,l=t.position,c=t.gpuAcceleration,u=t.adaptive,f=t.roundOffsets,p=t.isFixed,g=o.x,b=g===void 0?0:g,S=o.y,P=S===void 0?0:S,O=typeof f=="function"?f({x:b,y:P}):{x:b,y:P};b=O.x,P=O.y;var k=o.hasOwnProperty("x"),z=o.hasOwnProperty("y"),U=Zt,$=Qt,K=window;if(u){var j=Po(n),E="clientHeight",y="clientWidth";if(j===nn(n)&&(j=Nr(n),Zn(j).position!=="static"&&l==="absolute"&&(E="scrollHeight",y="scrollWidth")),j=j,s===Qt||(s===Zt||s===pn)&&i===vo){$=dn;var w=p&&j===K&&K.visualViewport?K.visualViewport.height:j[E];P-=w-r.height,P*=c?1:-1}if(s===Zt||(s===Qt||s===dn)&&i===vo){U=pn;var T=p&&j===K&&K.visualViewport?K.visualViewport.width:j[y];b-=T-r.width,b*=c?1:-1}}var C=Object.assign({position:l},u&&RS),_=f===!0?NS({x:b,y:P},nn(n)):{x:b,y:P};if(b=_.x,P=_.y,c){var v;return Object.assign({},C,(v={},v[$]=z?"0":"",v[U]=k?"0":"",v.transform=(K.devicePixelRatio||1)<=1?"translate("+b+"px, "+P+"px)":"translate3d("+b+"px, "+P+"px, 0)",v))}return Object.assign({},C,(e={},e[$]=z?P+"px":"",e[U]=k?b+"px":"",e.transform="",e))}function $S(t){var e=t.state,n=t.options,r=n.gpuAcceleration,s=r===void 0?!0:r,i=n.adaptive,o=i===void 0?!0:i,l=n.roundOffsets,c=l===void 0?!0:l,u={placement:Nn(e.placement),variation:ti(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Ip(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Ip(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const LS={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:$S,data:{}};var ea={passive:!0};function FS(t){var e=t.state,n=t.instance,r=t.options,s=r.scroll,i=s===void 0?!0:s,o=r.resize,l=o===void 0?!0:o,c=nn(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return i&&u.forEach(function(f){f.addEventListener("scroll",n.update,ea)}),l&&c.addEventListener("resize",n.update,ea),function(){i&&u.forEach(function(f){f.removeEventListener("scroll",n.update,ea)}),l&&c.removeEventListener("resize",n.update,ea)}}const YS={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:FS,data:{}};var HS={left:"right",right:"left",bottom:"top",top:"bottom"};function ha(t){return t.replace(/left|right|bottom|top/g,function(e){return HS[e]})}var jS={start:"end",end:"start"};function Dp(t){return t.replace(/start|end/g,function(e){return jS[e]})}function Sh(t){var e=nn(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function Ah(t){return ei(Nr(t)).left+Sh(t).scrollLeft}function BS(t,e){var n=nn(t),r=Nr(t),s=n.visualViewport,i=r.clientWidth,o=r.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;var u=U_();(u||!u&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:l+Ah(t),y:c}}function US(t){var e,n=Nr(t),r=Sh(t),s=(e=t.ownerDocument)==null?void 0:e.body,i=ts(n.scrollWidth,n.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),o=ts(n.scrollHeight,n.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-r.scrollLeft+Ah(t),c=-r.scrollTop;return Zn(s||n).direction==="rtl"&&(l+=ts(n.clientWidth,s?s.clientWidth:0)-i),{width:i,height:o,x:l,y:c}}function Ph(t){var e=Zn(t),n=e.overflow,r=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+s+r)}function G_(t){return["html","body","#document"].indexOf($n(t))>=0?t.ownerDocument.body:hn(t)&&Ph(t)?t:G_(Il(t))}function Ji(t,e){var n;e===void 0&&(e=[]);var r=G_(t),s=r===((n=t.ownerDocument)==null?void 0:n.body),i=nn(r),o=s?[i].concat(i.visualViewport||[],Ph(r)?r:[]):r,l=e.concat(o);return s?l:l.concat(Ji(Il(o)))}function ru(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function WS(t,e){var n=ei(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function Sp(t,e,n){return e===j_?ru(BS(t,n)):as(e)?WS(e,n):ru(US(Nr(t)))}function VS(t){var e=Ji(Il(t)),n=["absolute","fixed"].indexOf(Zn(t).position)>=0,r=n&&hn(t)?Po(t):t;return as(r)?e.filter(function(s){return as(s)&&W_(s,r)&&$n(s)!=="body"}):[]}function zS(t,e,n,r){var s=e==="clippingParents"?VS(t):[].concat(e),i=[].concat(s,[n]),o=i[0],l=i.reduce(function(c,u){var f=Sp(t,u,r);return c.top=ts(f.top,c.top),c.right=Ha(f.right,c.right),c.bottom=Ha(f.bottom,c.bottom),c.left=ts(f.left,c.left),c},Sp(t,o,r));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function q_(t){var e=t.reference,n=t.element,r=t.placement,s=r?Nn(r):null,i=r?ti(r):null,o=e.x+e.width/2-n.width/2,l=e.y+e.height/2-n.height/2,c;switch(s){case Qt:c={x:o,y:e.y-n.height};break;case dn:c={x:o,y:e.y+e.height};break;case pn:c={x:e.x+e.width,y:l};break;case Zt:c={x:e.x-n.width,y:l};break;default:c={x:e.x,y:e.y}}var u=s?Dh(s):null;if(u!=null){var f=u==="y"?"height":"width";switch(i){case Zs:c[u]=c[u]-(e[f]/2-n[f]/2);break;case vo:c[u]=c[u]+(e[f]/2-n[f]/2);break}}return c}function mo(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=r===void 0?t.placement:r,i=n.strategy,o=i===void 0?t.strategy:i,l=n.boundary,c=l===void 0?fS:l,u=n.rootBoundary,f=u===void 0?j_:u,p=n.elementContext,g=p===void 0?Ri:p,b=n.altBoundary,S=b===void 0?!1:b,P=n.padding,O=P===void 0?0:P,k=z_(typeof O!="number"?O:K_(O,Ao)),z=g===Ri?dS:Ri,U=t.rects.popper,$=t.elements[S?z:g],K=zS(as($)?$:$.contextElement||Nr(t.elements.popper),c,f,o),j=ei(t.elements.reference),E=q_({reference:j,element:U,strategy:"absolute",placement:s}),y=ru(Object.assign({},U,E)),w=g===Ri?y:j,T={top:K.top-w.top+k.top,bottom:w.bottom-K.bottom+k.bottom,left:K.left-w.left+k.left,right:w.right-K.right+k.right},C=t.modifiersData.offset;if(g===Ri&&C){var _=C[s];Object.keys(T).forEach(function(v){var J=[pn,dn].indexOf(v)>=0?1:-1,ee=[Qt,dn].indexOf(v)>=0?"y":"x";T[v]+=_[ee]*J})}return T}function KS(t,e){e===void 0&&(e={});var n=e,r=n.placement,s=n.boundary,i=n.rootBoundary,o=n.padding,l=n.flipVariations,c=n.allowedAutoPlacements,u=c===void 0?B_:c,f=ti(r),p=f?l?Ep:Ep.filter(function(S){return ti(S)===f}):Ao,g=p.filter(function(S){return u.indexOf(S)>=0});g.length===0&&(g=p);var b=g.reduce(function(S,P){return S[P]=mo(t,{placement:P,boundary:s,rootBoundary:i,padding:o})[Nn(P)],S},{});return Object.keys(b).sort(function(S,P){return b[S]-b[P]})}function GS(t){if(Nn(t)===Eh)return[];var e=ha(t);return[Dp(t),e,Dp(e)]}function qS(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!0:o,c=n.fallbackPlacements,u=n.padding,f=n.boundary,p=n.rootBoundary,g=n.altBoundary,b=n.flipVariations,S=b===void 0?!0:b,P=n.allowedAutoPlacements,O=e.options.placement,k=Nn(O),z=k===O,U=c||(z||!S?[ha(O)]:GS(O)),$=[O].concat(U).reduce(function(Pe,Ye){return Pe.concat(Nn(Ye)===Eh?KS(e,{placement:Ye,boundary:f,rootBoundary:p,padding:u,flipVariations:S,allowedAutoPlacements:P}):Ye)},[]),K=e.rects.reference,j=e.rects.popper,E=new Map,y=!0,w=$[0],T=0;T<$.length;T++){var C=$[T],_=Nn(C),v=ti(C)===Zs,J=[Qt,dn].indexOf(_)>=0,ee=J?"width":"height",oe=mo(e,{placement:C,boundary:f,rootBoundary:p,altBoundary:g,padding:u}),fe=J?v?pn:Zt:v?dn:Qt;K[ee]>j[ee]&&(fe=ha(fe));var pe=ha(fe),Ae=[];if(i&&Ae.push(oe[_]<=0),l&&Ae.push(oe[fe]<=0,oe[pe]<=0),Ae.every(function(Pe){return Pe})){w=C,y=!1;break}E.set(C,Ae)}if(y)for(var G=S?3:1,be=function(Ye){var Xe=$.find(function(Le){var et=E.get(Le);if(et)return et.slice(0,Ye).every(function(yt){return yt})});if(Xe)return w=Xe,"break"},ie=G;ie>0;ie--){var Ce=be(ie);if(Ce==="break")break}e.placement!==w&&(e.modifiersData[r]._skip=!0,e.placement=w,e.reset=!0)}}const XS={name:"flip",enabled:!0,phase:"main",fn:qS,requiresIfExists:["offset"],data:{_skip:!1}};function Ap(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function Pp(t){return[Qt,pn,dn,Zt].some(function(e){return t[e]>=0})}function QS(t){var e=t.state,n=t.name,r=e.rects.reference,s=e.rects.popper,i=e.modifiersData.preventOverflow,o=mo(e,{elementContext:"reference"}),l=mo(e,{altBoundary:!0}),c=Ap(o,r),u=Ap(l,s,i),f=Pp(c),p=Pp(u);e.modifiersData[n]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:f,hasPopperEscaped:p},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":p})}const ZS={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:QS};function JS(t,e,n){var r=Nn(t),s=[Zt,Qt].indexOf(r)>=0?-1:1,i=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,o=i[0],l=i[1];return o=o||0,l=(l||0)*s,[Zt,pn].indexOf(r)>=0?{x:l,y:o}:{x:o,y:l}}function eA(t){var e=t.state,n=t.options,r=t.name,s=n.offset,i=s===void 0?[0,0]:s,o=B_.reduce(function(f,p){return f[p]=JS(p,e.rects,i),f},{}),l=o[e.placement],c=l.x,u=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=o}const tA={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:eA};function nA(t){var e=t.state,n=t.name;e.modifiersData[n]=q_({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const rA={name:"popperOffsets",enabled:!0,phase:"read",fn:nA,data:{}};function sA(t){return t==="x"?"y":"x"}function iA(t){var e=t.state,n=t.options,r=t.name,s=n.mainAxis,i=s===void 0?!0:s,o=n.altAxis,l=o===void 0?!1:o,c=n.boundary,u=n.rootBoundary,f=n.altBoundary,p=n.padding,g=n.tether,b=g===void 0?!0:g,S=n.tetherOffset,P=S===void 0?0:S,O=mo(e,{boundary:c,rootBoundary:u,padding:p,altBoundary:f}),k=Nn(e.placement),z=ti(e.placement),U=!z,$=Dh(k),K=sA($),j=e.modifiersData.popperOffsets,E=e.rects.reference,y=e.rects.popper,w=typeof P=="function"?P(Object.assign({},e.rects,{placement:e.placement})):P,T=typeof w=="number"?{mainAxis:w,altAxis:w}:Object.assign({mainAxis:0,altAxis:0},w),C=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,_={x:0,y:0};if(j){if(i){var v,J=$==="y"?Qt:Zt,ee=$==="y"?dn:pn,oe=$==="y"?"height":"width",fe=j[$],pe=fe+O[J],Ae=fe-O[ee],G=b?-y[oe]/2:0,be=z===Zs?E[oe]:y[oe],ie=z===Zs?-y[oe]:-E[oe],Ce=e.elements.arrow,Pe=b&&Ce?Ih(Ce):{width:0,height:0},Ye=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:V_(),Xe=Ye[J],Le=Ye[ee],et=Zi(0,E[oe],Pe[oe]),yt=U?E[oe]/2-G-et-Xe-T.mainAxis:be-et-Xe-T.mainAxis,lt=U?-E[oe]/2+G+et+Le+T.mainAxis:ie+et+Le+T.mainAxis,pt=e.elements.arrow&&Po(e.elements.arrow),gt=pt?$==="y"?pt.clientTop||0:pt.clientLeft||0:0,I=(v=C==null?void 0:C[$])!=null?v:0,A=fe+yt-I-gt,x=fe+lt-I,H=Zi(b?Ha(pe,A):pe,fe,b?ts(Ae,x):Ae);j[$]=H,_[$]=H-fe}if(l){var F,V=$==="x"?Qt:Zt,Z=$==="x"?dn:pn,q=j[K],X=K==="y"?"height":"width",B=q+O[V],ne=q-O[Z],ce=[Qt,Zt].indexOf(k)!==-1,le=(F=C==null?void 0:C[K])!=null?F:0,ae=ce?B:q-E[X]-y[X]-le+T.altAxis,ue=ce?q+E[X]+y[X]-le-T.altAxis:ne,Ie=b&&ce?PS(ae,q,ue):Zi(b?ae:B,q,b?ue:ne);j[K]=Ie,_[K]=Ie-q}e.modifiersData[r]=_}}const oA={name:"preventOverflow",enabled:!0,phase:"main",fn:iA,requiresIfExists:["offset"]};function aA(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function lA(t){return t===nn(t)||!hn(t)?Sh(t):aA(t)}function cA(t){var e=t.getBoundingClientRect(),n=Js(e.width)/t.offsetWidth||1,r=Js(e.height)/t.offsetHeight||1;return n!==1||r!==1}function uA(t,e,n){n===void 0&&(n=!1);var r=hn(e),s=hn(e)&&cA(e),i=Nr(e),o=ei(t,s,n),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(r||!r&&!n)&&(($n(e)!=="body"||Ph(i))&&(l=lA(e)),hn(e)?(c=ei(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):i&&(c.x=Ah(i))),{x:o.left+l.scrollLeft-c.x,y:o.top+l.scrollTop-c.y,width:o.width,height:o.height}}function hA(t){var e=new Map,n=new Set,r=[];t.forEach(function(i){e.set(i.name,i)});function s(i){n.add(i.name);var o=[].concat(i.requires||[],i.requiresIfExists||[]);o.forEach(function(l){if(!n.has(l)){var c=e.get(l);c&&s(c)}}),r.push(i)}return t.forEach(function(i){n.has(i.name)||s(i)}),r}function fA(t){var e=hA(t);return ES.reduce(function(n,r){return n.concat(e.filter(function(s){return s.phase===r}))},[])}function dA(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function pA(t){var e=t.reduce(function(n,r){var s=n[r.name];return n[r.name]=s?Object.assign({},s,r,{options:Object.assign({},s.options,r.options),data:Object.assign({},s.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var Mp={placement:"bottom",modifiers:[],strategy:"absolute"};function Op(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function gA(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,s=e.defaultOptions,i=s===void 0?Mp:s;return function(l,c,u){u===void 0&&(u=i);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Mp,i),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],g=!1,b={state:f,setOptions:function(k){var z=typeof k=="function"?k(f.options):k;P(),f.options=Object.assign({},i,f.options,z),f.scrollParents={reference:as(l)?Ji(l):l.contextElement?Ji(l.contextElement):[],popper:Ji(c)};var U=fA(pA([].concat(r,f.options.modifiers)));return f.orderedModifiers=U.filter(function($){return $.enabled}),S(),b.update()},forceUpdate:function(){if(!g){var k=f.elements,z=k.reference,U=k.popper;if(Op(z,U)){f.rects={reference:uA(z,Po(U),f.options.strategy==="fixed"),popper:Ih(U)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(T){return f.modifiersData[T.name]=Object.assign({},T.data)});for(var $=0;$<f.orderedModifiers.length;$++){if(f.reset===!0){f.reset=!1,$=-1;continue}var K=f.orderedModifiers[$],j=K.fn,E=K.options,y=E===void 0?{}:E,w=K.name;typeof j=="function"&&(f=j({state:f,options:y,name:w,instance:b})||f)}}}},update:dA(function(){return new Promise(function(O){b.forceUpdate(),O(f)})}),destroy:function(){P(),g=!0}};if(!Op(l,c))return b;b.setOptions(u).then(function(O){!g&&u.onFirstUpdate&&u.onFirstUpdate(O)});function S(){f.orderedModifiers.forEach(function(O){var k=O.name,z=O.options,U=z===void 0?{}:z,$=O.effect;if(typeof $=="function"){var K=$({state:f,name:k,instance:b,options:U}),j=function(){};p.push(K||j)}})}function P(){p.forEach(function(O){return O()}),p=[]}return b}}var vA=[YS,rA,LS,DS,tA,XS,oA,xS,ZS],mA=gA({defaultModifiers:vA}),_A=Object.defineProperty,yA=(t,e,n)=>e in t?_A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,de=(t,e,n)=>(yA(t,typeof e!="symbol"?e+"":e,n),n),ta=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function X_(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var wA=Object.prototype,bA=wA.hasOwnProperty;function CA(t,e){return t!=null&&bA.call(t,e)}var EA=CA,TA=Array.isArray,In=TA,IA=typeof ta=="object"&&ta&&ta.Object===Object&&ta,Q_=IA,DA=Q_,SA=typeof self=="object"&&self&&self.Object===Object&&self,AA=DA||SA||Function("return this")(),Fn=AA,PA=Fn,MA=PA.Symbol,Dl=MA,kp=Dl,Z_=Object.prototype,OA=Z_.hasOwnProperty,kA=Z_.toString,Ni=kp?kp.toStringTag:void 0;function xA(t){var e=OA.call(t,Ni),n=t[Ni];try{t[Ni]=void 0;var r=!0}catch{}var s=kA.call(t);return r&&(e?t[Ni]=n:delete t[Ni]),s}var RA=xA,NA=Object.prototype,$A=NA.toString;function LA(t){return $A.call(t)}var FA=LA,xp=Dl,YA=RA,HA=FA,jA="[object Null]",BA="[object Undefined]",Rp=xp?xp.toStringTag:void 0;function UA(t){return t==null?t===void 0?BA:jA:Rp&&Rp in Object(t)?YA(t):HA(t)}var Yn=UA;function WA(t){return t!=null&&typeof t=="object"}var Dn=WA,VA=Yn,zA=Dn,KA="[object Symbol]";function GA(t){return typeof t=="symbol"||zA(t)&&VA(t)==KA}var Mh=GA,qA=In,XA=Mh,QA=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ZA=/^\w*$/;function JA(t,e){if(qA(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||XA(t)?!0:ZA.test(t)||!QA.test(t)||e!=null&&t in Object(e)}var Oh=JA;function eP(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var nr=eP,tP=Yn,nP=nr,rP="[object AsyncFunction]",sP="[object Function]",iP="[object GeneratorFunction]",oP="[object Proxy]";function aP(t){if(!nP(t))return!1;var e=tP(t);return e==sP||e==iP||e==rP||e==oP}var ps=aP,lP=Fn,cP=lP["__core-js_shared__"],uP=cP,gc=uP,Np=function(){var t=/[^.]+$/.exec(gc&&gc.keys&&gc.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function hP(t){return!!Np&&Np in t}var fP=hP,dP=Function.prototype,pP=dP.toString;function gP(t){if(t!=null){try{return pP.call(t)}catch{}try{return t+""}catch{}}return""}var J_=gP,vP=ps,mP=fP,_P=nr,yP=J_,wP=/[\\^$.*+?()[\]{}|]/g,bP=/^\[object .+?Constructor\]$/,CP=Function.prototype,EP=Object.prototype,TP=CP.toString,IP=EP.hasOwnProperty,DP=RegExp("^"+TP.call(IP).replace(wP,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function SP(t){if(!_P(t)||mP(t))return!1;var e=vP(t)?DP:bP;return e.test(yP(t))}var AP=SP;function PP(t,e){return t==null?void 0:t[e]}var MP=PP,OP=AP,kP=MP;function xP(t,e){var n=kP(t,e);return OP(n)?n:void 0}var gs=xP,RP=gs,NP=RP(Object,"create"),Sl=NP,$p=Sl;function $P(){this.__data__=$p?$p(null):{},this.size=0}var LP=$P;function FP(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var YP=FP,HP=Sl,jP="__lodash_hash_undefined__",BP=Object.prototype,UP=BP.hasOwnProperty;function WP(t){var e=this.__data__;if(HP){var n=e[t];return n===jP?void 0:n}return UP.call(e,t)?e[t]:void 0}var VP=WP,zP=Sl,KP=Object.prototype,GP=KP.hasOwnProperty;function qP(t){var e=this.__data__;return zP?e[t]!==void 0:GP.call(e,t)}var XP=qP,QP=Sl,ZP="__lodash_hash_undefined__";function JP(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=QP&&e===void 0?ZP:e,this}var eM=JP,tM=LP,nM=YP,rM=VP,sM=XP,iM=eM;function di(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}di.prototype.clear=tM;di.prototype.delete=nM;di.prototype.get=rM;di.prototype.has=sM;di.prototype.set=iM;var oM=di;function aM(){this.__data__=[],this.size=0}var lM=aM;function cM(t,e){return t===e||t!==t&&e!==e}var pi=cM,uM=pi;function hM(t,e){for(var n=t.length;n--;)if(uM(t[n][0],e))return n;return-1}var Al=hM,fM=Al,dM=Array.prototype,pM=dM.splice;function gM(t){var e=this.__data__,n=fM(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():pM.call(e,n,1),--this.size,!0}var vM=gM,mM=Al;function _M(t){var e=this.__data__,n=mM(e,t);return n<0?void 0:e[n][1]}var yM=_M,wM=Al;function bM(t){return wM(this.__data__,t)>-1}var CM=bM,EM=Al;function TM(t,e){var n=this.__data__,r=EM(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var IM=TM,DM=lM,SM=vM,AM=yM,PM=CM,MM=IM;function gi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}gi.prototype.clear=DM;gi.prototype.delete=SM;gi.prototype.get=AM;gi.prototype.has=PM;gi.prototype.set=MM;var Pl=gi,OM=gs,kM=Fn,xM=OM(kM,"Map"),kh=xM,Lp=oM,RM=Pl,NM=kh;function $M(){this.size=0,this.__data__={hash:new Lp,map:new(NM||RM),string:new Lp}}var LM=$M;function FM(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var YM=FM,HM=YM;function jM(t,e){var n=t.__data__;return HM(e)?n[typeof e=="string"?"string":"hash"]:n.map}var Ml=jM,BM=Ml;function UM(t){var e=BM(this,t).delete(t);return this.size-=e?1:0,e}var WM=UM,VM=Ml;function zM(t){return VM(this,t).get(t)}var KM=zM,GM=Ml;function qM(t){return GM(this,t).has(t)}var XM=qM,QM=Ml;function ZM(t,e){var n=QM(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var JM=ZM,e2=LM,t2=WM,n2=KM,r2=XM,s2=JM;function vi(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}vi.prototype.clear=e2;vi.prototype.delete=t2;vi.prototype.get=n2;vi.prototype.has=r2;vi.prototype.set=s2;var xh=vi,ey=xh,i2="Expected a function";function Rh(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(i2);var n=function(){var r=arguments,s=e?e.apply(this,r):r[0],i=n.cache;if(i.has(s))return i.get(s);var o=t.apply(this,r);return n.cache=i.set(s,o)||i,o};return n.cache=new(Rh.Cache||ey),n}Rh.Cache=ey;var o2=Rh,a2=o2,l2=500;function c2(t){var e=a2(t,function(r){return n.size===l2&&n.clear(),r}),n=e.cache;return e}var u2=c2,h2=u2,f2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d2=/\\(\\)?/g,p2=h2(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(f2,function(n,r,s,i){e.push(s?i.replace(d2,"$1"):r||n)}),e}),g2=p2;function v2(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var m2=v2,Fp=Dl,_2=m2,y2=In,w2=Mh,b2=1/0,Yp=Fp?Fp.prototype:void 0,Hp=Yp?Yp.toString:void 0;function ty(t){if(typeof t=="string")return t;if(y2(t))return _2(t,ty)+"";if(w2(t))return Hp?Hp.call(t):"";var e=t+"";return e=="0"&&1/t==-b2?"-0":e}var C2=ty,E2=C2;function T2(t){return t==null?"":E2(t)}var I2=T2,D2=In,S2=Oh,A2=g2,P2=I2;function M2(t,e){return D2(t)?t:S2(t,e)?[t]:A2(P2(t))}var ny=M2,O2=Yn,k2=Dn,x2="[object Arguments]";function R2(t){return k2(t)&&O2(t)==x2}var N2=R2,jp=N2,$2=Dn,ry=Object.prototype,L2=ry.hasOwnProperty,F2=ry.propertyIsEnumerable,Y2=jp(function(){return arguments}())?jp:function(t){return $2(t)&&L2.call(t,"callee")&&!F2.call(t,"callee")},Nh=Y2,H2=9007199254740991,j2=/^(?:0|[1-9]\d*)$/;function B2(t,e){var n=typeof t;return e=e??H2,!!e&&(n=="number"||n!="symbol"&&j2.test(t))&&t>-1&&t%1==0&&t<e}var $h=B2,U2=9007199254740991;function W2(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=U2}var Lh=W2,V2=Mh,z2=1/0;function K2(t){if(typeof t=="string"||V2(t))return t;var e=t+"";return e=="0"&&1/t==-z2?"-0":e}var Ol=K2,G2=ny,q2=Nh,X2=In,Q2=$h,Z2=Lh,J2=Ol;function eO(t,e,n){e=G2(e,t);for(var r=-1,s=e.length,i=!1;++r<s;){var o=J2(e[r]);if(!(i=t!=null&&n(t,o)))break;t=t[o]}return i||++r!=s?i:(s=t==null?0:t.length,!!s&&Z2(s)&&Q2(o,s)&&(X2(t)||q2(t)))}var sy=eO,tO=EA,nO=sy;function rO(t,e){return t!=null&&nO(t,e,tO)}var iy=rO,sO=Yn,iO=Dn,oO="[object Date]";function aO(t){return iO(t)&&sO(t)==oO}var lO=aO;function cO(t){return function(e){return t(e)}}var oy=cO,_o={},uO={get exports(){return _o},set exports(t){_o=t}};(function(t,e){var n=Q_,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i&&n.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}}();t.exports=l})(uO,_o);var hO=lO,fO=oy,Bp=_o,Up=Bp&&Bp.isDate,dO=Up?fO(Up):hO,pO=dO,gO=Yn,vO=In,mO=Dn,_O="[object String]";function yO(t){return typeof t=="string"||!vO(t)&&mO(t)&&gO(t)==_O}var xn=yO;function wO(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var ay=wO,bO=Pl;function CO(){this.__data__=new bO,this.size=0}var EO=CO;function TO(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var IO=TO;function DO(t){return this.__data__.get(t)}var SO=DO;function AO(t){return this.__data__.has(t)}var PO=AO,MO=Pl,OO=kh,kO=xh,xO=200;function RO(t,e){var n=this.__data__;if(n instanceof MO){var r=n.__data__;if(!OO||r.length<xO-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new kO(r)}return n.set(t,e),this.size=n.size,this}var NO=RO,$O=Pl,LO=EO,FO=IO,YO=SO,HO=PO,jO=NO;function mi(t){var e=this.__data__=new $O(t);this.size=e.size}mi.prototype.clear=LO;mi.prototype.delete=FO;mi.prototype.get=YO;mi.prototype.has=HO;mi.prototype.set=jO;var Fh=mi,BO="__lodash_hash_undefined__";function UO(t){return this.__data__.set(t,BO),this}var WO=UO;function VO(t){return this.__data__.has(t)}var zO=VO,KO=xh,GO=WO,qO=zO;function ja(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new KO;++e<n;)this.add(t[e])}ja.prototype.add=ja.prototype.push=GO;ja.prototype.has=qO;var XO=ja;function QO(t,e){return t.has(e)}var ZO=QO,JO=XO,ek=ay,tk=ZO,nk=1,rk=2;function sk(t,e,n,r,s,i){var o=n&nk,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;var u=i.get(t),f=i.get(e);if(u&&f)return u==e&&f==t;var p=-1,g=!0,b=n&rk?new JO:void 0;for(i.set(t,e),i.set(e,t);++p<l;){var S=t[p],P=e[p];if(r)var O=o?r(P,S,p,e,t,i):r(S,P,p,t,e,i);if(O!==void 0){if(O)continue;g=!1;break}if(b){if(!ek(e,function(k,z){if(!tk(b,z)&&(S===k||s(S,k,n,r,i)))return b.push(z)})){g=!1;break}}else if(!(S===P||s(S,P,n,r,i))){g=!1;break}}return i.delete(t),i.delete(e),g}var ly=sk,ik=Fn,ok=ik.Uint8Array,cy=ok;function ak(t){var e=-1,n=Array(t.size);return t.forEach(function(r,s){n[++e]=[s,r]}),n}var lk=ak;function ck(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var uk=ck,Wp=Dl,Vp=cy,hk=pi,fk=ly,dk=lk,pk=uk,gk=1,vk=2,mk="[object Boolean]",_k="[object Date]",yk="[object Error]",wk="[object Map]",bk="[object Number]",Ck="[object RegExp]",Ek="[object Set]",Tk="[object String]",Ik="[object Symbol]",Dk="[object ArrayBuffer]",Sk="[object DataView]",zp=Wp?Wp.prototype:void 0,vc=zp?zp.valueOf:void 0;function Ak(t,e,n,r,s,i,o){switch(n){case Sk:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Dk:return!(t.byteLength!=e.byteLength||!i(new Vp(t),new Vp(e)));case mk:case _k:case bk:return hk(+t,+e);case yk:return t.name==e.name&&t.message==e.message;case Ck:case Tk:return t==e+"";case wk:var l=dk;case Ek:var c=r&gk;if(l||(l=pk),t.size!=e.size&&!c)return!1;var u=o.get(t);if(u)return u==e;r|=vk,o.set(t,e);var f=fk(l(t),l(e),r,s,i,o);return o.delete(t),f;case Ik:if(vc)return vc.call(t)==vc.call(e)}return!1}var Pk=Ak;function Mk(t,e){for(var n=-1,r=e.length,s=t.length;++n<r;)t[s+n]=e[n];return t}var Ok=Mk,kk=Ok,xk=In;function Rk(t,e,n){var r=e(t);return xk(t)?r:kk(r,n(t))}var Nk=Rk;function $k(t,e){for(var n=-1,r=t==null?0:t.length,s=0,i=[];++n<r;){var o=t[n];e(o,n,t)&&(i[s++]=o)}return i}var Lk=$k;function Fk(){return[]}var Yk=Fk,Hk=Lk,jk=Yk,Bk=Object.prototype,Uk=Bk.propertyIsEnumerable,Kp=Object.getOwnPropertySymbols,Wk=Kp?function(t){return t==null?[]:(t=Object(t),Hk(Kp(t),function(e){return Uk.call(t,e)}))}:jk,Vk=Wk;function zk(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Kk=zk,ni={},Gk={get exports(){return ni},set exports(t){ni=t}};function qk(){return!1}var Xk=qk;(function(t,e){var n=Fn,r=Xk,s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?n.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||r;t.exports=u})(Gk,ni);var Qk=Yn,Zk=Lh,Jk=Dn,ex="[object Arguments]",tx="[object Array]",nx="[object Boolean]",rx="[object Date]",sx="[object Error]",ix="[object Function]",ox="[object Map]",ax="[object Number]",lx="[object Object]",cx="[object RegExp]",ux="[object Set]",hx="[object String]",fx="[object WeakMap]",dx="[object ArrayBuffer]",px="[object DataView]",gx="[object Float32Array]",vx="[object Float64Array]",mx="[object Int8Array]",_x="[object Int16Array]",yx="[object Int32Array]",wx="[object Uint8Array]",bx="[object Uint8ClampedArray]",Cx="[object Uint16Array]",Ex="[object Uint32Array]",Ze={};Ze[gx]=Ze[vx]=Ze[mx]=Ze[_x]=Ze[yx]=Ze[wx]=Ze[bx]=Ze[Cx]=Ze[Ex]=!0;Ze[ex]=Ze[tx]=Ze[dx]=Ze[nx]=Ze[px]=Ze[rx]=Ze[sx]=Ze[ix]=Ze[ox]=Ze[ax]=Ze[lx]=Ze[cx]=Ze[ux]=Ze[hx]=Ze[fx]=!1;function Tx(t){return Jk(t)&&Zk(t.length)&&!!Ze[Qk(t)]}var Ix=Tx,Dx=Ix,Sx=oy,Gp=_o,qp=Gp&&Gp.isTypedArray,Ax=qp?Sx(qp):Dx,Yh=Ax,Px=Kk,Mx=Nh,Ox=In,kx=ni,xx=$h,Rx=Yh,Nx=Object.prototype,$x=Nx.hasOwnProperty;function Lx(t,e){var n=Ox(t),r=!n&&Mx(t),s=!n&&!r&&kx(t),i=!n&&!r&&!s&&Rx(t),o=n||r||s||i,l=o?Px(t.length,String):[],c=l.length;for(var u in t)(e||$x.call(t,u))&&!(o&&(u=="length"||s&&(u=="offset"||u=="parent")||i&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||xx(u,c)))&&l.push(u);return l}var uy=Lx,Fx=Object.prototype;function Yx(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||Fx;return t===n}var Hh=Yx;function Hx(t,e){return function(n){return t(e(n))}}var hy=Hx,jx=hy,Bx=jx(Object.keys,Object),Ux=Bx,Wx=Hh,Vx=Ux,zx=Object.prototype,Kx=zx.hasOwnProperty;function Gx(t){if(!Wx(t))return Vx(t);var e=[];for(var n in Object(t))Kx.call(t,n)&&n!="constructor"&&e.push(n);return e}var qx=Gx,Xx=ps,Qx=Lh;function Zx(t){return t!=null&&Qx(t.length)&&!Xx(t)}var Mo=Zx,Jx=uy,eR=qx,tR=Mo;function nR(t){return tR(t)?Jx(t):eR(t)}var jh=nR,rR=Nk,sR=Vk,iR=jh;function oR(t){return rR(t,iR,sR)}var aR=oR,Xp=aR,lR=1,cR=Object.prototype,uR=cR.hasOwnProperty;function hR(t,e,n,r,s,i){var o=n&lR,l=Xp(t),c=l.length,u=Xp(e),f=u.length;if(c!=f&&!o)return!1;for(var p=c;p--;){var g=l[p];if(!(o?g in e:uR.call(e,g)))return!1}var b=i.get(t),S=i.get(e);if(b&&S)return b==e&&S==t;var P=!0;i.set(t,e),i.set(e,t);for(var O=o;++p<c;){g=l[p];var k=t[g],z=e[g];if(r)var U=o?r(z,k,g,e,t,i):r(k,z,g,t,e,i);if(!(U===void 0?k===z||s(k,z,n,r,i):U)){P=!1;break}O||(O=g=="constructor")}if(P&&!O){var $=t.constructor,K=e.constructor;$!=K&&"constructor"in t&&"constructor"in e&&!(typeof $=="function"&&$ instanceof $&&typeof K=="function"&&K instanceof K)&&(P=!1)}return i.delete(t),i.delete(e),P}var fR=hR,dR=gs,pR=Fn,gR=dR(pR,"DataView"),vR=gR,mR=gs,_R=Fn,yR=mR(_R,"Promise"),wR=yR,bR=gs,CR=Fn,ER=bR(CR,"Set"),TR=ER,IR=gs,DR=Fn,SR=IR(DR,"WeakMap"),AR=SR,su=vR,iu=kh,ou=wR,au=TR,lu=AR,fy=Yn,_i=J_,Qp="[object Map]",PR="[object Object]",Zp="[object Promise]",Jp="[object Set]",eg="[object WeakMap]",tg="[object DataView]",MR=_i(su),OR=_i(iu),kR=_i(ou),xR=_i(au),RR=_i(lu),Gr=fy;(su&&Gr(new su(new ArrayBuffer(1)))!=tg||iu&&Gr(new iu)!=Qp||ou&&Gr(ou.resolve())!=Zp||au&&Gr(new au)!=Jp||lu&&Gr(new lu)!=eg)&&(Gr=function(t){var e=fy(t),n=e==PR?t.constructor:void 0,r=n?_i(n):"";if(r)switch(r){case MR:return tg;case OR:return Qp;case kR:return Zp;case xR:return Jp;case RR:return eg}return e});var NR=Gr,mc=Fh,$R=ly,LR=Pk,FR=fR,ng=NR,rg=In,sg=ni,YR=Yh,HR=1,ig="[object Arguments]",og="[object Array]",na="[object Object]",jR=Object.prototype,ag=jR.hasOwnProperty;function BR(t,e,n,r,s,i){var o=rg(t),l=rg(e),c=o?og:ng(t),u=l?og:ng(e);c=c==ig?na:c,u=u==ig?na:u;var f=c==na,p=u==na,g=c==u;if(g&&sg(t)){if(!sg(e))return!1;o=!0,f=!1}if(g&&!f)return i||(i=new mc),o||YR(t)?$R(t,e,n,r,s,i):LR(t,e,c,n,r,s,i);if(!(n&HR)){var b=f&&ag.call(t,"__wrapped__"),S=p&&ag.call(e,"__wrapped__");if(b||S){var P=b?t.value():t,O=S?e.value():e;return i||(i=new mc),s(P,O,n,r,i)}}return g?(i||(i=new mc),FR(t,e,n,r,s,i)):!1}var UR=BR,WR=UR,lg=Dn;function dy(t,e,n,r,s){return t===e?!0:t==null||e==null||!lg(t)&&!lg(e)?t!==t&&e!==e:WR(t,e,n,r,dy,s)}var py=dy,VR=Fh,zR=py,KR=1,GR=2;function qR(t,e,n,r){var s=n.length,i=s,o=!r;if(t==null)return!i;for(t=Object(t);s--;){var l=n[s];if(o&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++s<i;){l=n[s];var c=l[0],u=t[c],f=l[1];if(o&&l[2]){if(u===void 0&&!(c in t))return!1}else{var p=new VR;if(r)var g=r(u,f,c,t,e,p);if(!(g===void 0?zR(f,u,KR|GR,r,p):g))return!1}}return!0}var XR=qR,QR=nr;function ZR(t){return t===t&&!QR(t)}var gy=ZR,JR=gy,eN=jh;function tN(t){for(var e=eN(t),n=e.length;n--;){var r=e[n],s=t[r];e[n]=[r,s,JR(s)]}return e}var nN=tN;function rN(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var vy=rN,sN=XR,iN=nN,oN=vy;function aN(t){var e=iN(t);return e.length==1&&e[0][2]?oN(e[0][0],e[0][1]):function(n){return n===t||sN(n,t,e)}}var lN=aN,cN=ny,uN=Ol;function hN(t,e){e=cN(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[uN(e[n++])];return n&&n==r?t:void 0}var my=hN,fN=my;function dN(t,e,n){var r=t==null?void 0:fN(t,e);return r===void 0?n:r}var Zr=dN;function pN(t,e){return t!=null&&e in Object(t)}var gN=pN,vN=gN,mN=sy;function _N(t,e){return t!=null&&mN(t,e,vN)}var yN=_N,wN=py,bN=Zr,CN=yN,EN=Oh,TN=gy,IN=vy,DN=Ol,SN=1,AN=2;function PN(t,e){return EN(t)&&TN(e)?IN(DN(t),e):function(n){var r=bN(n,t);return r===void 0&&r===e?CN(n,t):wN(e,r,SN|AN)}}var MN=PN;function ON(t){return t}var Bh=ON;function kN(t){return function(e){return e==null?void 0:e[t]}}var xN=kN,RN=my;function NN(t){return function(e){return RN(e,t)}}var $N=NN,LN=xN,FN=$N,YN=Oh,HN=Ol;function jN(t){return YN(t)?LN(HN(t)):FN(t)}var BN=jN,UN=lN,WN=MN,VN=Bh,zN=In,KN=BN;function GN(t){return typeof t=="function"?t:t==null?VN:typeof t=="object"?zN(t)?WN(t[0],t[1]):UN(t):KN(t)}var _y=GN;function qN(t){return function(e,n,r){for(var s=-1,i=Object(e),o=r(e),l=o.length;l--;){var c=o[t?l:++s];if(n(i[c],c,i)===!1)break}return e}}var XN=qN,QN=XN,ZN=QN(),yy=ZN,JN=yy,e$=jh;function t$(t,e){return t&&JN(t,e,e$)}var wy=t$,n$=Mo;function r$(t,e){return function(n,r){if(n==null)return n;if(!n$(n))return t(n,r);for(var s=n.length,i=e?s:-1,o=Object(n);(e?i--:++i<s)&&r(o[i],i,o)!==!1;);return n}}var s$=r$,i$=wy,o$=s$,a$=o$(i$),l$=a$,c$=l$;function u$(t,e){var n;return c$(t,function(r,s,i){return n=e(r,s,i),!n}),!!n}var h$=u$,f$=pi,d$=Mo,p$=$h,g$=nr;function v$(t,e,n){if(!g$(n))return!1;var r=typeof e;return(r=="number"?d$(n)&&p$(e,n.length):r=="string"&&e in n)?f$(n[e],t):!1}var Uh=v$,m$=ay,_$=_y,y$=h$,w$=In,b$=Uh;function C$(t,e,n){var r=w$(t)?m$:y$;return n&&b$(t,e,n)&&(e=void 0),r(t,_$(e))}var E$=C$,T$=Yn,I$=Dn,D$="[object Boolean]";function S$(t){return t===!0||t===!1||I$(t)&&T$(t)==D$}var A$=S$,P$=Yn,M$=Dn,O$="[object Number]";function k$(t){return typeof t=="number"||M$(t)&&P$(t)==O$}var Tn=k$,x$=gs,R$=function(){try{var t=x$(Object,"defineProperty");return t({},"",{}),t}catch{}}(),by=R$,cg=by;function N$(t,e,n){e=="__proto__"&&cg?cg(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var kl=N$,$$=kl,L$=pi,F$=Object.prototype,Y$=F$.hasOwnProperty;function H$(t,e,n){var r=t[e];(!(Y$.call(t,e)&&L$(r,n))||n===void 0&&!(e in t))&&$$(t,e,n)}var j$=H$,B$=kl,U$=wy,W$=_y;function V$(t,e){var n={};return e=W$(e),U$(t,function(r,s,i){B$(n,s,e(r,s,i))}),n}var z$=V$;function K$(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Cy=K$,G$=Cy,ug=Math.max;function q$(t,e,n){return e=ug(e===void 0?t.length-1:e,0),function(){for(var r=arguments,s=-1,i=ug(r.length-e,0),o=Array(i);++s<i;)o[s]=r[e+s];s=-1;for(var l=Array(e+1);++s<e;)l[s]=r[s];return l[e]=n(o),G$(t,this,l)}}var X$=q$;function Q$(t){return function(){return t}}var Z$=Q$,J$=Z$,hg=by,eL=Bh,tL=hg?function(t,e){return hg(t,"toString",{configurable:!0,enumerable:!1,value:J$(e),writable:!0})}:eL,nL=tL,rL=800,sL=16,iL=Date.now;function oL(t){var e=0,n=0;return function(){var r=iL(),s=sL-(r-n);if(n=r,s>0){if(++e>=rL)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var aL=oL,lL=nL,cL=aL,uL=cL(lL),hL=uL,fL=Bh,dL=X$,pL=hL;function gL(t,e){return pL(dL(t,e,fL),t+"")}var Wh=gL;function vL(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var mL=vL,_L=nr,yL=Hh,wL=mL,bL=Object.prototype,CL=bL.hasOwnProperty;function EL(t){if(!_L(t))return wL(t);var e=yL(t),n=[];for(var r in t)r=="constructor"&&(e||!CL.call(t,r))||n.push(r);return n}var TL=EL,IL=uy,DL=TL,SL=Mo;function AL(t){return SL(t)?IL(t,!0):DL(t)}var Vh=AL,PL=Wh,ML=pi,OL=Uh,kL=Vh,Ey=Object.prototype,xL=Ey.hasOwnProperty,RL=PL(function(t,e){t=Object(t);var n=-1,r=e.length,s=r>2?e[2]:void 0;for(s&&OL(e[0],e[1],s)&&(r=1);++n<r;)for(var i=e[n],o=kL(i),l=-1,c=o.length;++l<c;){var u=o[l],f=t[u];(f===void 0||ML(f,Ey[u])&&!xL.call(t,u))&&(t[u]=i[u])}return t}),fg=RL,NL=kl,$L=pi;function LL(t,e,n){(n!==void 0&&!$L(t[e],n)||n===void 0&&!(e in t))&&NL(t,e,n)}var Ty=LL,Ba={},FL={get exports(){return Ba},set exports(t){Ba=t}};(function(t,e){var n=Fn,r=e&&!e.nodeType&&e,s=r&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===r,o=i?n.Buffer:void 0,l=o?o.allocUnsafe:void 0;function c(u,f){if(f)return u.slice();var p=u.length,g=l?l(p):new u.constructor(p);return u.copy(g),g}t.exports=c})(FL,Ba);var dg=cy;function YL(t){var e=new t.constructor(t.byteLength);return new dg(e).set(new dg(t)),e}var HL=YL,jL=HL;function BL(t,e){var n=e?jL(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var UL=BL;function WL(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}var VL=WL,zL=nr,pg=Object.create,KL=function(){function t(){}return function(e){if(!zL(e))return{};if(pg)return pg(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}(),GL=KL,qL=hy,XL=qL(Object.getPrototypeOf,Object),Iy=XL,QL=GL,ZL=Iy,JL=Hh;function e4(t){return typeof t.constructor=="function"&&!JL(t)?QL(ZL(t)):{}}var t4=e4,n4=Mo,r4=Dn;function s4(t){return r4(t)&&n4(t)}var i4=s4,o4=Yn,a4=Iy,l4=Dn,c4="[object Object]",u4=Function.prototype,h4=Object.prototype,Dy=u4.toString,f4=h4.hasOwnProperty,d4=Dy.call(Object);function p4(t){if(!l4(t)||o4(t)!=c4)return!1;var e=a4(t);if(e===null)return!0;var n=f4.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Dy.call(n)==d4}var g4=p4;function v4(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}var Sy=v4,m4=j$,_4=kl;function y4(t,e,n,r){var s=!n;n||(n={});for(var i=-1,o=e.length;++i<o;){var l=e[i],c=r?r(n[l],t[l],l,n,t):void 0;c===void 0&&(c=t[l]),s?_4(n,l,c):m4(n,l,c)}return n}var w4=y4,b4=w4,C4=Vh;function E4(t){return b4(t,C4(t))}var T4=E4,gg=Ty,I4=Ba,D4=UL,S4=VL,A4=t4,vg=Nh,mg=In,P4=i4,M4=ni,O4=ps,k4=nr,x4=g4,R4=Yh,_g=Sy,N4=T4;function $4(t,e,n,r,s,i,o){var l=_g(t,n),c=_g(e,n),u=o.get(c);if(u){gg(t,n,u);return}var f=i?i(l,c,n+"",t,e,o):void 0,p=f===void 0;if(p){var g=mg(c),b=!g&&M4(c),S=!g&&!b&&R4(c);f=c,g||b||S?mg(l)?f=l:P4(l)?f=S4(l):b?(p=!1,f=I4(c,!0)):S?(p=!1,f=D4(c,!0)):f=[]:x4(c)||vg(c)?(f=l,vg(l)?f=N4(l):(!k4(l)||O4(l))&&(f=A4(c))):p=!1}p&&(o.set(c,f),s(f,c,r,i,o),o.delete(c)),gg(t,n,f)}var L4=$4,F4=Fh,Y4=Ty,H4=yy,j4=L4,B4=nr,U4=Vh,W4=Sy;function Ay(t,e,n,r,s){t!==e&&H4(e,function(i,o){if(s||(s=new F4),B4(i))j4(t,e,o,n,Ay,r,s);else{var l=r?r(W4(t,o),i,o+"",t,e,s):void 0;l===void 0&&(l=i),Y4(t,o,l)}},U4)}var Py=Ay,V4=Py,yg=nr;function My(t,e,n,r,s,i){return yg(t)&&yg(e)&&(i.set(e,t),V4(t,e,void 0,My,i),i.delete(e)),t}var z4=My,K4=Wh,G4=Uh;function q4(t){return K4(function(e,n){var r=-1,s=n.length,i=s>1?n[s-1]:void 0,o=s>2?n[2]:void 0;for(i=t.length>3&&typeof i=="function"?(s--,i):void 0,o&&G4(n[0],n[1],o)&&(i=s<3?void 0:i,s=1),e=Object(e);++r<s;){var l=n[r];l&&t(e,l,r,i)}return e})}var X4=q4,Q4=Py,Z4=X4,J4=Z4(function(t,e,n,r){Q4(t,e,n,r)}),eF=J4,tF=Cy,nF=Wh,rF=z4,sF=eF,iF=nF(function(t){return t.push(void 0,rF),tF(sF,void 0,t)}),ri=iF;function oF(t){return t&&t.length?t[0]:void 0}var Oy=oF;function aF(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var As=aF;const lF=t=>Object.prototype.toString.call(t).slice(8,-1),Ls=t=>pO(t)&&!isNaN(t.getTime()),Jn=t=>lF(t)==="Object",ky=iy,wg=(t,e)=>E$(e,n=>iy(t,n)),He=(t,e,n="0")=>{for(t=t!=null?String(t):"",e=e||2;t.length<e;)t=`${n}${t}`;return t},fn=t=>Array.isArray(t),zn=t=>fn(t)&&t.length>0,Ua=t=>t==null?null:document&&xn(t)?document.querySelector(t):t.$el??t,vr=(t,e,n,r=void 0)=>{t.removeEventListener(e,n,r)},mr=(t,e,n,r=void 0)=>(t.addEventListener(e,n,r),()=>vr(t,e,n,r)),fa=(t,e)=>!!t&&!!e&&(t===e||t.contains(e)),ra=(t,e)=>{(t.key===" "||t.key==="Enter")&&(e(t),t.preventDefault())},xy=(t,...e)=>{const n={};let r;for(r in t)e.includes(r)||(n[r]=t[r]);return n},Ry=(t,e)=>{const n={};return e.forEach(r=>{r in t&&(n[r]=t[r])}),n};function cF(t,e,n){return Math.min(Math.max(t,e),n)}var Wa={},uF={get exports(){return Wa},set exports(t){Wa=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){if(r===null||r===!0||r===!1)return NaN;var s=Number(r);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=e.default})(uF,Wa);const hF=X_(Wa);var Va={},fF={get exports(){return Va},set exports(t){Va=t}};(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;function n(r){var s=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return s.setUTCFullYear(r.getFullYear()),r.getTime()-s.getTime()}t.exports=e.default})(fF,Va);const bg=X_(Va);function dF(t,e){var n=mF(e);return n.formatToParts?gF(n,t):vF(n,t)}var pF={year:0,month:1,day:2,hour:3,minute:4,second:5};function gF(t,e){try{for(var n=t.formatToParts(e),r=[],s=0;s<n.length;s++){var i=pF[n[s].type];i>=0&&(r[i]=parseInt(n[s].value,10))}return r}catch(o){if(o instanceof RangeError)return[NaN];throw o}}function vF(t,e){var n=t.format(e).replace(/\u200E/g,""),r=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(n);return[r[3],r[1],r[2],r[4],r[5],r[6]]}var _c={};function mF(t){if(!_c[t]){var e=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),n=e==="06/25/2014, 00:00:00"||e==="06/25/2014 00:00:00";_c[t]=n?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return _c[t]}function Ny(t,e,n,r,s,i,o){var l=new Date(0);return l.setUTCFullYear(t,e,n),l.setUTCHours(r,s,i,o),l}var Cg=36e5,_F=6e4,yc={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function yF(t,e,n){var r,s;if(!t||(r=yc.timezoneZ.exec(t),r))return 0;var i;if(r=yc.timezoneHH.exec(t),r)return i=parseInt(r[1],10),Eg(i)?-(i*Cg):NaN;if(r=yc.timezoneHHMM.exec(t),r){i=parseInt(r[1],10);var o=parseInt(r[2],10);return Eg(i,o)?(s=Math.abs(i)*Cg+o*_F,i>0?-s:s):NaN}if(CF(t)){e=new Date(e||Date.now());var l=wF(e),c=cu(l,t),u=bF(e,c,t);return-u}return NaN}function wF(t){return Ny(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function cu(t,e){var n=dF(t,e),r=Ny(n[0],n[1]-1,n[2],n[3]%24,n[4],n[5],0).getTime(),s=t.getTime(),i=s%1e3;return s-=i>=0?i:1e3+i,r-s}function bF(t,e,n){var r=t.getTime(),s=r-e,i=cu(new Date(s),n);if(e===i)return e;s-=i-e;var o=cu(new Date(s),n);return i===o?i:Math.max(i,o)}function Eg(t,e){return-23<=t&&t<=23&&(e==null||0<=e&&e<=59)}var Tg={};function CF(t){if(Tg[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Tg[t]=!0,!0}catch{return!1}}var EF=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/;const TF=EF;var wc=36e5,Ig=6e4,IF=2,Ut={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:TF};function DF(t,e){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var n=e||{},r=n.additionalDigits==null?IF:hF(n.additionalDigits);if(r!==2&&r!==1&&r!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=SF(t),i=AF(s.date,r),o=i.year,l=i.restDateString,c=PF(l,o);if(isNaN(c))return new Date(NaN);if(c){var u=c.getTime(),f=0,p;if(s.time&&(f=MF(s.time),isNaN(f)))return new Date(NaN);if(s.timeZone||n.timeZone){if(p=yF(s.timeZone||n.timeZone,new Date(u+f)),isNaN(p))return new Date(NaN)}else p=bg(new Date(u+f)),p=bg(new Date(u+f+p));return new Date(u+f+p)}else return new Date(NaN)}function SF(t){var e={},n=Ut.dateTimePattern.exec(t),r;if(n?(e.date=n[1],r=n[3]):(n=Ut.datePattern.exec(t),n?(e.date=n[1],r=n[2]):(e.date=null,r=t)),r){var s=Ut.timeZone.exec(r);s?(e.time=r.replace(s[1],""),e.timeZone=s[1].trim()):e.time=r}return e}function AF(t,e){var n=Ut.YYY[e],r=Ut.YYYYY[e],s;if(s=Ut.YYYY.exec(t)||r.exec(t),s){var i=s[1];return{year:parseInt(i,10),restDateString:t.slice(i.length)}}if(s=Ut.YY.exec(t)||n.exec(t),s){var o=s[1];return{year:parseInt(o,10)*100,restDateString:t.slice(o.length)}}return{year:null}}function PF(t,e){if(e===null)return null;var n,r,s,i;if(t.length===0)return r=new Date(0),r.setUTCFullYear(e),r;if(n=Ut.MM.exec(t),n)return r=new Date(0),s=parseInt(n[1],10)-1,Sg(e,s)?(r.setUTCFullYear(e,s),r):new Date(NaN);if(n=Ut.DDD.exec(t),n){r=new Date(0);var o=parseInt(n[1],10);return xF(e,o)?(r.setUTCFullYear(e,0,o),r):new Date(NaN)}if(n=Ut.MMDD.exec(t),n){r=new Date(0),s=parseInt(n[1],10)-1;var l=parseInt(n[2],10);return Sg(e,s,l)?(r.setUTCFullYear(e,s,l),r):new Date(NaN)}if(n=Ut.Www.exec(t),n)return i=parseInt(n[1],10)-1,Ag(e,i)?Dg(e,i):new Date(NaN);if(n=Ut.WwwD.exec(t),n){i=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return Ag(e,i,c)?Dg(e,i,c):new Date(NaN)}return null}function MF(t){var e,n,r;if(e=Ut.HH.exec(t),e)return n=parseFloat(e[1].replace(",",".")),bc(n)?n%24*wc:NaN;if(e=Ut.HHMM.exec(t),e)return n=parseInt(e[1],10),r=parseFloat(e[2].replace(",",".")),bc(n,r)?n%24*wc+r*Ig:NaN;if(e=Ut.HHMMSS.exec(t),e){n=parseInt(e[1],10),r=parseInt(e[2],10);var s=parseFloat(e[3].replace(",","."));return bc(n,r,s)?n%24*wc+r*Ig+s*1e3:NaN}return null}function Dg(t,e,n){e=e||0,n=n||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var s=r.getUTCDay()||7,i=e*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}var OF=[31,28,31,30,31,30,31,31,30,31,30,31],kF=[31,29,31,30,31,30,31,31,30,31,30,31];function $y(t){return t%400===0||t%4===0&&t%100!==0}function Sg(t,e,n){if(e<0||e>11)return!1;if(n!=null){if(n<1)return!1;var r=$y(t);if(r&&n>kF[e]||!r&&n>OF[e])return!1}return!0}function xF(t,e){if(e<1)return!1;var n=$y(t);return!(n&&e>366||!n&&e>365)}function Ag(t,e,n){return!(e<0||e>52||n!=null&&(n<0||n>6))}function bc(t,e,n){return!(t!=null&&(t<0||t>=25)||e!=null&&(e<0||e>=60)||n!=null&&(n<0||n>=60))}function Ht(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function da(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?da=function(n){return typeof n}:da=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},da(t)}function rr(t){Ht(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||da(t)==="object"&&e==="[object Date]"?new Date(t.getTime()):typeof t=="number"||e==="[object Number]"?new Date(t):((typeof t=="string"||e==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function yi(t){if(t===null||t===!0||t===!1)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}var RF={};function zh(){return RF}function ls(t,e){var n,r,s,i,o,l,c,u;Ht(1,arguments);var f=zh(),p=yi((n=(r=(s=(i=e==null?void 0:e.weekStartsOn)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.weekStartsOn)!==null&&s!==void 0?s:f.weekStartsOn)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.weekStartsOn)!==null&&n!==void 0?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var g=rr(t),b=g.getDay(),S=(b<p?7:0)+b-p;return g.setDate(g.getDate()-S),g.setHours(0,0,0,0),g}function Pg(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}var NF=6048e5;function $F(t,e,n){Ht(2,arguments);var r=ls(t,n),s=ls(e,n),i=r.getTime()-Pg(r),o=s.getTime()-Pg(s);return Math.round((i-o)/NF)}function LF(t){Ht(1,arguments);var e=rr(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(0,0,0,0),e}function FF(t){Ht(1,arguments);var e=rr(t);return e.setDate(1),e.setHours(0,0,0,0),e}function YF(t,e){return Ht(1,arguments),$F(LF(t),FF(t),e)+1}function HF(t,e){var n,r,s,i,o,l,c,u;Ht(1,arguments);var f=rr(t),p=f.getFullYear(),g=zh(),b=yi((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:g.firstWeekContainsDate)!==null&&r!==void 0?r:(c=g.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1);if(!(b>=1&&b<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=new Date(0);S.setFullYear(p+1,0,b),S.setHours(0,0,0,0);var P=ls(S,e),O=new Date(0);O.setFullYear(p,0,b),O.setHours(0,0,0,0);var k=ls(O,e);return f.getTime()>=P.getTime()?p+1:f.getTime()>=k.getTime()?p:p-1}function jF(t,e){var n,r,s,i,o,l,c,u;Ht(1,arguments);var f=zh(),p=yi((n=(r=(s=(i=e==null?void 0:e.firstWeekContainsDate)!==null&&i!==void 0?i:e==null||(o=e.locale)===null||o===void 0||(l=o.options)===null||l===void 0?void 0:l.firstWeekContainsDate)!==null&&s!==void 0?s:f.firstWeekContainsDate)!==null&&r!==void 0?r:(c=f.locale)===null||c===void 0||(u=c.options)===null||u===void 0?void 0:u.firstWeekContainsDate)!==null&&n!==void 0?n:1),g=HF(t,e),b=new Date(0);b.setFullYear(g,0,p),b.setHours(0,0,0,0);var S=ls(b,e);return S}var BF=6048e5;function UF(t,e){Ht(1,arguments);var n=rr(t),r=ls(n,e).getTime()-jF(n,e).getTime();return Math.round(r/BF)+1}function za(t){return Ht(1,arguments),ls(t,{weekStartsOn:1})}function WF(t){Ht(1,arguments);var e=rr(t),n=e.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var s=za(r),i=new Date(0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);var o=za(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function VF(t){Ht(1,arguments);var e=WF(t),n=new Date(0);n.setFullYear(e,0,4),n.setHours(0,0,0,0);var r=za(n);return r}var zF=6048e5;function KF(t){Ht(1,arguments);var e=rr(t),n=za(e).getTime()-VF(e).getTime();return Math.round(n/zF)+1}function Bt(t,e){Ht(2,arguments);var n=rr(t),r=yi(e);return isNaN(r)?new Date(NaN):(r&&n.setDate(n.getDate()+r),n)}function Ka(t,e){Ht(2,arguments);var n=rr(t),r=yi(e);if(isNaN(r))return new Date(NaN);if(!r)return n;var s=n.getDate(),i=new Date(n.getTime());i.setMonth(n.getMonth()+r+1,0);var o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function Mg(t,e){Ht(2,arguments);var n=yi(e);return Ka(t,n*12)}const GF={daily:["year","month","day"],weekly:["year","month","week"],monthly:["year","month"]};function qF({monthComps:t,prevMonthComps:e,nextMonthComps:n},r){const s=[],{firstDayOfWeek:i,firstWeekday:o,isoWeeknumbers:l,weeknumbers:c,numDays:u,numWeeks:f}=t,p=o+(o<i?Nt:0)-i;let g=!0,b=!1,S=!1,P=0;const O=new Intl.DateTimeFormat(r.id,{weekday:"long",year:"numeric",month:"short",day:"numeric"});let k=e.numDays-p+1,z=e.numDays-k+1,U=Math.floor((k-1)/Nt+1),$=1,K=e.numWeeks,j=1,E=e.month,y=e.year;const w=new Date,T=w.getDate(),C=w.getMonth()+1,_=w.getFullYear();for(let v=1;v<=B9;v++){for(let J=1,ee=i;J<=Nt;J++,ee+=ee===Nt?1-Nt:1){g&&ee===o&&(k=1,z=t.numDays,U=Math.floor((k-1)/Nt+1),$=Math.floor((u-k)/Nt+1),K=1,j=f,E=t.month,y=t.year,g=!1,b=!0);const oe=r.getDateFromParams(y,E,k,0,0,0,0),fe=r.getDateFromParams(y,E,k,12,0,0,0),pe=r.getDateFromParams(y,E,k,23,59,59,999),Ae=oe,G=`${He(y,4)}-${He(E,2)}-${He(k,2)}`,be=J,ie=Nt-J,Ce=c[v-1],Pe=l[v-1],Ye=k===T&&E===C&&y===_,Xe=b&&k===1,Le=b&&k===u,et=v===1,yt=v===f,lt=J===1,pt=J===Nt,gt=Gy(y,E,k);s.push({locale:r,id:G,position:++P,label:k.toString(),ariaLabel:O.format(new Date(y,E-1,k)),day:k,dayFromEnd:z,weekday:ee,weekdayPosition:be,weekdayPositionFromEnd:ie,weekdayOrdinal:U,weekdayOrdinalFromEnd:$,week:K,weekFromEnd:j,weekPosition:v,weeknumber:Ce,isoWeeknumber:Pe,month:E,year:y,date:Ae,startDate:oe,endDate:pe,noonDate:fe,dayIndex:gt,isToday:Ye,isFirstDay:Xe,isLastDay:Le,isDisabled:!b,isFocusable:!b,isFocused:!1,inMonth:b,inPrevMonth:g,inNextMonth:S,onTop:et,onBottom:yt,onLeft:lt,onRight:pt,classes:[`id-${G}`,`day-${k}`,`day-from-end-${z}`,`weekday-${ee}`,`weekday-position-${be}`,`weekday-ordinal-${U}`,`weekday-ordinal-from-end-${$}`,`week-${K}`,`week-from-end-${j}`,{"is-today":Ye,"is-first-day":Xe,"is-last-day":Le,"in-month":b,"in-prev-month":g,"in-next-month":S,"on-top":et,"on-bottom":yt,"on-left":lt,"on-right":pt}]}),b&&Le?(b=!1,S=!0,k=1,z=u,U=1,$=Math.floor((u-k)/Nt+1),K=1,j=n.numWeeks,E=n.month,y=n.year):(k++,z--,U=Math.floor((k-1)/Nt+1),$=Math.floor((u-k)/Nt+1))}K++,j--}return s}function XF(t,e,n,r){const s=t.reduce((i,o,l)=>{const c=Math.floor(l/7);let u=i[c];return u||(u={id:`week-${c+1}`,title:"",week:o.week,weekPosition:o.weekPosition,weeknumber:o.weeknumber,isoWeeknumber:o.isoWeeknumber,weeknumberDisplay:e?o.weeknumber:n?o.isoWeeknumber:void 0,days:[]},i[c]=u),u.days.push(o),i},Array(t.length/Nt));return s.forEach(i=>{const o=i.days[0],l=i.days[i.days.length-1];o.month===l.month?i.title=`${r.formatDate(o.date,"MMMM YYYY")}`:o.year===l.year?i.title=`${r.formatDate(o.date,"MMM")} - ${r.formatDate(l.date,"MMM YYYY")}`:i.title=`${r.formatDate(o.date,"MMM YYYY")} - ${r.formatDate(l.date,"MMM YYYY")}`}),s}function QF(t,e){return t.days.map(n=>({label:e.formatDate(n.date,e.masks.weekdays),weekday:n.weekday}))}function ZF(t,e){return`${e}.${He(t,2)}`}function Ly(t,e,n){return Ry(n.getDateParts(n.toDate(t)),GF[e])}function Fy({day:t,week:e,month:n,year:r},s,i,o){if(i==="daily"&&t){const l=new Date(r,n-1,t),c=Bt(l,s);return{day:c.getDate(),month:c.getMonth()+1,year:c.getFullYear()}}else if(i==="weekly"&&e){const c=o.getMonthParts(n,r).firstDayOfMonth,u=Bt(c,(e-1+s)*7),f=o.getDateParts(u);return{week:f.week,month:f.month,year:f.year}}else{const l=new Date(r,n-1,1),c=Ka(l,s);return{month:c.getMonth()+1,year:c.getFullYear()}}}function Rn(t){return t!=null&&t.month!=null&&t.year!=null}function uu(t,e){return!Rn(t)||!Rn(e)?!1:(t=t,e=e,t.year!==e.year?t.year<e.year:t.month&&e.month&&t.month!==e.month?t.month<e.month:t.week&&e.week&&t.week!==e.week?t.week<e.week:t.day&&e.day&&t.day!==e.day?t.day<e.day:!1)}function Ga(t,e){return!Rn(t)||!Rn(e)?!1:(t=t,e=e,t.year!==e.year?t.year>e.year:t.month&&e.month&&t.month!==e.month?t.month>e.month:t.week&&e.week&&t.week!==e.week?t.week>e.week:t.day&&e.day&&t.day!==e.day?t.day>e.day:!1)}function JF(t,e,n){return(t||!1)&&!uu(t,e)&&!Ga(t,n)}function e9(t,e){return!t&&e||t&&!e?!1:!t&&!e?!0:(t=t,e=e,t.year===e.year&&t.month===e.month&&t.week===e.week&&t.day===e.day)}function t9(t,e,n,r){if(!Rn(t)||!Rn(e))return[];const s=[];for(;!Ga(t,e);)s.push(t),t=Fy(t,1,n,r);return s}function Yy(t){const{day:e,week:n,month:r,year:s}=t;let i=`${s}-${He(r,2)}`;return n&&(i=`${i}-w${n}`),e&&(i=`${i}-${He(e,2)}`),i}function n9(t,e){const{month:n,year:r,showWeeknumbers:s,showIsoWeeknumbers:i}=t,o=new Date(r,n-1,15),l=e.getMonthParts(n,r),c=e.getPrevMonthParts(n,r),u=e.getNextMonthParts(n,r),f=qF({monthComps:l,prevMonthComps:c,nextMonthComps:u},e),p=XF(f,s,i,e),g=QF(p[0],e);return{id:Yy(t),month:n,year:r,monthTitle:e.formatDate(o,e.masks.title),shortMonthLabel:e.formatDate(o,"MMM"),monthLabel:e.formatDate(o,"MMMM"),shortYearLabel:r.toString().substring(2),yearLabel:r.toString(),monthComps:l,prevMonthComps:c,nextMonthComps:u,days:f,weeks:p,weekdays:g}}function r9(t,e){const{day:n,week:r,view:s,trimWeeks:i}=t,o={...e,...t,title:"",viewDays:[],viewWeeks:[]};switch(s){case"daily":{let l=o.days.find(u=>u.inMonth);n?l=o.days.find(u=>u.day===n&&u.inMonth)||l:r&&(l=o.days.find(u=>u.week===r&&u.inMonth));const c=o.weeks[l.week-1];o.viewWeeks=[c],o.viewDays=[l],o.week=l.week,o.weekTitle=c.title,o.day=l.day,o.dayTitle=l.ariaLabel,o.title=o.dayTitle;break}case"weekly":{o.week=r||1;const l=o.weeks[o.week-1];o.viewWeeks=[l],o.viewDays=l.days,o.weekTitle=l.title,o.title=o.weekTitle;break}default:{o.title=o.monthTitle,o.viewWeeks=o.weeks.slice(0,i?o.monthComps.numWeeks:void 0),o.viewDays=o.days;break}}return o}class Og{constructor(e,n,r){de(this,"keys",[]),de(this,"store",{}),this.size=e,this.createKey=n,this.createItem=r}get(...e){const n=this.createKey(...e);return this.store[n]}getOrSet(...e){const n=this.createKey(...e);if(this.store[n])return this.store[n];const r=this.createItem(...e);if(this.keys.length>=this.size){const s=this.keys.shift();s!=null&&delete this.store[s]}return this.keys.push(n),this.store[n]=r,r}}class Fs{constructor(e,n=new qa){de(this,"order"),de(this,"locale"),de(this,"start",null),de(this,"end",null),de(this,"repeat",null);var r;this.locale=n;const{start:s,end:i,span:o,order:l,repeat:c}=e;Ls(s)&&(this.start=n.getDateParts(s)),Ls(i)?this.end=n.getDateParts(i):this.start!=null&&o&&(this.end=n.getDateParts(Bt(this.start.date,o-1))),this.order=l??0,c&&(this.repeat=new Xa({from:(r=this.start)==null?void 0:r.date,...c},{locale:this.locale}))}static fromMany(e,n){return(fn(e)?e:[e]).filter(r=>r).map(r=>Fs.from(r,n))}static from(e,n){if(e instanceof Fs)return e;const r={start:null,end:null};return e!=null&&(fn(e)?(r.start=e[0]??null,r.end=e[1]??null):Jn(e)?Object.assign(r,e):(r.start=e,r.end=e)),r.start!=null&&(r.start=new Date(r.start)),r.end!=null&&(r.end=new Date(r.end)),new Fs(r,n)}get opts(){const{order:e,locale:n}=this;return{order:e,locale:n}}get hasRepeat(){return!!this.repeat}get isSingleDay(){const{start:e,end:n}=this;return e&&n&&e.year===n.year&&e.month===n.month&&e.day===n.day}get isMultiDay(){return!this.isSingleDay}get daySpan(){return this.start==null||this.end==null?this.hasRepeat?1:1/0:this.end.dayIndex-this.start.dayIndex}startsOnDay(e){var n,r;return((n=this.start)==null?void 0:n.dayIndex)===e.dayIndex||!!((r=this.repeat)!=null&&r.passes(e))}intersectsDay(e){return this.intersectsDayRange(e,e)}intersectsRange(e){var n,r;return this.intersectsDayRange(((n=e.start)==null?void 0:n.dayIndex)??-1/0,((r=e.end)==null?void 0:r.dayIndex)??1/0)}intersectsDayRange(e,n){return!(this.start&&this.start.dayIndex>n||this.end&&this.end.dayIndex<e)}}class s9{constructor(){de(this,"records",{})}render(e,n,r){var s,i,o,l;let c=null;const u=r[0].dayIndex,f=r[r.length-1].dayIndex;return n.hasRepeat?r.forEach(p=>{var g,b;if(n.startsOnDay(p)){const S=n.daySpan<1/0?n.daySpan:1;c={startDay:p.dayIndex,startTime:((g=n.start)==null?void 0:g.time)??0,endDay:p.dayIndex+S-1,endTime:((b=n.end)==null?void 0:b.time)??pa},this.getRangeRecords(e).push(c)}}):n.intersectsDayRange(u,f)&&(c={startDay:((s=n.start)==null?void 0:s.dayIndex)??-1/0,startTime:((i=n.start)==null?void 0:i.time)??-1/0,endDay:((o=n.end)==null?void 0:o.dayIndex)??1/0,endTime:((l=n.end)==null?void 0:l.time)??1/0},this.getRangeRecords(e).push(c)),c}getRangeRecords(e){let n=this.records[e.key];return n||(n={ranges:[],data:e},this.records[e.key]=n),n.ranges}getCell(e,n){return this.getCells(n).find(i=>i.data.key===e)}cellExists(e,n){const r=this.records[e];return r==null?!1:r.ranges.some(s=>s.startDay<=n&&s.endDay>=n)}getCells(e){const n=Object.values(this.records),r=[],{dayIndex:s}=e;return n.forEach(({data:i,ranges:o})=>{o.filter(l=>l.startDay<=s&&l.endDay>=s).forEach(l=>{const c=s===l.startDay,u=s===l.endDay,f=c?l.startTime:0,p=new Date(e.startDate.getTime()+f),g=u?l.endTime:pa,b=new Date(e.endDate.getTime()+g),S=f===0&&g===pa,P=i.order||0;r.push({...l,data:i,onStart:c,onEnd:u,startTime:f,startDate:p,endTime:g,endDate:b,allDay:S,order:P})})}),r.sort((i,o)=>i.order-o.order),r}}const er={ar:{dow:7,L:"D/M/YYYY"},bg:{dow:2,L:"D.MM.YYYY"},ca:{dow:2,L:"DD/MM/YYYY"},"zh-CN":{dow:2,L:"YYYY/MM/DD"},"zh-TW":{dow:1,L:"YYYY/MM/DD"},hr:{dow:2,L:"DD.MM.YYYY"},cs:{dow:2,L:"DD.MM.YYYY"},da:{dow:2,L:"DD.MM.YYYY"},nl:{dow:2,L:"DD-MM-YYYY"},"en-US":{dow:1,L:"MM/DD/YYYY"},"en-AU":{dow:2,L:"DD/MM/YYYY"},"en-CA":{dow:1,L:"YYYY-MM-DD"},"en-GB":{dow:2,L:"DD/MM/YYYY"},"en-IE":{dow:2,L:"DD-MM-YYYY"},"en-NZ":{dow:2,L:"DD/MM/YYYY"},"en-ZA":{dow:1,L:"YYYY/MM/DD"},eo:{dow:2,L:"YYYY-MM-DD"},et:{dow:2,L:"DD.MM.YYYY"},fi:{dow:2,L:"DD.MM.YYYY"},fr:{dow:2,L:"DD/MM/YYYY"},"fr-CA":{dow:1,L:"YYYY-MM-DD"},"fr-CH":{dow:2,L:"DD.MM.YYYY"},de:{dow:2,L:"DD.MM.YYYY"},he:{dow:1,L:"DD.MM.YYYY"},id:{dow:2,L:"DD/MM/YYYY"},it:{dow:2,L:"DD/MM/YYYY"},ja:{dow:1,L:"YYYYMD"},ko:{dow:1,L:"YYYY.MM.DD"},lv:{dow:2,L:"DD.MM.YYYY"},lt:{dow:2,L:"DD.MM.YYYY"},mk:{dow:2,L:"D.MM.YYYY"},nb:{dow:2,L:"D. MMMM YYYY"},nn:{dow:2,L:"D. MMMM YYYY"},pl:{dow:2,L:"DD.MM.YYYY"},pt:{dow:2,L:"DD/MM/YYYY"},ro:{dow:2,L:"DD.MM.YYYY"},ru:{dow:2,L:"DD.MM.YYYY"},sk:{dow:2,L:"DD.MM.YYYY"},"es-ES":{dow:2,L:"DD/MM/YYYY"},"es-MX":{dow:2,L:"DD/MM/YYYY"},sv:{dow:2,L:"YYYY-MM-DD"},th:{dow:1,L:"DD/MM/YYYY"},tr:{dow:2,L:"DD.MM.YYYY"},uk:{dow:2,L:"DD.MM.YYYY"},vi:{dow:2,L:"DD/MM/YYYY"}};er.en=er["en-US"];er.es=er["es-ES"];er.no=er.nb;er.zh=er["zh-CN"];const i9=Object.entries(er).reduce((t,[e,{dow:n,L:r}])=>(t[e]={id:e,firstDayOfWeek:n,masks:{L:r}},t),{}),o9="MMMM YYYY",a9="W",l9="MMM",c9="h A",u9=["L","YYYY-MM-DD","YYYY/MM/DD"],h9=["L h:mm A","YYYY-MM-DD h:mm A","YYYY/MM/DD h:mm A"],f9=["L HH:mm","YYYY-MM-DD HH:mm","YYYY/MM/DD HH:mm"],d9=["h:mm A"],p9=["HH:mm"],g9="WWW, MMM D, YYYY",v9=["L","YYYY-MM-DD","YYYY/MM/DD"],m9="iso",_9="YYYY-MM-DDTHH:mm:ss.SSSZ",y9={title:o9,weekdays:a9,navMonths:l9,hours:c9,input:u9,inputDateTime:h9,inputDateTime24hr:f9,inputTime:d9,inputTime24hr:p9,dayPopover:g9,data:v9,model:m9,iso:_9},w9=300,b9=60,C9=80,E9={maxSwipeTime:w9,minHorizontalSwipeDistance:b9,maxVerticalSwipeDistance:C9},T9={componentPrefix:"V",color:"blue",isDark:!1,navVisibility:"click",titlePosition:"center",transition:"slide-h",touch:E9,masks:y9,locales:i9,datePicker:{updateOnInput:!0,inputDebounce:1e3,popover:{visibility:"hover-focus",placement:"bottom-start",isInteractive:!0}}},Ys=cs(T9),I9=N(()=>z$(Ys.locales,t=>(t.masks=ri(t.masks,Ys.masks),t))),Pr=t=>typeof window<"u"&&ky(window.__vcalendar__,t)?Zr(window.__vcalendar__,t):Zr(Ys,t),D9=(t,e)=>(t.config.globalProperties.$VCalendar=Ys,Object.assign(Ys,ri(e,Ys))),S9=12,A9=5;function P9(t,e){const n=new Intl.DateTimeFormat().resolvedOptions().locale;let r;xn(t)?r=t:ky(t,"id")&&(r=t.id),r=(r||n).toLowerCase();const s=Object.keys(e),i=c=>s.find(u=>u.toLowerCase()===c);r=i(r)||i(r.substring(0,2))||n;const o={...e["en-IE"],...e[r],id:r,monthCacheSize:S9,pageCacheSize:A9};return Jn(t)?ri(t,o):o}class qa{constructor(e=void 0,n){de(this,"id"),de(this,"daysInWeek"),de(this,"firstDayOfWeek"),de(this,"masks"),de(this,"timezone"),de(this,"hourLabels"),de(this,"dayNames"),de(this,"dayNamesShort"),de(this,"dayNamesShorter"),de(this,"dayNamesNarrow"),de(this,"monthNames"),de(this,"monthNamesShort"),de(this,"relativeTimeNames"),de(this,"amPm",["am","pm"]),de(this,"monthCache"),de(this,"pageCache");const{id:r,firstDayOfWeek:s,masks:i,monthCacheSize:o,pageCacheSize:l}=P9(e,I9.value);this.monthCache=new Og(o,Q9,Z9),this.pageCache=new Og(l,Yy,n9),this.id=r,this.daysInWeek=Nt,this.firstDayOfWeek=cF(s,1,Nt),this.masks=i,this.timezone=n||void 0,this.hourLabels=this.getHourLabels(),this.dayNames=Cc("long",this.id),this.dayNamesShort=Cc("short",this.id),this.dayNamesShorter=this.dayNamesShort.map(c=>c.substring(0,2)),this.dayNamesNarrow=Cc("narrow",this.id),this.monthNames=Lg("long",this.id),this.monthNamesShort=Lg("short",this.id),this.relativeTimeNames=t6(this.id)}formatDate(e,n){return o6(e,n,this)}parseDate(e,n){return Fg(e,n,this)}toDate(e,n={}){const r=new Date(NaN);let s=r;const{fillDate:i,mask:o,patch:l,rules:c}=n;if(Tn(e)?(n.type="number",s=new Date(+e)):xn(e)?(n.type="string",s=e?Fg(e,o||"iso",this):r):Ls(e)?(n.type="date",s=new Date(e.getTime())):Kh(e)&&(n.type="object",s=this.getDateFromParts(e)),s&&(l||c)){let u=this.getDateParts(s);if(l&&i!=null){const f=this.getDateParts(this.toDate(i));u=this.getDateParts(this.toDate({...f,...Ry(u,j9[l])}))}c&&(u=i6(u,c)),s=this.getDateFromParts(u)}return s||r}toDateOrNull(e,n={}){const r=this.toDate(e,n);return isNaN(r.getTime())?null:r}fromDate(e,{type:n,mask:r}={}){switch(n){case"number":return e?e.getTime():NaN;case"string":return e?this.formatDate(e,r||"iso"):"";case"object":return e?this.getDateParts(e):null;default:return e?new Date(e):null}}range(e){return Fs.from(e,this)}ranges(e){return Fs.fromMany(e,this)}getDateParts(e){return X9(e,this)}getDateFromParts(e){return Xy(e,this.timezone)}getDateFromParams(e,n,r,s,i,o,l){return this.getDateFromParts({year:e,month:n,day:r,hours:s,minutes:i,seconds:o,milliseconds:l})}getPage(e){const n=this.pageCache.getOrSet(e,this);return r9(e,n)}getMonthParts(e,n){const{firstDayOfWeek:r}=this;return this.monthCache.getOrSet(e,n,r)}getThisMonthParts(){const e=new Date;return this.getMonthParts(e.getMonth()+1,e.getFullYear())}getPrevMonthParts(e,n){return e===1?this.getMonthParts(12,n-1):this.getMonthParts(e-1,n)}getNextMonthParts(e,n){return e===12?this.getMonthParts(1,n+1):this.getMonthParts(e+1,n)}getHourLabels(){return e6().map(e=>this.formatDate(e,this.masks.hours))}getDayId(e){return this.formatDate(e,"YYYY-MM-DD")}}var Is=(t=>(t.Any="any",t.All="all",t))(Is||{}),Hy=(t=>(t.Days="days",t.Weeks="weeks",t.Months="months",t.Years="years",t))(Hy||{}),jy=(t=>(t.Days="days",t.Weekdays="weekdays",t.Weeks="weeks",t.Months="months",t.Years="years",t))(jy||{}),By=(t=>(t.OrdinalWeekdays="ordinalWeekdays",t))(By||{});class M9{constructor(e,n,r){de(this,"validated",!0),this.type=e,this.interval=n,this.from=r,this.from||(console.error('A valid "from" date is required for date interval rule. This rule will be skipped.'),this.validated=!1)}passes(e){if(!this.validated)return!0;const{date:n}=e;switch(this.type){case"days":return Gh(this.from.date,n)%this.interval===0;case"weeks":return G9(this.from.date,n)%this.interval===0;case"months":return q9(this.from.date,n)%this.interval===0;case"years":return qy(this.from.date,n)%this.interval===0;default:return!1}}}class wi{constructor(e,n,r,s){de(this,"components",[]),this.type=e,this.validator=r,this.getter=s,this.components=this.normalizeComponents(n)}static create(e,n){switch(e){case"days":return new O9(n);case"weekdays":return new k9(n);case"weeks":return new x9(n);case"months":return new R9(n);case"years":return new N9(n)}}normalizeComponents(e){if(this.validator(e))return[e];if(!fn(e))return[];const n=[];return e.forEach(r=>{if(!this.validator(r)){console.error(`Component value ${r} in invalid for "${this.type}" rule. This rule will be skipped.`);return}n.push(r)}),n}passes(e){return this.getter(e).some(s=>this.components.includes(s))}}class O9 extends wi{constructor(e){super("days",e,F9,({day:n,dayFromEnd:r})=>[n,-r])}}class k9 extends wi{constructor(e){super("weekdays",e,hu,({weekday:n})=>[n])}}class x9 extends wi{constructor(e){super("weeks",e,Y9,({week:n,weekFromEnd:r})=>[n,-r])}}class R9 extends wi{constructor(e){super("months",e,H9,({month:n})=>[n])}}class N9 extends wi{constructor(e){super("years",e,Tn,({year:n})=>[n])}}class $9{constructor(e,n){de(this,"components"),this.type=e,this.components=this.normalizeComponents(n)}normalizeArrayConfig(e){const n=[];return e.forEach((r,s)=>{if(Tn(r)){if(s===0)return;if(!kg(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!hu(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else fn(r)&&n.push(...this.normalizeArrayConfig(r))}),n}normalizeComponents(e){const n=[];return e.forEach((r,s)=>{if(Tn(r)){if(s===0)return;if(!kg(e[0])){console.error(`Ordinal range for "${this.type}" rule is from -5 to -1 or 1 to 5. This rule will be skipped.`);return}if(!hu(r)){console.error(`Acceptable range for "${this.type}" rule is from 1 to 5. This rule will be skipped`);return}n.push([e[0],r])}else fn(r)&&n.push(...this.normalizeArrayConfig(r))}),n}passes(e){const{weekday:n,weekdayOrdinal:r,weekdayOrdinalFromEnd:s}=e;return this.components.some(([i,o])=>(i===r||i===-s)&&n===o)}}class L9{constructor(e){de(this,"type","function"),de(this,"validated",!0),this.fn=e,ps(e)||(console.error("The function rule requires a valid function. This rule will be skipped."),this.validated=!1)}passes(e){return this.validated?this.fn(e):!0}}class Xa{constructor(e,n={},r){de(this,"validated",!0),de(this,"config"),de(this,"type",Is.Any),de(this,"from"),de(this,"until"),de(this,"rules",[]),de(this,"locale",new qa),this.parent=r,n.locale&&(this.locale=n.locale),this.config=e,ps(e)?(this.type=Is.All,this.rules=[new L9(e)]):fn(e)?(this.type=Is.Any,this.rules=e.map(s=>new Xa(s,n,this))):Jn(e)?(this.type=Is.All,this.from=e.from?this.locale.getDateParts(e.from):r==null?void 0:r.from,this.until=e.until?this.locale.getDateParts(e.until):r==null?void 0:r.until,this.rules=this.getObjectRules(e)):(console.error("Rule group configuration must be an object or an array."),this.validated=!1)}getObjectRules(e){const n=[];if(e.every&&(xn(e.every)&&(e.every=[1,`${e.every}s`]),fn(e.every))){const[r=1,s=Hy.Days]=e.every;n.push(new M9(s,r,this.from))}return Object.values(jy).forEach(r=>{r in e&&n.push(wi.create(r,e[r]))}),Object.values(By).forEach(r=>{r in e&&n.push(new $9(r,e[r]))}),e.on!=null&&(fn(e.on)||(e.on=[e.on]),n.push(new Xa(e.on,{locale:this.locale},this.parent))),n}passes(e){return this.validated?this.from&&e.dayIndex<=this.from.dayIndex||this.until&&e.dayIndex>=this.until.dayIndex?!1:this.type===Is.Any?this.rules.some(n=>n.passes(e)):this.rules.every(n=>n.passes(e)):!0}}function F9(t){return Tn(t)?t>=1&&t<=31:!1}function hu(t){return Tn(t)?t>=1&&t<=7:!1}function Y9(t){return Tn(t)?t>=-6&&t<=-1||t>=1&&t<=6:!1}function H9(t){return Tn(t)?t>=1&&t<=12:!1}function kg(t){return!(!Tn(t)||t<-5||t>5||t===0)}const j9={dateTime:["year","month","day","hours","minutes","seconds","milliseconds"],date:["year","month","day"],time:["hours","minutes","seconds","milliseconds"]},Nt=7,B9=6,Uy=1e3,Wy=Uy*60,Vy=Wy*60,pa=Vy*24,U9=[31,28,31,30,31,30,31,31,30,31,30,31],W9=["L","iso"],Yi={milliseconds:[0,999,3],seconds:[0,59,2],minutes:[0,59,2],hours:[0,23,2]},zy=/d{1,2}|W{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|Z{1,4}|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,V9=/\[([^]*?)\]/gm,xg={D(t){return t.day},DD(t){return He(t.day,2)},d(t){return t.weekday-1},dd(t){return He(t.weekday-1,2)},W(t,e){return e.dayNamesNarrow[t.weekday-1]},WW(t,e){return e.dayNamesShorter[t.weekday-1]},WWW(t,e){return e.dayNamesShort[t.weekday-1]},WWWW(t,e){return e.dayNames[t.weekday-1]},M(t){return t.month},MM(t){return He(t.month,2)},MMM(t,e){return e.monthNamesShort[t.month-1]},MMMM(t,e){return e.monthNames[t.month-1]},YY(t){return String(t.year).substr(2)},YYYY(t){return He(t.year,4)},h(t){return t.hours%12||12},hh(t){return He(t.hours%12||12,2)},H(t){return t.hours},HH(t){return He(t.hours,2)},m(t){return t.minutes},mm(t){return He(t.minutes,2)},s(t){return t.seconds},ss(t){return He(t.seconds,2)},S(t){return Math.round(t.milliseconds/100)},SS(t){return He(Math.round(t.milliseconds/10),2)},SSS(t){return He(t.milliseconds,3)},a(t,e){return t.hours<12?e.amPm[0]:e.amPm[1]},A(t,e){return t.hours<12?e.amPm[0].toUpperCase():e.amPm[1].toUpperCase()},Z(){return"Z"},ZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${He(Math.floor(Math.abs(e)/60),2)}`},ZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${He(Math.floor(Math.abs(e)/60)*100+Math.abs(e)%60,4)}`},ZZZZ(t){const e=t.timezoneOffset;return`${e>0?"-":"+"}${He(Math.floor(Math.abs(e)/60),2)}:${He(Math.abs(e)%60,2)}`}},ur=/\d\d?/,z9=/\d{3}/,K9=/\d{4}/,$i=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Rg=()=>{},Ng=t=>(e,n,r)=>{const s=r[t].indexOf(n.charAt(0).toUpperCase()+n.substr(1).toLowerCase());~s&&(e.month=s)},Ve={D:[ur,(t,e)=>{t.day=e}],Do:[new RegExp(ur.source+$i.source),(t,e)=>{t.day=parseInt(e,10)}],d:[ur,Rg],W:[$i,Rg],M:[ur,(t,e)=>{t.month=e-1}],MMM:[$i,Ng("monthNamesShort")],MMMM:[$i,Ng("monthNames")],YY:[ur,(t,e)=>{const r=+new Date().getFullYear().toString().substr(0,2);t.year=+`${e>68?r-1:r}${e}`}],YYYY:[K9,(t,e)=>{t.year=e}],S:[/\d/,(t,e)=>{t.milliseconds=e*100}],SS:[/\d{2}/,(t,e)=>{t.milliseconds=e*10}],SSS:[z9,(t,e)=>{t.milliseconds=e}],h:[ur,(t,e)=>{t.hours=e}],m:[ur,(t,e)=>{t.minutes=e}],s:[ur,(t,e)=>{t.seconds=e}],a:[$i,(t,e,n)=>{const r=e.toLowerCase();r===n.amPm[0]?t.isPm=!1:r===n.amPm[1]&&(t.isPm=!0)}],Z:[/[^\s]*?[+-]\d\d:?\d\d|[^\s]*?Z?/,(t,e)=>{e==="Z"&&(e="+00:00");const n=`${e}`.match(/([+-]|\d\d)/gi);if(n){const r=+n[1]*60+parseInt(n[2],10);t.timezoneOffset=n[0]==="+"?r:-r}}]};Ve.DD=Ve.D;Ve.dd=Ve.d;Ve.WWWW=Ve.WWW=Ve.WW=Ve.W;Ve.MM=Ve.M;Ve.mm=Ve.m;Ve.hh=Ve.H=Ve.HH=Ve.h;Ve.ss=Ve.s;Ve.A=Ve.a;Ve.ZZZZ=Ve.ZZZ=Ve.ZZ=Ve.Z;function Ky(t,e){return(zn(t)&&t||[xn(t)&&t||"YYYY-MM-DD"]).map(n=>W9.reduce((r,s)=>r.replace(s,e.masks[s]||""),n))}function Kh(t){return Jn(t)&&"year"in t&&"month"in t&&"day"in t}function $g(t,e=1){const n=t.getDay()+1,r=n>=e?e-n:-(7-(e-n));return Bt(t,r)}function Gy(t,e,n){const r=Date.UTC(t,e-1,n);return Gh(new Date(0),new Date(r))}function Gh(t,e){return Math.round((e.getTime()-t.getTime())/pa)}function G9(t,e){return Math.ceil(Gh($g(t),$g(e))/7)}function qy(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}function q9(t,e){return qy(t,e)*12+(e.getMonth()-t.getMonth())}function Xy(t,e=""){const n=new Date,{year:r=n.getFullYear(),month:s=n.getMonth()+1,day:i=n.getDate(),hours:o=0,minutes:l=0,seconds:c=0,milliseconds:u=0}=t;if(e){const f=`${He(r,4)}-${He(s,2)}-${He(i,2)}T${He(o,2)}:${He(l,2)}:${He(c,2)}.${He(u,3)}`;return DF(f,{timeZone:e})}return new Date(r,s-1,i,o,l,c,u)}function X9(t,e){let n=new Date(t.getTime());e.timezone&&(n=new Date(t.toLocaleString("en-US",{timeZone:e.timezone})),n.setMilliseconds(t.getMilliseconds()));const r=n.getMilliseconds(),s=n.getSeconds(),i=n.getMinutes(),o=n.getHours(),l=r+s*Uy+i*Wy+o*Vy,c=n.getMonth()+1,u=n.getFullYear(),f=e.getMonthParts(c,u),p=n.getDate(),g=f.numDays-p+1,b=n.getDay()+1,S=Math.floor((p-1)/7+1),P=Math.floor((f.numDays-p)/7+1),O=Math.ceil((p+Math.abs(f.firstWeekday-f.firstDayOfWeek))/7),k=f.numWeeks-O+1,z=f.weeknumbers[O],U=Gy(u,c,p);return{milliseconds:r,seconds:s,minutes:i,hours:o,time:l,day:p,dayFromEnd:g,weekday:b,weekdayOrdinal:S,weekdayOrdinalFromEnd:P,week:O,weekFromEnd:k,weeknumber:z,month:c,year:u,date:n,dateTime:n.getTime(),dayIndex:U,timezoneOffset:0,isValid:!0}}function Q9(t,e,n){return`${e}-${t}-${n}`}function Z9(t,e,n){const r=e%4===0&&e%100!==0||e%400===0,s=new Date(e,t-1,1),i=s.getDay()+1,o=t===2&&r?29:U9[t-1],l=n-1,c=YF(s,{weekStartsOn:l}),u=[],f=[];for(let p=0;p<c;p++){const g=Bt(s,p*7);u.push(UF(g,{weekStartsOn:l})),f.push(KF(g))}return{firstDayOfWeek:n,firstDayOfMonth:s,inLeapYear:r,firstWeekday:i,numDays:o,numWeeks:c,month:t,year:e,weeknumbers:u,isoWeeknumbers:f}}function J9(){const t=[];for(let s=0;s<Nt;s++)t.push(Xy({year:2020,month:1,day:5+s,hours:12}));return t}function Cc(t,e=void 0){const n=new Intl.DateTimeFormat(e,{weekday:t});return J9().map(r=>n.format(r))}function e6(){const t=[];for(let e=0;e<=24;e++)t.push(new Date(2e3,0,1,e));return t}function t6(t=void 0){const e=["second","minute","hour","day","week","month","quarter","year"],n=new Intl.RelativeTimeFormat(t);return e.reduce((r,s)=>{const i=n.formatToParts(100,s);return r[s]=i[1].unit,r},{})}function Qy(){const t=[];for(let e=0;e<12;e++)t.push(new Date(2e3,e,15));return t}function Lg(t,e=void 0){const n=new Intl.DateTimeFormat(e,{month:t,timeZone:"UTC"});return Qy().map(r=>n.format(r))}function n6(t,e,n){return Tn(e)?e===t:fn(e)?e.includes(t):ps(e)?e(t,n):!(e.min!=null&&e.min>t||e.max!=null&&e.max<t||e.interval!=null&&t%e.interval!==0)}function Hi(t,e,n){const r=[],[s,i,o]=e;for(let l=s;l<=i;l++)(n==null||n6(l,n,t))&&r.push({value:l,label:He(l,o)});return r}function r6(t,e){return{milliseconds:Hi(t,Yi.milliseconds,e.milliseconds),seconds:Hi(t,Yi.seconds,e.seconds),minutes:Hi(t,Yi.minutes,e.minutes),hours:Hi(t,Yi.hours,e.hours)}}function s6(t,e,n,r){const i=Hi(t,e,r).reduce((o,l)=>{if(l.disabled)return o;if(isNaN(o))return l.value;const c=Math.abs(o-n);return Math.abs(l.value-n)<c?l.value:o},NaN);return isNaN(i)?n:i}function i6(t,e){const n={...t};return Object.entries(e).forEach(([r,s])=>{const i=Yi[r],o=t[r];n[r]=s6(t,i,o,s)}),n}function Fg(t,e,n){return Ky(e,n).map(s=>{if(typeof s!="string")throw new Error("Invalid mask");let i=t;if(i.length>1e3)return!1;let o=!0;const l={};if(s.replace(zy,f=>{if(Ve[f]){const p=Ve[f],g=i.search(p[0]);~g?i.replace(p[0],b=>(p[1](l,b,n),i=i.substr(g+b.length),b)):o=!1}return Ve[f]?"":f.slice(1,f.length-1)}),!o)return!1;const c=new Date;l.hours!=null&&(l.isPm===!0&&+l.hours!=12?l.hours=+l.hours+12:l.isPm===!1&&+l.hours==12&&(l.hours=0));let u;return l.timezoneOffset!=null?(l.minutes=+(l.minutes||0)-+l.timezoneOffset,u=new Date(Date.UTC(l.year||c.getFullYear(),l.month||0,l.day||1,l.hours||0,l.minutes||0,l.seconds||0,l.milliseconds||0))):u=n.getDateFromParts({year:l.year||c.getFullYear(),month:(l.month||0)+1,day:l.day||1,hours:l.hours||0,minutes:l.minutes||0,seconds:l.seconds||0,milliseconds:l.milliseconds||0}),u}).find(s=>s)||new Date(t)}function o6(t,e,n){if(t==null)return"";let r=Ky(e,n)[0];/Z$/.test(r)&&(n.timezone="utc");const s=[];r=r.replace(V9,(o,l)=>(s.push(l),"??"));const i=n.getDateParts(t);return r=r.replace(zy,o=>o in xg?xg[o](i,n):o.slice(1,o.length-1)),r.replace(/\?\?/g,()=>s.shift())}let a6=0;class Zy{constructor(e,n,r){de(this,"key",""),de(this,"hashcode",""),de(this,"highlight",null),de(this,"content",null),de(this,"dot",null),de(this,"bar",null),de(this,"event",null),de(this,"popover",null),de(this,"customData",null),de(this,"ranges"),de(this,"hasRanges",!1),de(this,"order",0),de(this,"pinPage",!1),de(this,"maxRepeatSpan",0),de(this,"locale");const{dates:s}=Object.assign(this,{hashcode:"",order:0,pinPage:!1},e);this.key||(this.key=++a6),this.locale=r,n.normalizeGlyphs(this),this.ranges=r.ranges(s??[]),this.hasRanges=!!zn(this.ranges),this.maxRepeatSpan=this.ranges.filter(i=>i.hasRepeat).map(i=>i.daySpan).reduce((i,o)=>Math.max(i,o),0)}intersectsRange({start:e,end:n}){if(e==null||n==null)return!1;const r=this.ranges.filter(o=>!o.hasRepeat);for(const o of r)if(o.intersectsDayRange(e.dayIndex,n.dayIndex))return!0;const s=this.ranges.filter(o=>o.hasRepeat);if(!s.length)return!1;let i=e;for(this.maxRepeatSpan>1&&(i=this.locale.getDateParts(Bt(i.date,-this.maxRepeatSpan)));i.dayIndex<=n.dayIndex;){for(const o of s)if(o.startsOnDay(i))return!0;i=this.locale.getDateParts(Bt(i.date,1))}return!1}}function fu(t){document&&document.dispatchEvent(new CustomEvent("show-popover",{detail:t}))}function yo(t){document&&document.dispatchEvent(new CustomEvent("hide-popover",{detail:t}))}function Jy(t){document&&document.dispatchEvent(new CustomEvent("toggle-popover",{detail:t}))}function ew(t){const{visibility:e}=t,n=e==="click",r=e==="hover",s=e==="hover-focus",i=e==="focus";t.autoHide=!n;let o=!1,l=!1;const c=S=>{n&&(Jy({...t,target:t.target||S.currentTarget}),S.stopPropagation())},u=S=>{o||(o=!0,(r||s)&&fu({...t,target:t.target||S.currentTarget}))},f=()=>{o&&(o=!1,(r||s&&!l)&&yo(t))},p=S=>{l||(l=!0,(i||s)&&fu({...t,target:t.target||S.currentTarget}))},g=S=>{l&&!fa(S.currentTarget,S.relatedTarget)&&(l=!1,(i||s&&!o)&&yo(t))},b={};switch(t.visibility){case"click":b.click=c;break;case"hover":b.mousemove=u,b.mouseleave=f;break;case"focus":b.focusin=p,b.focusout=g;break;case"hover-focus":b.mousemove=u,b.mouseleave=f,b.focusin=p,b.focusout=g;break}return b}const Yg=t=>{const e=Ua(t);if(e==null)return;const n=e.popoverHandlers;!n||!n.length||(n.forEach(r=>r()),delete e.popoverHandlers)},Hg=(t,e)=>{const n=Ua(t);if(n==null)return;const r=[],s=ew(e);Object.entries(s).forEach(([i,o])=>{r.push(mr(n,i,o))}),n.popoverHandlers=r},tw={mounted(t,e){const{value:n}=e;n&&Hg(t,n)},updated(t,e){const{oldValue:n,value:r}=e,s=n==null?void 0:n.visibility,i=r==null?void 0:r.visibility;s!==i&&(s&&(Yg(t),i||yo(n)),i&&Hg(t,r))},unmounted(t){Yg(t)}},l6=(t,e,{maxSwipeTime:n,minHorizontalSwipeDistance:r,maxVerticalSwipeDistance:s})=>{if(!t||!t.addEventListener||!ps(e))return null;let i=0,o=0,l=null,c=!1;function u(p){const g=p.changedTouches[0];i=g.screenX,o=g.screenY,l=new Date().getTime(),c=!0}function f(p){if(!c||!l)return;c=!1;const g=p.changedTouches[0],b=g.screenX-i,S=g.screenY-o;if(new Date().getTime()-l<n&&Math.abs(b)>=r&&Math.abs(S)<=s){const O={toLeft:!1,toRight:!1};b<0?O.toLeft=!0:O.toRight=!0,e(O)}}return mr(t,"touchstart",u,{passive:!0}),mr(t,"touchend",f,{passive:!0}),()=>{vr(t,"touchstart",u),vr(t,"touchend",f)}},ga={},c6=(t,e=10)=>{ga[t]=Date.now()+e},u6=(t,e)=>{if(t in ga){const n=ga[t];if(Date.now()<n)return;delete ga[t]}e()};function nw(){return typeof window<"u"}function h6(t){return nw()&&t in window}function f6(t){const e=ke(!1),n=N(()=>e.value?"dark":"light");let r,s;function i(b){e.value=b.matches}function o(){h6("matchMedia")&&(r=window.matchMedia("(prefers-color-scheme: dark)"),r.addEventListener("change",i),e.value=r.matches)}function l(){const{selector:b=":root",darkClass:S="dark"}=t.value,P=document.querySelector(b);e.value=P.classList.contains(S)}function c(b){const{selector:S=":root",darkClass:P="dark"}=b;if(nw()&&S&&P){const O=document.querySelector(S);O&&(s=new MutationObserver(l),s.observe(O,{attributes:!0,attributeFilter:["class"]}),e.value=O.classList.contains(P))}}function u(){p();const b=typeof t.value;b==="string"&&t.value.toLowerCase()==="system"?o():b==="object"?c(t.value):e.value=!!t.value}const f=mt(()=>t.value,()=>u(),{immediate:!0});function p(){r&&(r.removeEventListener("change",i),r=void 0),s&&(s.disconnect(),s=void 0)}function g(){p(),f()}return ii(()=>g()),{isDark:e,displayMode:n,cleanup:g}}const d6=["base","start","end","startEnd"],p6=["class","wrapperClass","contentClass","style","contentStyle","color","fillMode"],g6={base:{},start:{},end:{}};function qh(t,e,n=g6){let r=t,s={};e===!0||xn(e)?(r=xn(e)?e:r,s={...n}):Jn(e)&&(wg(e,d6)?s={...e}:s={base:{...e},start:{...e},end:{...e}});const i=ri(s,{start:s.startEnd,end:s.startEnd},n);return Object.entries(i).forEach(([o,l])=>{let c=r;l===!0||xn(l)?(c=xn(l)?l:c,i[o]={color:c}):Jn(l)&&(wg(l,p6)?i[o]={...l}:i[o]={}),ri(i[o],{color:c})}),i}class v6{constructor(){de(this,"type","highlight")}normalizeConfig(e,n){return qh(e,n,{base:{fillMode:"light"},start:{fillMode:"solid"},end:{fillMode:"solid"}})}prepareRender(e){e.highlights=[],e.content||(e.content=[])}render({data:e,onStart:n,onEnd:r},s){const{key:i,highlight:o}=e;if(!o)return;const{highlights:l}=s,{base:c,start:u,end:f}=o;n&&r?l.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]}):n?(l.push({...c,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-right-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-base-start vc-highlight-bg-${c.fillMode}`,c.class]}),l.push({...u,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${u.color}`,class:[`vc-highlight vc-highlight-bg-${u.fillMode}`,u.class],contentClass:[`vc-attr vc-highlight-content-${u.fillMode} vc-${u.color}`,u.contentClass]})):r?(l.push({...c,key:`${i}-base`,wrapperClass:`vc-day-layer vc-day-box-left-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-base-end vc-highlight-bg-${c.fillMode}`,c.class]}),l.push({...f,key:i,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${f.color}`,class:[`vc-highlight vc-highlight-bg-${f.fillMode}`,f.class],contentClass:[`vc-attr vc-highlight-content-${f.fillMode} vc-${f.color}`,f.contentClass]})):l.push({...c,key:`${i}-middle`,wrapperClass:`vc-day-layer vc-day-box-center-center vc-attr vc-${c.color}`,class:[`vc-highlight vc-highlight-base-middle vc-highlight-bg-${c.fillMode}`,c.class],contentClass:[`vc-attr vc-highlight-content-${c.fillMode} vc-${c.color}`,c.contentClass]})}}class Xh{constructor(e,n){de(this,"type",""),de(this,"collectionType",""),this.type=e,this.collectionType=n}normalizeConfig(e,n){return qh(e,n)}prepareRender(e){e[this.collectionType]=[]}render({data:e,onStart:n,onEnd:r},s){const{key:i}=e,o=e[this.type];if(!i||!o)return;const l=s[this.collectionType],{base:c,start:u,end:f}=o;n?l.push({...u,key:i,class:[`vc-${this.type} vc-${this.type}-start vc-${u.color} vc-attr`,u.class]}):r?l.push({...f,key:i,class:[`vc-${this.type} vc-${this.type}-end vc-${f.color} vc-attr`,f.class]}):l.push({...c,key:i,class:[`vc-${this.type} vc-${this.type}-base vc-${c.color} vc-attr`,c.class]})}}class m6 extends Xh{constructor(){super("content","content")}normalizeConfig(e,n){return qh("base",n)}}class _6 extends Xh{constructor(){super("dot","dots")}}class y6 extends Xh{constructor(){super("bar","bars")}}class w6{constructor(e){de(this,"color"),de(this,"renderers",[new m6,new v6,new _6,new y6]),this.color=e}normalizeGlyphs(e){this.renderers.forEach(n=>{const r=n.type;e[r]!=null&&(e[r]=n.normalizeConfig(this.color,e[r]))})}prepareRender(e={}){return this.renderers.forEach(n=>{n.prepareRender(e)}),e}render(e,n){this.renderers.forEach(r=>{r.render(e,n)})}}const rw=Symbol("__vc_base_context__"),sw={color:{type:String,default:()=>Pr("color")},isDark:{type:[Boolean,String,Object],default:()=>Pr("isDark")},firstDayOfWeek:Number,masks:Object,locale:[String,Object],timezone:String,minDate:null,maxDate:null,disabledDates:null};function iw(t){const e=N(()=>t.color??""),n=N(()=>t.isDark??!1),{displayMode:r}=f6(n),s=N(()=>new w6(e.value)),i=N(()=>{if(t.locale instanceof qa)return t.locale;const g=Jn(t.locale)?t.locale:{id:t.locale,firstDayOfWeek:t.firstDayOfWeek,masks:t.masks};return new qa(g,t.timezone)}),o=N(()=>i.value.masks),l=N(()=>t.minDate),c=N(()=>t.maxDate),u=N(()=>{const g=t.disabledDates?[...t.disabledDates]:[];return l.value!=null&&g.push({start:null,end:Bt(i.value.toDate(l.value),-1)}),c.value!=null&&g.push({start:Bt(i.value.toDate(c.value),1),end:null}),i.value.ranges(g)}),f=N(()=>new Zy({key:"disabled",dates:u.value,order:100},s.value,i.value)),p={color:e,isDark:n,displayMode:r,theme:s,locale:i,masks:o,minDate:l,maxDate:c,disabledDates:u,disabledAttribute:f};return oi(rw,p),p}function b6(t){return Gn(rw,()=>iw(t),!0)}function ow(t){return`__vc_slot_${t}__`}function aw(t,e={}){Object.keys(t).forEach(n=>{oi(ow(e[n]??n),t[n])})}function lw(t){return Gn(ow(t),null)}const C6={...sw,view:{type:String,default:"monthly",validator(t){return["daily","weekly","monthly"].includes(t)}},rows:{type:Number,default:1},columns:{type:Number,default:1},step:Number,titlePosition:{type:String,default:()=>Pr("titlePosition")},navVisibility:{type:String,default:()=>Pr("navVisibility")},showWeeknumbers:[Boolean,String],showIsoWeeknumbers:[Boolean,String],expanded:Boolean,borderless:Boolean,transparent:Boolean,initialPage:Object,initialPagePosition:{type:Number,default:1},minPage:Object,maxPage:Object,transition:String,attributes:Array,trimWeeks:Boolean,disablePageSwipe:Boolean},E6=["dayclick","daymouseenter","daymouseleave","dayfocusin","dayfocusout","daykeydown","weeknumberclick","transition-start","transition-end","did-move","update:view","update:pages"],cw=Symbol("__vc_calendar_context__");function T6(t,{slots:e,emit:n}){const r=ke(null),s=ke(null),i=ke(new Date().getDate()),o=ke(!1),l=ke(Symbol()),c=ke(Symbol()),u=ke(t.view),f=ke([]),p=ke("");let g=null,b=null;aw(e);const{theme:S,color:P,displayMode:O,locale:k,masks:z,minDate:U,maxDate:$,disabledAttribute:K,disabledDates:j}=b6(t),E=N(()=>t.rows*t.columns),y=N(()=>t.step||E.value),w=N(()=>Oy(f.value)??null),T=N(()=>As(f.value)??null),C=N(()=>t.minPage||(U.value?ie(U.value):null)),_=N(()=>t.maxPage||($.value?ie($.value):null)),v=N(()=>t.navVisibility),J=N(()=>!!t.showWeeknumbers),ee=N(()=>!!t.showIsoWeeknumbers),oe=N(()=>u.value==="monthly"),fe=N(()=>u.value==="weekly"),pe=N(()=>u.value==="daily"),Ae=()=>{o.value=!0,n("transition-start")},G=()=>{o.value=!1,n("transition-end"),g&&(g.resolve(!0),g=null)},be=(Y,D,L=u.value)=>Fy(Y,D,L,k.value),ie=Y=>Ly(Y,u.value,k.value),Ce=Y=>{!K.value||!yt.value||(Y.isDisabled=yt.value.cellExists(K.value.key,Y.dayIndex))},Pe=Y=>{Y.isFocusable=Y.inMonth&&Y.day===i.value},Ye=(Y,D)=>{for(const L of Y)for(const se of L.days)if(D(se)===!1)return},Xe=N(()=>f.value.reduce((Y,D)=>(Y.push(...D.viewDays),Y),[])),Le=N(()=>{const Y=[];return(t.attributes||[]).forEach((D,L)=>{!D||!D.dates||Y.push(new Zy({...D,order:D.order||0},S.value,k.value))}),K.value&&Y.push(K.value),Y}),et=N(()=>zn(Le.value)),yt=N(()=>{const Y=new s9;return Le.value.forEach(D=>{D.ranges.forEach(L=>{Y.render(D,L,Xe.value)})}),Y}),lt=N(()=>Xe.value.reduce((Y,D)=>(Y[D.dayIndex]={day:D,cells:[]},Y[D.dayIndex].cells.push(...yt.value.getCells(D)),Y),{})),pt=(Y,D)=>{const L=t.showWeeknumbers||t.showIsoWeeknumbers;return L==null?"":A$(L)?L?"left":"":L.startsWith("right")?D>1?"right":L:Y>1?"left":L},gt=()=>{var Y,D;if(!et.value)return null;const L=Le.value.find(Ue=>Ue.pinPage)||Le.value[0];if(!L||!L.hasRanges)return null;const[se]=L.ranges,_e=((Y=se.start)==null?void 0:Y.date)||((D=se.end)==null?void 0:D.date);return _e?ie(_e):null},I=()=>{if(Rn(w.value))return w.value;const Y=gt();return Rn(Y)?Y:ie(new Date)},A=(Y,D={})=>{const{view:L=u.value,position:se=1,force:_e}=D,Ue=se>0?1-se:-(E.value+se);let vt=be(Y,Ue,L),ut=be(vt,E.value-1,L);return _e||(uu(vt,C.value)?vt=C.value:Ga(ut,_.value)&&(vt=be(_.value,1-E.value)),ut=be(vt,E.value-1)),{fromPage:vt,toPage:ut}},x=(Y,D,L="")=>{if(L==="none"||L==="fade")return L;if((Y==null?void 0:Y.view)!==(D==null?void 0:D.view))return"fade";const se=Ga(D,Y),_e=uu(D,Y);return!se&&!_e?"fade":L==="slide-v"?_e?"slide-down":"slide-up":_e?"slide-right":"slide-left"},H=(Y={})=>new Promise((D,L)=>{const{position:se=1,force:_e=!1,transition:Ue}=Y,vt=Rn(Y.page)?Y.page:I(),{fromPage:ut}=A(vt,{position:se,force:_e}),Hn=[];for(let An=0;An<E.value;An++){const ms=be(ut,An),ht=An+1,_s=Math.ceil(ht/t.columns),ft=t.rows-_s+1,sr=ht%t.columns||t.columns,vn=t.columns-sr+1,Lr=pt(sr,vn);Hn.push(k.value.getPage({...ms,view:u.value,titlePosition:t.titlePosition,trimWeeks:t.trimWeeks,position:ht,row:_s,rowFromEnd:ft,column:sr,columnFromEnd:vn,showWeeknumbers:J.value,showIsoWeeknumbers:ee.value,weeknumberPosition:Lr}))}p.value=x(f.value[0],Hn[0],Ue),f.value=Hn,p.value&&p.value!=="none"?g={resolve:D,reject:L}:D(!0)}),F=Y=>{const D=w.value??ie(new Date);return be(D,Y)},V=(Y,D={})=>{const L=Rn(Y)?Y:ie(Y);return Object.assign(D,A(L,{...D,force:!0})),t9(D.fromPage,D.toPage,u.value,k.value).map(_e=>JF(_e,C.value,_.value)).some(_e=>_e)},Z=(Y,D={})=>V(F(Y),D),q=N(()=>Z(-y.value)),X=N(()=>Z(y.value)),B=async(Y,D={})=>!D.force&&!V(Y,D)?!1:(D.fromPage&&!e9(D.fromPage,w.value)&&(yo({id:l.value,hideDelay:0}),D.view&&(c6("view",10),u.value=D.view),await H({...D,page:D.fromPage,position:1,force:!0}),n("did-move",f.value)),!0),ne=(Y,D={})=>B(F(Y),D),ce=()=>ne(-y.value),le=()=>ne(y.value),ae=Y=>{const D=oe.value?".in-month":"",L=`.id-${k.value.getDayId(Y)}${D}`,se=`${L}.vc-focusable, ${L} .vc-focusable`,_e=r.value;if(_e){const Ue=_e.querySelector(se);if(Ue)return Ue.focus(),!0}return!1},ue=async(Y,D={})=>ae(Y)?!0:(await B(Y,D),ae(Y)),Ie=(Y,D)=>{i.value=Y.day,n("dayclick",Y,D)},De=(Y,D)=>{n("daymouseenter",Y,D)},Be=(Y,D)=>{n("daymouseleave",Y,D)},St=(Y,D)=>{i.value=Y.day,s.value=Y,Y.isFocused=!0,n("dayfocusin",Y,D)},At=(Y,D)=>{s.value=null,Y.isFocused=!1,n("dayfocusout",Y,D)},Sn=(Y,D)=>{n("daykeydown",Y,D);const L=Y.noonDate;let se=null;switch(D.key){case"ArrowLeft":{se=Bt(L,-1);break}case"ArrowRight":{se=Bt(L,1);break}case"ArrowUp":{se=Bt(L,-7);break}case"ArrowDown":{se=Bt(L,7);break}case"Home":{se=Bt(L,-Y.weekdayPosition+1);break}case"End":{se=Bt(L,Y.weekdayPositionFromEnd);break}case"PageUp":{D.altKey?se=Mg(L,-1):se=Ka(L,-1);break}case"PageDown":{D.altKey?se=Mg(L,1):se=Ka(L,1);break}}se&&(D.preventDefault(),ue(se).catch())},rn=Y=>{const D=s.value;D!=null&&Sn(D,Y)},gn=(Y,D)=>{n("weeknumberclick",Y,D)};H({page:t.initialPage,position:t.initialPagePosition}),us(()=>{!t.disablePageSwipe&&r.value&&(b=l6(r.value,({toLeft:Y=!1,toRight:D=!1})=>{Y?le():D&&ce()},Pr("touch")))}),ii(()=>{f.value=[],b&&b()}),mt(()=>k.value,()=>{H()}),mt(()=>E.value,()=>H()),mt(()=>t.view,()=>u.value=t.view),mt(()=>u.value,()=>{u6("view",()=>{H()}),n("update:view",u.value)}),mt(()=>i.value,()=>{Ye(f.value,Y=>Pe(Y))}),Bv(()=>{n("update:pages",f.value),Ye(f.value,Y=>{Ce(Y),Pe(Y)})});const ct={emit:n,containerRef:r,focusedDay:s,inTransition:o,navPopoverId:l,dayPopoverId:c,view:u,pages:f,transitionName:p,theme:S,color:P,displayMode:O,locale:k,masks:z,attributes:Le,disabledAttribute:K,disabledDates:j,attributeContext:yt,days:Xe,dayCells:lt,count:E,step:y,firstPage:w,lastPage:T,canMovePrev:q,canMoveNext:X,minPage:C,maxPage:_,isMonthly:oe,isWeekly:fe,isDaily:pe,navVisibility:v,showWeeknumbers:J,showIsoWeeknumbers:ee,getDateAddress:ie,canMove:V,canMoveBy:Z,move:B,moveBy:ne,movePrev:ce,moveNext:le,onTransitionBeforeEnter:Ae,onTransitionAfterEnter:G,tryFocusDate:ae,focusDate:ue,onKeydown:rn,onDayKeydown:Sn,onDayClick:Ie,onDayMouseenter:De,onDayMouseleave:Be,onDayFocusin:St,onDayFocusout:At,onWeeknumberClick:gn};return oi(cw,ct),ct}function vs(){const t=Gn(cw);if(t)return t;throw new Error("Calendar context missing. Please verify this component is nested within a valid context provider.")}const I6=dt({inheritAttrs:!1,emits:["before-show","after-show","before-hide","after-hide"],props:{id:{type:[Number,String,Symbol],required:!0},showDelay:{type:Number,default:0},hideDelay:{type:Number,default:110},boundarySelector:{type:String}},setup(t,{emit:e}){let n;const r=ke();let s=null,i=null;const o=cs({isVisible:!1,target:null,data:null,transition:"slide-fade",placement:"bottom",direction:"",positionFixed:!1,modifiers:[],isInteractive:!0,visibility:"click",isHovered:!1,isFocused:!1,autoHide:!1,force:!1});function l(G){G&&(o.direction=G.split("-")[0])}function c({placement:G,options:be}){l(G||(be==null?void 0:be.placement))}const u=N(()=>({placement:o.placement,strategy:o.positionFixed?"fixed":"absolute",boundary:"",modifiers:[{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:c},...o.modifiers||[]],onFirstUpdate:c})),f=N(()=>{const G=o.direction==="left"||o.direction==="right";let be="";if(o.placement){const ie=o.placement.split("-");ie.length>1&&(be=ie[1])}return["start","top","left"].includes(be)?G?"top":"left":["end","bottom","right"].includes(be)?G?"bottom":"right":G?"middle":"center"});function p(){i&&(i.destroy(),i=null)}function g(){Ds(()=>{const G=Ua(o.target);!G||!r.value||(i&&i.state.elements.reference!==G&&p(),i?i.update():i=mA(G,r.value,u.value))})}function b(G){Object.assign(o,xy(G,"force"))}function S(G,be){clearTimeout(n),G>0?n=setTimeout(be,G):be()}function P(G){return!G||!i?!1:Ua(G)===i.state.elements.reference}async function O(G={}){o.force||(G.force&&(o.force=!0),S(G.showDelay??t.showDelay,()=>{o.isVisible&&(o.force=!1),b({...G,isVisible:!0}),g()}))}function k(G={}){i&&(G.target&&!P(G.target)||o.force||(G.force&&(o.force=!0),S(G.hideDelay??t.hideDelay,()=>{o.isVisible||(o.force=!1),o.isVisible=!1})))}function z(G={}){G.target!=null&&(o.isVisible&&P(G.target)?k(G):O(G))}function U(G){if(!i)return;const be=i.state.elements.reference;if(!r.value||!be)return;const ie=G.target;fa(r.value,ie)||fa(be,ie)||k({force:!0})}function $(G){(G.key==="Esc"||G.key==="Escape")&&k()}function K({detail:G}){!G.id||G.id!==t.id||O(G)}function j({detail:G}){!G.id||G.id!==t.id||k(G)}function E({detail:G}){!G.id||G.id!==t.id||z(G)}function y(){mr(document,"keydown",$),mr(document,"click",U),mr(document,"show-popover",K),mr(document,"hide-popover",j),mr(document,"toggle-popover",E)}function w(){vr(document,"keydown",$),vr(document,"click",U),vr(document,"show-popover",K),vr(document,"hide-popover",j),vr(document,"toggle-popover",E)}function T(G){e("before-show",G)}function C(G){o.force=!1,e("after-show",G)}function _(G){e("before-hide",G)}function v(G){o.force=!1,p(),e("after-hide",G)}function J(G){G.stopPropagation()}function ee(){o.isHovered=!0,o.isInteractive&&["hover","hover-focus"].includes(o.visibility)&&O()}function oe(){if(o.isHovered=!1,!i)return;const G=i.state.elements.reference;o.autoHide&&!o.isFocused&&(!G||G!==document.activeElement)&&["hover","hover-focus"].includes(o.visibility)&&k()}function fe(){o.isFocused=!0,o.isInteractive&&["focus","hover-focus"].includes(o.visibility)&&O()}function pe(G){["focus","hover-focus"].includes(o.visibility)&&(!G.relatedTarget||!fa(r.value,G.relatedTarget))&&(o.isFocused=!1,!o.isHovered&&o.autoHide&&k())}function Ae(){s!=null&&(s.disconnect(),s=null)}return mt(()=>r.value,G=>{Ae(),G&&(s=new ResizeObserver(()=>{i&&i.update()}),s.observe(G))}),mt(()=>o.placement,l,{immediate:!0}),us(()=>{y()}),ii(()=>{p(),Ae(),w()}),{...Mb(o),popoverRef:r,alignment:f,hide:k,setupPopper:g,beforeEnter:T,afterEnter:C,beforeLeave:_,afterLeave:v,onClick:J,onMouseOver:ee,onMouseLeave:oe,onFocusIn:fe,onFocusOut:pe}}}),$r=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n};function D6(t,e,n,r,s,i){return re(),he("div",{class:Ge(["vc-popover-content-wrapper",{"is-interactive":t.isInteractive}]),ref:"popoverRef",onClick:e[0]||(e[0]=(...o)=>t.onClick&&t.onClick(...o)),onMouseover:e[1]||(e[1]=(...o)=>t.onMouseOver&&t.onMouseOver(...o)),onMouseleave:e[2]||(e[2]=(...o)=>t.onMouseLeave&&t.onMouseLeave(...o)),onFocusin:e[3]||(e[3]=(...o)=>t.onFocusIn&&t.onFocusIn(...o)),onFocusout:e[4]||(e[4]=(...o)=>t.onFocusOut&&t.onFocusOut(...o))},[ve(ul,{name:`vc-${t.transition}`,appear:"",onBeforeEnter:t.beforeEnter,onAfterEnter:t.afterEnter,onBeforeLeave:t.beforeLeave,onAfterLeave:t.afterLeave},{default:at(()=>[t.isVisible?(re(),he("div",hs({key:0,tabindex:"-1",class:`vc-popover-content direction-${t.direction}`},t.$attrs),[wo(t.$slots,"default",{direction:t.direction,alignment:t.alignment,data:t.data,hide:t.hide},()=>[Bs(Tt(t.data),1)]),ge("span",{class:Ge(["vc-popover-caret",`direction-${t.direction}`,`align-${t.alignment}`])},null,2)],16)):ot("",!0)]),_:3},8,["name","onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],34)}const xl=$r(I6,[["render",D6]]),S6={class:"vc-day-popover-row"},A6={key:0,class:"vc-day-popover-row-indicator"},P6={class:"vc-day-popover-row-label"},uw=dt({__name:"PopoverRow",props:{attribute:null},setup(t){const e=t,n=N(()=>{const{content:r,highlight:s,dot:i,bar:o,popover:l}=e.attribute;return l&&l.hideIndicator?null:r?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${r.base.color}`}:s?{class:`vc-highlight-bg-solid vc-day-popover-row-highlight vc-attr vc-${s.base.color}`}:i?{class:`vc-dot vc-attr vc-${i.base.color}`}:o?{class:`vc-bar vc-day-popover-row-bar vc-attr vc-${o.base.color}`}:null});return(r,s)=>(re(),he("div",S6,[W(n)?(re(),he("div",A6,[ge("span",{class:Ge(W(n).class)},null,2)])):ot("",!0),ge("div",P6,[wo(r.$slots,"default",{},()=>[Bs(Tt(t.attribute.popover?t.attribute.popover.label:"No content provided"),1)])])]))}}),M6={inheritAttrs:!1},cn=dt({...M6,__name:"CalendarSlot",props:{name:null},setup(t){const n=lw(t.name);return(r,s)=>W(n)?(re(),Dt(Sv(W(n)),Bi(hs({key:0},r.$attrs)),null,16)):wo(r.$slots,"default",{key:1})}}),O6={class:"vc-day-popover-container"},k6={key:0,class:"vc-day-popover-header"},x6=dt({__name:"CalendarDayPopover",setup(t){const{dayPopoverId:e,displayMode:n,color:r,masks:s,locale:i}=vs();function o(c,u){return i.value.formatDate(c,u)}function l(c){return i.value.formatDate(c.date,s.value.dayPopover)}return(c,u)=>(re(),Dt(xl,{id:W(e),class:Ge([`vc-${W(r)}`,`vc-${W(n)}`])},{default:at(({data:{day:f,attributes:p},hide:g})=>[ve(cn,{name:"day-popover",day:f,"day-title":l(f),attributes:p,format:o,masks:W(s),hide:g},{default:at(()=>[ge("div",O6,[W(s).dayPopover?(re(),he("div",k6,Tt(l(f)),1)):ot("",!0),(re(!0),he(xe,null,Xt(p,b=>(re(),Dt(uw,{key:b.key,attribute:b},null,8,["attribute"]))),128))])]),_:2},1032,["day","day-title","attributes","masks","hide"])]),_:1},8,["id","class"]))}}),R6={},N6={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},$6=ge("polyline",{points:"9 18 15 12 9 6"},null,-1),L6=[$6];function F6(t,e){return re(),he("svg",N6,L6)}const Y6=$r(R6,[["render",F6]]),H6={},j6={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},B6=ge("polyline",{points:"15 18 9 12 15 6"},null,-1),U6=[B6];function W6(t,e){return re(),he("svg",j6,U6)}const V6=$r(H6,[["render",W6]]),z6={},K6={"stroke-linecap":"round","stroke-linejoin":"round",viewBox:"0 0 24 24"},G6=ge("polyline",{points:"6 9 12 15 18 9"},null,-1),q6=[G6];function X6(t,e){return re(),he("svg",K6,q6)}const Q6=$r(z6,[["render",X6]]),Z6={},J6={fill:"none","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"},eY=ge("path",{d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},null,-1),tY=[eY];function nY(t,e){return re(),he("svg",J6,tY)}const rY=$r(Z6,[["render",nY]]),sY=Object.freeze(Object.defineProperty({__proto__:null,IconChevronDown:Q6,IconChevronLeft:V6,IconChevronRight:Y6,IconClock:rY},Symbol.toStringTag,{value:"Module"})),si=dt({__name:"BaseIcon",props:{name:{type:String,required:!0},width:{type:String},height:{type:String},size:{type:String,default:"26"},viewBox:{type:String}},setup(t){const e=t,n=N(()=>e.width||e.size),r=N(()=>e.height||e.size),s=N(()=>sY[`Icon${e.name}`]);return(i,o)=>(re(),Dt(Sv(W(s)),{width:W(n),height:W(r),class:"vc-base-icon"},null,8,["width","height"]))}}),iY=["disabled"],oY={key:1,class:"vc-title-wrapper"},aY={type:"button",class:"vc-title"},lY=["disabled"],hw=dt({__name:"CalendarHeader",props:{page:null,layout:null,isLg:{type:Boolean},isXl:{type:Boolean},is2xl:{type:Boolean},hideTitle:{type:Boolean},hideArrows:{type:Boolean}},setup(t){const e=t,{navPopoverId:n,navVisibility:r,canMovePrev:s,movePrev:i,canMoveNext:o,moveNext:l}=vs(),c=N(()=>{switch(e.page.titlePosition){case"left":return"bottom-start";case"right":return"bottom-end";default:return"bottom"}}),u=N(()=>{const{page:P}=e;return{id:n.value,visibility:r.value,placement:c.value,modifiers:[{name:"flip",options:{fallbackPlacements:["bottom"]}}],data:{page:P},isInteractive:!0}}),f=N(()=>e.page.titlePosition.includes("left")),p=N(()=>e.page.titlePosition.includes("right")),g=N(()=>e.layout?e.layout:f.value?"tu-pn":p.value?"pn-tu":"p-tu-n;"),b=N(()=>({prev:g.value.includes("p")&&!e.hideArrows,title:g.value.includes("t")&&!e.hideTitle,next:g.value.includes("n")&&!e.hideArrows})),S=N(()=>({gridTemplateColumns:g.value.split("").map(O=>{switch(O){case"p":return"[prev] auto";case"n":return"[next] auto";case"t":return"[title] auto";case"-":return"1fr";default:return""}}).join(" ")}));return(P,O)=>(re(),he("div",{class:Ge(["vc-header",{"is-lg":t.isLg,"is-xl":t.isXl,"is-2xl":t.is2xl}]),style:zt(W(S))},[W(b).prev?(re(),he("button",{key:0,type:"button",class:"vc-arrow vc-prev vc-focus",disabled:!W(s),onClick:O[0]||(O[0]=(...k)=>W(i)&&W(i)(...k)),onKeydown:O[1]||(O[1]=Cd((...k)=>W(i)&&W(i)(...k),["space","enter"]))},[ve(cn,{name:"header-prev-button",disabled:!W(s)},{default:at(()=>[ve(si,{name:"ChevronLeft",size:"24"})]),_:1},8,["disabled"])],40,iY)):ot("",!0),W(b).title?(re(),he("div",oY,[ve(cn,{name:"header-title-wrapper"},{default:at(()=>[Du((re(),he("button",aY,[ve(cn,{name:"header-title",title:t.page.title},{default:at(()=>[ge("span",null,Tt(t.page.title),1)]),_:1},8,["title"])])),[[W(tw),W(u)]])]),_:1})])):ot("",!0),W(b).next?(re(),he("button",{key:2,type:"button",class:"vc-arrow vc-next vc-focus",disabled:!W(o),onClick:O[2]||(O[2]=(...k)=>W(l)&&W(l)(...k)),onKeydown:O[3]||(O[3]=Cd((...k)=>W(l)&&W(l)(...k),["space","enter"]))},[ve(cn,{name:"header-next-button",disabled:!W(o)},{default:at(()=>[ve(si,{name:"ChevronRight",size:"24"})]),_:1},8,["disabled"])],40,lY)):ot("",!0)],6))}}),fw=Symbol("__vc_page_context__");function cY(t){const{locale:e,getDateAddress:n,canMove:r}=vs();function s(l,c){const{month:u,year:f}=n(new Date);return Qy().map((p,g)=>{const b=g+1;return{month:b,year:l,id:ZF(b,l),label:e.value.formatDate(p,c),ariaLabel:e.value.formatDate(p,"MMMM"),isActive:b===t.value.month&&l===t.value.year,isCurrent:b===u&&l===f,isDisabled:!r({month:b,year:l},{position:t.value.position})}})}function i(l,c){const{year:u}=n(new Date),{position:f}=t.value,p=[];for(let g=l;g<=c;g+=1){const b=[...Array(12).keys()].some(S=>r({month:S+1,year:g},{position:f}));p.push({year:g,id:g.toString(),label:g.toString(),ariaLabel:g.toString(),isActive:g===t.value.year,isCurrent:g===u,isDisabled:!b})}return p}const o={page:t,getMonthItems:s,getYearItems:i};return oi(fw,o),o}function dw(){const t=Gn(fw);if(t)return t;throw new Error("Page context missing. Please verify this component is nested within a valid context provider.")}const uY={class:"vc-nav-header"},hY=["disabled"],fY=["disabled"],dY={class:"vc-nav-items"},pY=["data-id","aria-label","disabled","onClick","onKeydown"],gY=dt({__name:"CalendarNav",setup(t){const{masks:e,move:n}=vs(),{page:r,getMonthItems:s,getYearItems:i}=dw(),o=ke(!0),l=12,c=ke(r.value.year),u=ke(g(r.value.year)),f=ke(null);function p(){setTimeout(()=>{if(f.value==null)return;const ie=f.value.querySelector(".vc-nav-item:not(:disabled)");ie&&ie.focus()},10)}function g(ie){return Math.floor(ie/l)}function b(){o.value=!o.value}function S(ie){return ie*l}function P(ie){return l*(ie+1)-1}function O(){fe.value&&(o.value&&z(),$())}function k(){pe.value&&(o.value&&U(),K())}function z(){c.value--}function U(){c.value++}function $(){u.value--}function K(){u.value++}const j=N(()=>s(c.value,e.value.navMonths).map(ie=>({...ie,click:()=>n({month:ie.month,year:ie.year},{position:r.value.position})}))),E=N(()=>s(c.value-1,e.value.navMonths)),y=N(()=>E.value.some(ie=>!ie.isDisabled)),w=N(()=>s(c.value+1,e.value.navMonths)),T=N(()=>w.value.some(ie=>!ie.isDisabled)),C=N(()=>i(S(u.value),P(u.value)).map(ie=>({...ie,click:()=>{c.value=ie.year,o.value=!0,p()}}))),_=N(()=>i(S(u.value-1),P(u.value-1))),v=N(()=>_.value.some(ie=>!ie.isDisabled)),J=N(()=>i(S(u.value+1),P(u.value+1))),ee=N(()=>J.value.some(ie=>!ie.isDisabled)),oe=N(()=>o.value?j.value:C.value),fe=N(()=>o.value?y.value:v.value),pe=N(()=>o.value?T.value:ee.value),Ae=N(()=>Oy(C.value.map(ie=>ie.year))),G=N(()=>As(C.value.map(ie=>ie.year))),be=N(()=>o.value?c.value:`${Ae.value} - ${G.value}`);return Bv(()=>{c.value=r.value.year,p()}),mt(()=>c.value,ie=>u.value=g(ie)),us(()=>p()),(ie,Ce)=>(re(),he("div",{class:"vc-nav-container",ref_key:"navContainer",ref:f},[ge("div",uY,[ge("button",{type:"button",class:"vc-nav-arrow is-left vc-focus",disabled:!W(fe),onClick:O,onKeydown:Ce[0]||(Ce[0]=Pe=>W(ra)(Pe,O))},[ve(cn,{name:"nav-prev-button",move:O,disabled:!W(fe)},{default:at(()=>[ve(si,{name:"ChevronLeft",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,hY),ge("button",{type:"button",class:"vc-nav-title vc-focus",onClick:b,onKeydown:Ce[1]||(Ce[1]=Pe=>W(ra)(Pe,b))},Tt(W(be)),33),ge("button",{type:"button",class:"vc-nav-arrow is-right vc-focus",disabled:!W(pe),onClick:k,onKeydown:Ce[2]||(Ce[2]=Pe=>W(ra)(Pe,k))},[ve(cn,{name:"nav-next-button",move:k,disabled:!W(pe)},{default:at(()=>[ve(si,{name:"ChevronRight",width:"22px",height:"24px"})]),_:1},8,["disabled"])],40,fY)]),ge("div",dY,[(re(!0),he(xe,null,Xt(W(oe),Pe=>(re(),he("button",{key:Pe.label,type:"button","data-id":Pe.id,"aria-label":Pe.ariaLabel,class:Ge(["vc-nav-item vc-focus",[Pe.isActive?"is-active":Pe.isCurrent?"is-current":""]]),disabled:Pe.isDisabled,onClick:Pe.click,onKeydown:Ye=>W(ra)(Ye,Pe.click)},Tt(Pe.label),43,pY))),128))])],512))}}),pw=dt({__name:"CalendarPageProvider",props:{page:null},setup(t){return cY(aa(t,"page")),(n,r)=>wo(n.$slots,"default")}}),vY=dt({__name:"CalendarNavPopover",setup(t){const{navPopoverId:e,color:n,displayMode:r}=vs();return(s,i)=>(re(),Dt(xl,{id:W(e),class:Ge(["vc-nav-popover-container",`vc-${W(n)}`,`vc-${W(r)}`])},{default:at(({data:o})=>[ve(pw,{page:o.page},{default:at(()=>[ve(cn,{name:"nav"},{default:at(()=>[ve(gY)]),_:1})]),_:2},1032,["page"])]),_:1},8,["id","class"]))}}),mY=dt({directives:{popover:tw},components:{CalendarSlot:cn},props:{day:{type:Object,required:!0}},setup(t){const{locale:e,theme:n,attributeContext:r,dayPopoverId:s,onDayClick:i,onDayMouseenter:o,onDayMouseleave:l,onDayFocusin:c,onDayFocusout:u,onDayKeydown:f}=vs(),p=N(()=>t.day),g=N(()=>r.value.getCells(p.value)),b=N(()=>g.value.map(ee=>ee.data)),S=N(()=>({...p.value,attributes:b.value,attributeCells:g.value}));function P({data:ee},{popovers:oe}){const{key:fe,customData:pe,popover:Ae}=ee;if(!Ae)return;const G=fg({key:fe,customData:pe,attribute:ee},{...Ae},{visibility:Ae.label?"hover":"click",placement:"bottom",isInteractive:!Ae.label});oe.splice(0,0,G)}const O=N(()=>{const ee={...n.value.prepareRender({}),popovers:[]};return g.value.forEach(oe=>{n.value.render(oe,ee),P(oe,ee)}),ee}),k=N(()=>O.value.highlights),z=N(()=>!!zn(k.value)),U=N(()=>O.value.content),$=N(()=>O.value.dots),K=N(()=>!!zn($.value)),j=N(()=>O.value.bars),E=N(()=>!!zn(j.value)),y=N(()=>O.value.popovers),w=N(()=>y.value.map(ee=>ee.attribute)),T=lw("day-content"),C=N(()=>["vc-day",...p.value.classes,{"vc-day-box-center-center":!T},{"is-not-in-month":!t.day.inMonth}]),_=N(()=>{let ee;p.value.isFocusable?ee="0":ee="-1";const oe=["vc-day-content vc-focusable vc-focus vc-attr",{"vc-disabled":p.value.isDisabled},Zr(As(k.value),"contentClass"),Zr(As(U.value),"class")||""],fe={...Zr(As(k.value),"contentStyle"),...Zr(As(U.value),"style")};return{class:oe,style:fe,tabindex:ee,"aria-label":p.value.ariaLabel,"aria-disabled":!!p.value.isDisabled,role:"button"}}),v=N(()=>({click(ee){i(S.value,ee)},mouseenter(ee){o(S.value,ee)},mouseleave(ee){l(S.value,ee)},focusin(ee){c(S.value,ee)},focusout(ee){u(S.value,ee)},keydown(ee){f(S.value,ee)}})),J=N(()=>zn(y.value)?fg({id:s.value,data:{day:p,attributes:w.value}},...y.value):null);return{attributes:b,attributeCells:g,bars:j,dayClasses:C,dayContentProps:_,dayContentEvents:v,dayPopover:J,glyphs:O,dots:$,hasDots:K,hasBars:E,highlights:k,hasHighlights:z,locale:e,popovers:y}}}),_Y={key:0,class:"vc-highlights vc-day-layer"},yY={key:1,class:"vc-day-layer vc-day-box-center-bottom"},wY={class:"vc-dots"},bY={key:2,class:"vc-day-layer vc-day-box-center-bottom"},CY={class:"vc-bars"};function EY(t,e,n,r,s,i){const o=Mn("CalendarSlot"),l=Zb("popover");return re(),he("div",{class:Ge(t.dayClasses)},[t.hasHighlights?(re(),he("div",_Y,[(re(!0),he(xe,null,Xt(t.highlights,({key:c,wrapperClass:u,class:f,style:p})=>(re(),he("div",{key:c,class:Ge(u)},[ge("div",{class:Ge(f),style:zt(p)},null,6)],2))),128))])):ot("",!0),ve(o,{name:"day-content",day:t.day,attributes:t.attributes,"attribute-cells":t.attributeCells,dayProps:t.dayContentProps,dayEvents:t.dayContentEvents,locale:t.locale},{default:at(()=>[Du((re(),he("div",hs(t.dayContentProps,Jb(t.dayContentEvents,!0)),[Bs(Tt(t.day.label),1)],16)),[[l,t.dayPopover]])]),_:1},8,["day","attributes","attribute-cells","dayProps","dayEvents","locale"]),t.hasDots?(re(),he("div",yY,[ge("div",wY,[(re(!0),he(xe,null,Xt(t.dots,({key:c,class:u,style:f})=>(re(),he("span",{key:c,class:Ge(u),style:zt(f)},null,6))),128))])])):ot("",!0),t.hasBars?(re(),he("div",bY,[ge("div",CY,[(re(!0),he(xe,null,Xt(t.bars,({key:c,class:u,style:f})=>(re(),he("span",{key:c,class:Ge(u),style:zt(f)},null,6))),128))])])):ot("",!0)],2)}const TY=$r(mY,[["render",EY]]),IY={class:"vc-weekdays"},DY=["onClick"],SY={inheritAttrs:!1},AY=dt({...SY,__name:"CalendarPage",setup(t){const{page:e}=dw(),{onWeeknumberClick:n}=vs();return(r,s)=>(re(),he("div",{class:Ge(["vc-pane",`row-${W(e).row}`,`row-from-end-${W(e).rowFromEnd}`,`column-${W(e).column}`,`column-from-end-${W(e).columnFromEnd}`]),ref:"pane"},[ve(hw,{page:W(e),"is-lg":"","hide-arrows":""},null,8,["page"]),ge("div",{class:Ge(["vc-weeks",{[`vc-show-weeknumbers-${W(e).weeknumberPosition}`]:W(e).weeknumberPosition}])},[ge("div",IY,[(re(!0),he(xe,null,Xt(W(e).weekdays,({weekday:i,label:o},l)=>(re(),he("div",{key:l,class:Ge(`vc-weekday vc-weekday-${i}`)},Tt(o),3))),128))]),(re(!0),he(xe,null,Xt(W(e).viewWeeks,i=>(re(),he("div",{key:`weeknumber-${i.weeknumber}`,class:"vc-week"},[W(e).weeknumberPosition?(re(),he("div",{key:0,class:Ge(["vc-weeknumber",`is-${W(e).weeknumberPosition}`])},[ge("span",{class:Ge(["vc-weeknumber-content"]),onClick:o=>W(n)(i,o)},Tt(i.weeknumberDisplay),9,DY)],2)):ot("",!0),(re(!0),he(xe,null,Xt(i.days,o=>(re(),Dt(TY,{key:o.id,day:o},null,8,["day"]))),128))]))),128))],2)],2))}}),PY=dt({components:{CalendarHeader:hw,CalendarPage:AY,CalendarNavPopover:vY,CalendarDayPopover:x6,CalendarPageProvider:pw,CalendarSlot:cn},props:C6,emit:E6,setup(t,{emit:e,slots:n}){return T6(t,{emit:e,slots:n})}}),MY={class:"vc-pane-header-wrapper"};function OY(t,e,n,r,s,i){const o=Mn("CalendarHeader"),l=Mn("CalendarPage"),c=Mn("CalendarSlot"),u=Mn("CalendarPageProvider"),f=Mn("CalendarDayPopover"),p=Mn("CalendarNavPopover");return re(),he(xe,null,[ge("div",hs({"data-helptext":"Press the arrow keys to navigate by day, Home and End to navigate to week ends, PageUp and PageDown to navigate by month, Alt+PageUp and Alt+PageDown to navigate by year"},t.$attrs,{class:["vc-container",`vc-${t.view}`,`vc-${t.color}`,`vc-${t.displayMode}`,{"vc-expanded":t.expanded,"vc-bordered":!t.borderless,"vc-transparent":t.transparent}],onMouseup:e[0]||(e[0]=rm(()=>{},["prevent"])),ref:"containerRef"}),[ge("div",{class:Ge(["vc-pane-container",{"in-transition":t.inTransition}])},[ge("div",MY,[t.firstPage?(re(),Dt(o,{key:0,page:t.firstPage,"is-lg":"","hide-title":""},null,8,["page"])):ot("",!0)]),ve(ul,{name:`vc-${t.transitionName}`,onBeforeEnter:t.onTransitionBeforeEnter,onAfterEnter:t.onTransitionAfterEnter},{default:at(()=>[(re(),he("div",{key:t.pages[0].id,class:"vc-pane-layout",style:zt({gridTemplateColumns:`repeat(${t.columns}, 1fr)`})},[(re(!0),he(xe,null,Xt(t.pages,g=>(re(),Dt(u,{key:g.id,page:g},{default:at(()=>[ve(c,{name:"page",page:g},{default:at(()=>[ve(l)]),_:2},1032,["page"])]),_:2},1032,["page"]))),128))],4))]),_:1},8,["name","onBeforeEnter","onAfterEnter"]),ve(c,{name:"footer"})],2)],16),ve(f),ve(p)],64)}const gw=$r(PY,[["render",OY]]),vw=Symbol("__vc_date_picker_context__"),kY={...sw,mode:{type:String,default:"date"},modelValue:{type:[Number,String,Date,Object]},modelModifiers:{type:Object,default:()=>({})},rules:[String,Object],is24hr:Boolean,hideTimeHeader:Boolean,timeAccuracy:{type:Number,default:2},isRequired:Boolean,isRange:Boolean,updateOnInput:{type:Boolean,default:()=>Pr("datePicker.updateOnInput")},inputDebounce:{type:Number,default:()=>Pr("datePicker.inputDebounce")},popover:{type:[Boolean,Object],default:!0},dragAttribute:Object,selectAttribute:Object,attributes:[Object,Array]},xY=["update:modelValue","drag","dayclick","daykeydown","popover-will-show","popover-did-show","popover-will-hide","popover-did-hide"];function RY(t,{emit:e,slots:n}){aw(n,{footer:"dp-footer"});const r=iw(t),{locale:s,masks:i,disabledAttribute:o}=r,l=ke(!1),c=ke(Symbol()),u=ke(null),f=ke(null),p=ke(["",""]),g=ke(null),b=ke(null);let S,P,O=!0;const k=N(()=>t.isRange||t.modelModifiers.range===!0),z=N(()=>k.value&&u.value!=null?u.value.start:null),U=N(()=>k.value&&u.value!=null?u.value.end:null),$=N(()=>t.mode.toLowerCase()==="date"),K=N(()=>t.mode.toLowerCase()==="datetime"),j=N(()=>t.mode.toLowerCase()==="time"),E=N(()=>!!f.value),y=N(()=>{let D="date";t.modelModifiers.number&&(D="number"),t.modelModifiers.string&&(D="string");const L=i.value.modelValue||"iso";return Ce({type:D,mask:L})}),w=N(()=>Z(f.value??u.value)),T=N(()=>j.value?t.is24hr?i.value.inputTime24hr:i.value.inputTime:K.value?t.is24hr?i.value.inputDateTime24hr:i.value.inputDateTime:i.value.input),C=N(()=>/[Hh]/g.test(T.value)),_=N(()=>/[dD]{1,2}|Do|W{1,4}|M{1,4}|YY(?:YY)?/g.test(T.value)),v=N(()=>{if(C.value&&_.value)return"dateTime";if(_.value)return"date";if(C.value)return"time"}),J=N(()=>{var D;const L=((D=g.value)==null?void 0:D.$el.previousElementSibling)??void 0;return ri({},t.popover,Pr("datePicker.popover"),{target:L})}),ee=N(()=>ew({...J.value,id:c.value})),oe=N(()=>k.value?{start:p.value[0],end:p.value[1]}:p.value[0]),fe=N(()=>{const D=["start","end"].map(L=>({input:H(L),change:F(L),keyup:V,...t.popover&&ee.value}));return k.value?{start:D[0],end:D[1]}:D[0]}),pe=N(()=>{if(!Le(u.value))return null;const D={key:"select-drag",...t.selectAttribute,dates:u.value,pinPage:!0},{dot:L,bar:se,highlight:_e,content:Ue}=D;return!L&&!se&&!_e&&!Ue&&(D.highlight=!0),D}),Ae=N(()=>{if(!k.value||!Le(f.value))return null;const D={key:"select-drag",...t.dragAttribute,dates:f.value},{dot:L,bar:se,highlight:_e,content:Ue}=D;return!L&&!se&&!_e&&!Ue&&(D.highlight={startEnd:{fillMode:"outline"}}),D}),G=N(()=>{const D=fn(t.attributes)?[...t.attributes]:[];return Ae.value?D.unshift(Ae.value):pe.value&&D.unshift(pe.value),D}),be=N(()=>Ce(t.rules==="auto"?ie():t.rules??{}));function ie(){const D={ms:[0,999],sec:[0,59],min:[0,59],hr:[0,23]},L=$.value?0:t.timeAccuracy;return[0,1].map(se=>{switch(L){case 0:return{hours:D.hr[se],minutes:D.min[se],seconds:D.sec[se],milliseconds:D.ms[se]};case 1:return{minutes:D.min[se],seconds:D.sec[se],milliseconds:D.ms[se]};case 3:return{milliseconds:D.ms[se]};case 4:return{};default:return{seconds:D.sec[se],milliseconds:D.ms[se]}}})}function Ce(D){return fn(D)?D.length===1?[D[0],D[0]]:D:[D,D]}function Pe(D){return Ce(D).map((L,se)=>({...L,rules:be.value[se]}))}function Ye(D){return D==null?!1:Tn(D)?!isNaN(D):Ls(D)?!isNaN(D.getTime()):xn(D)?D!=="":Kh(D)}function Xe(D){return Jn(D)&&"start"in D&&"end"in D&&Ye(D.start??null)&&Ye(D.end??null)}function Le(D){return Xe(D)||Ye(D)}function et(D,L){if(D==null&&L==null)return!0;if(D==null||L==null)return!1;const se=Ls(D),_e=Ls(L);return se&&_e?D.getTime()===L.getTime():se||_e?!1:et(D.start,L.start)&&et(D.end,L.end)}function yt(D){return!Le(D)||!o.value?!1:o.value.intersectsRange(s.value.range(D))}function lt(D,L,se,_e){if(!Le(D))return null;if(Xe(D)){const Ue=s.value.toDate(D.start,{...L[0],fillDate:z.value??void 0,patch:se}),vt=s.value.toDate(D.end,{...L[1],fillDate:U.value??void 0,patch:se});return At({start:Ue,end:vt},_e)}return s.value.toDateOrNull(D,{...L[0],fillDate:u.value,patch:se})}function pt(D,L){return Xe(D)?{start:s.value.fromDate(D.start,L[0]),end:s.value.fromDate(D.end,L[1])}:k.value?null:s.value.fromDate(D,L[0])}function gt(D,L={}){return clearTimeout(S),new Promise(se=>{const{debounce:_e=0,...Ue}=L;_e>0?S=window.setTimeout(()=>{se(I(D,Ue))},_e):se(I(D,Ue))})}function I(D,{config:L=y.value,patch:se="dateTime",clearIfEqual:_e=!1,formatInput:Ue=!0,hidePopover:vt=!1,dragging:ut=E.value,targetPriority:Hn,moveToValue:An=!1}={}){const ms=Pe(L);let ht=lt(D,ms,se,Hn);if(yt(ht)){if(ut)return null;ht=u.value,vt=!1}else ht==null&&t.isRequired?ht=u.value:ht!=null&&et(u.value,ht)&&_e&&(ht=null);const ft=ut?f:u,sr=!et(ft.value,ht);ft.value=ht,ut||(f.value=null);const vn=pt(ht,y.value);return sr&&(O=!1,e(ut?"drag":"update:modelValue",vn),Ds(()=>O=!0)),vt&&!ut&&Be(),Ue&&A(),An&&Ds(()=>gn(Hn??"start")),vn}function A(){Ds(()=>{const D=Pe({type:"string",mask:T.value}),L=pt(f.value??u.value,D);k.value?p.value=[L&&L.start,L&&L.end]:p.value=[L,""]})}function x(D,L,se){p.value.splice(L==="start"?0:1,1,D);const _e=k.value?{start:p.value[0],end:p.value[1]||p.value[0]}:D,Ue={type:"string",mask:T.value};gt(_e,{...se,config:Ue,patch:v.value,targetPriority:L,moveToValue:!0})}function H(D){return L=>{t.updateOnInput&&x(L.currentTarget.value,D,{formatInput:!1,hidePopover:!1,debounce:t.inputDebounce})}}function F(D){return L=>{x(L.currentTarget.value,D,{formatInput:!0,hidePopover:!1})}}function V(D){D.key==="Escape"&&gt(u.value,{formatInput:!0,hidePopover:!0})}function Z(D){return k.value?[D&&D.start?s.value.getDateParts(D.start):null,D&&D.end?s.value.getDateParts(D.end):null]:[D?s.value.getDateParts(D):null]}function q(){f.value=null,A()}function X(D){e("popover-will-show",D)}function B(D){e("popover-did-show",D)}function ne(D){q(),e("popover-will-hide",D)}function ce(D){e("popover-did-hide",D)}function le(D){const L={patch:"date",formatInput:!0,hidePopover:!0};if(k.value){const se=!E.value;se?P={start:D.startDate,end:D.endDate}:P!=null&&(P.end=D.date),gt(P,{...L,dragging:se})}else gt(D.date,{...L,clearIfEqual:!t.isRequired})}function ae(D,L){le(D),e("dayclick",D,L)}function ue(D,L){switch(L.key){case" ":case"Enter":{le(D),L.preventDefault();break}case"Escape":Be()}e("daykeydown",D,L)}function Ie(D,L){!E.value||P==null||(P.end=D.date,gt(At(P),{patch:"date",formatInput:!0}))}function De(D={}){fu({...J.value,...D,isInteractive:!0,id:c.value})}function Be(D={}){yo({hideDelay:10,force:!0,...J.value,...D,id:c.value})}function St(D){Jy({...J.value,...D,isInteractive:!0,id:c.value})}function At(D,L){const{start:se,end:_e}=D;if(se>_e)switch(L){case"start":return{start:se,end:se};case"end":return{start:_e,end:_e};default:return{start:_e,end:se}}return{start:se,end:_e}}async function Sn(D,L={}){return b.value==null?!1:b.value.move(D,L)}async function rn(D,L={}){return b.value==null?!1:b.value.moveBy(D,L)}async function gn(D,L={}){const se=u.value;if(b.value==null||!Le(se))return!1;const _e=D!=="end",Ue=_e?1:-1,vt=Xe(se)?_e?se.start:se.end:se,ut=Ly(vt,"monthly",s.value);return b.value.move(ut,{position:Ue,...L})}mt(()=>t.isRange,D=>{D&&console.warn("The `is-range` prop will be deprecated in future releases. Please use the `range` modifier.")},{immediate:!0}),mt(()=>k.value,()=>{I(null,{formatInput:!0})}),mt(()=>T.value,()=>A()),mt(()=>t.modelValue,D=>{O&&I(D,{formatInput:!0,hidePopover:!1})}),mt(()=>be.value,()=>{Jn(t.rules)&&I(t.modelValue,{formatInput:!0,hidePopover:!1})}),mt(()=>t.timezone,()=>{I(u.value,{formatInput:!0})});const ct=Ce(y.value);u.value=lt(t.modelValue??null,ct,"dateTime"),us(()=>{I(t.modelValue,{formatInput:!0,hidePopover:!1})}),Ds(()=>l.value=!0);const Y={...r,showCalendar:l,datePickerPopoverId:c,popoverRef:g,popoverEvents:ee,calendarRef:b,isRange:k,isTimeMode:j,isDateTimeMode:K,is24hr:aa(t,"is24hr"),hideTimeHeader:aa(t,"hideTimeHeader"),timeAccuracy:aa(t,"timeAccuracy"),isDragging:E,inputValue:oe,inputEvents:fe,dateParts:w,attributes:G,rules:be,move:Sn,moveBy:rn,moveToValue:gn,updateValue:gt,showPopover:De,hidePopover:Be,togglePopover:St,onDayClick:ae,onDayKeydown:ue,onDayMouseEnter:Ie,onPopoverBeforeShow:X,onPopoverAfterShow:B,onPopoverBeforeHide:ne,onPopoverAfterHide:ce};return oi(vw,Y),Y}function Qh(){const t=Gn(vw);if(t)return t;throw new Error("DatePicker context missing. Please verify this component is nested within a valid context provider.")}const NY=[{value:0,label:"12"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"},{value:5,label:"5"},{value:6,label:"6"},{value:7,label:"7"},{value:8,label:"8"},{value:9,label:"9"},{value:10,label:"10"},{value:11,label:"11"}],$Y=[{value:12,label:"12"},{value:13,label:"1"},{value:14,label:"2"},{value:15,label:"3"},{value:16,label:"4"},{value:17,label:"5"},{value:18,label:"6"},{value:19,label:"7"},{value:20,label:"8"},{value:21,label:"9"},{value:22,label:"10"},{value:23,label:"11"}];function LY(t){const e=Qh(),{locale:n,isRange:r,isTimeMode:s,dateParts:i,rules:o,is24hr:l,hideTimeHeader:c,timeAccuracy:u,updateValue:f}=e;function p(_){_=Object.assign(b.value,_);let v=null;if(r.value){const J=g.value?_:i.value[0],ee=g.value?i.value[1]:_;v={start:J,end:ee}}else v=_;f(v,{patch:"time",targetPriority:g.value?"start":"end",moveToValue:!0})}const g=N(()=>t.position===0),b=N(()=>i.value[t.position]||{isValid:!1}),S=N(()=>Kh(b.value)),P=N(()=>!!b.value.isValid),O=N(()=>!c.value&&P.value),k=N(()=>{if(!S.value)return null;let _=n.value.toDate(b.value);return b.value.hours===24&&(_=new Date(_.getTime()-1)),_}),z=N({get(){return b.value.hours},set(_){p({hours:_})}}),U=N({get(){return b.value.minutes},set(_){p({minutes:_})}}),$=N({get(){return b.value.seconds},set(_){p({seconds:_})}}),K=N({get(){return b.value.milliseconds},set(_){p({milliseconds:_})}}),j=N({get(){return b.value.hours<12},set(_){_=String(_).toLowerCase()=="true";let v=z.value;_&&v>=12?v-=12:!_&&v<12&&(v+=12),p({hours:v})}}),E=N(()=>r6(b.value,o.value[t.position])),y=N(()=>NY.filter(_=>E.value.hours.some(v=>v.value===_.value))),w=N(()=>$Y.filter(_=>E.value.hours.some(v=>v.value===_.value))),T=N(()=>l.value?E.value.hours:j.value?y.value:w.value),C=N(()=>{const _=[];return zn(y.value)&&_.push({value:!0,label:"AM"}),zn(w.value)&&_.push({value:!1,label:"PM"}),_});return{...e,showHeader:O,timeAccuracy:u,parts:b,isValid:P,date:k,hours:z,minutes:U,seconds:$,milliseconds:K,options:E,hourOptions:T,isAM:j,isAMOptions:C,is24hr:l}}const FY=["value"],YY=["value","disabled"],HY={key:1,class:"vc-base-sizer","aria-hidden":"true"},jY={inheritAttrs:!1},Li=dt({...jY,__name:"BaseSelect",props:{options:null,modelValue:null,alignRight:{type:Boolean},alignLeft:{type:Boolean},showIcon:{type:Boolean},fitContent:{type:Boolean}},emits:["update:modelValue"],setup(t){const e=t,n=N(()=>{const r=e.options.find(s=>s.value===e.modelValue);return r==null?void 0:r.label});return(r,s)=>(re(),he("div",{class:Ge(["vc-base-select",{"vc-fit-content":t.fitContent,"vc-has-icon":t.showIcon}])},[ge("select",hs(r.$attrs,{value:t.modelValue,class:["vc-focus",{"vc-align-right":t.alignRight,"vc-align-left":t.alignLeft}],onChange:s[0]||(s[0]=i=>r.$emit("update:modelValue",i.target.value))}),[(re(!0),he(xe,null,Xt(t.options,i=>(re(),he("option",{key:i.value,value:i.value,disabled:i.disabled},Tt(i.label),9,YY))),128))],16,FY),t.showIcon?(re(),Dt(si,{key:0,name:"ChevronDown",size:"18"})):ot("",!0),t.fitContent?(re(),he("div",HY,Tt(W(n)),1)):ot("",!0)],2))}}),BY={key:0,class:"vc-time-header"},UY={class:"vc-time-weekday"},WY={class:"vc-time-month"},VY={class:"vc-time-day"},zY={class:"vc-time-year"},KY={class:"vc-time-select-group"},GY=ge("span",{class:"vc-time-colon"},":",-1),qY=ge("span",{class:"vc-time-colon"},":",-1),XY=ge("span",{class:"vc-time-decimal"},".",-1),jg=dt({__name:"TimePicker",props:{position:null},setup(t,{expose:e}){const r=LY(t);e(r);const{locale:s,isValid:i,date:o,hours:l,minutes:c,seconds:u,milliseconds:f,options:p,hourOptions:g,isTimeMode:b,isAM:S,isAMOptions:P,is24hr:O,showHeader:k,timeAccuracy:z}=r;return(U,$)=>(re(),he("div",{class:Ge(["vc-time-picker",[{"vc-invalid":!W(i),"vc-attached":!W(b)}]])},[ve(cn,{name:"time-header"},{default:at(()=>[W(k)&&W(o)?(re(),he("div",BY,[ge("span",UY,Tt(W(s).formatDate(W(o),"WWW")),1),ge("span",WY,Tt(W(s).formatDate(W(o),"MMM")),1),ge("span",VY,Tt(W(s).formatDate(W(o),"D")),1),ge("span",zY,Tt(W(s).formatDate(W(o),"YYYY")),1)])):ot("",!0)]),_:1}),ge("div",KY,[ve(si,{name:"Clock",size:"17"}),ve(Li,{modelValue:W(l),"onUpdate:modelValue":$[0]||($[0]=K=>it(l)?l.value=K:null),modelModifiers:{number:!0},options:W(g),class:"vc-time-select-hours","align-right":""},null,8,["modelValue","options"]),W(z)>1?(re(),he(xe,{key:0},[GY,ve(Li,{modelValue:W(c),"onUpdate:modelValue":$[1]||($[1]=K=>it(c)?c.value=K:null),modelModifiers:{number:!0},options:W(p).minutes,class:"vc-time-select-minutes","align-left":W(z)===2},null,8,["modelValue","options","align-left"])],64)):ot("",!0),W(z)>2?(re(),he(xe,{key:1},[qY,ve(Li,{modelValue:W(u),"onUpdate:modelValue":$[2]||($[2]=K=>it(u)?u.value=K:null),modelModifiers:{number:!0},options:W(p).seconds,class:"vc-time-select-seconds","align-left":W(z)===3},null,8,["modelValue","options","align-left"])],64)):ot("",!0),W(z)>3?(re(),he(xe,{key:2},[XY,ve(Li,{modelValue:W(f),"onUpdate:modelValue":$[3]||($[3]=K=>it(f)?f.value=K:null),modelModifiers:{number:!0},options:W(p).milliseconds,class:"vc-time-select-milliseconds","align-left":""},null,8,["modelValue","options"])],64)):ot("",!0),W(O)?ot("",!0):(re(),Dt(Li,{key:3,modelValue:W(S),"onUpdate:modelValue":$[4]||($[4]=K=>it(S)?S.value=K:null),options:W(P)},null,8,["modelValue","options"]))])],2))}}),mw=dt({__name:"DatePickerBase",setup(t){const{attributes:e,calendarRef:n,color:r,displayMode:s,isDateTimeMode:i,isTimeMode:o,isRange:l,onDayClick:c,onDayMouseEnter:u,onDayKeydown:f}=Qh(),p=l.value?[0,1]:[0];return(g,b)=>W(o)?(re(),he("div",{key:0,class:Ge(`vc-container vc-bordered vc-${W(r)} vc-${W(s)}`)},[(re(!0),he(xe,null,Xt(W(p),S=>(re(),Dt(jg,{key:S,position:S},null,8,["position"]))),128))],2)):(re(),Dt(gw,{key:1,attributes:W(e),ref_key:"calendarRef",ref:n,onDayclick:W(c),onDaymouseenter:W(u),onDaykeydown:W(f)},{footer:at(()=>[W(i)?(re(!0),he(xe,{key:0},Xt(W(p),S=>(re(),Dt(jg,{key:S,position:S},null,8,["position"]))),128)):ot("",!0),ve(cn,{name:"dp-footer"})]),_:1},8,["attributes","onDayclick","onDaymouseenter","onDaykeydown"]))}}),QY={inheritAttrs:!1},ZY=dt({...QY,__name:"DatePickerPopover",setup(t){const{datePickerPopoverId:e,color:n,displayMode:r,popoverRef:s,onPopoverBeforeShow:i,onPopoverAfterShow:o,onPopoverBeforeHide:l,onPopoverAfterHide:c}=Qh();return(u,f)=>(re(),Dt(xl,{id:W(e),placement:"bottom-start",class:Ge(`vc-date-picker-content vc-${W(n)} vc-${W(r)}`),ref_key:"popoverRef",ref:s,onBeforeShow:W(i),onAfterShow:W(o),onBeforeHide:W(l),onAfterHide:W(c)},{default:at(()=>[ve(mw,Bi(wa(u.$attrs)),null,16)]),_:1},8,["id","class","onBeforeShow","onAfterShow","onBeforeHide","onAfterHide"]))}}),JY=dt({inheritAttrs:!1,emits:xY,props:kY,components:{DatePickerBase:mw,DatePickerPopover:ZY},setup(t,e){const n=RY(t,e),r=cs(xy(n,"calendarRef","popoverRef"));return{...n,slotCtx:r}}});function e5(t,e,n,r,s,i){const o=Mn("DatePickerPopover"),l=Mn("DatePickerBase");return t.$slots.default?(re(),he(xe,{key:0},[wo(t.$slots,"default",Bi(wa(t.slotCtx))),ve(o,Bi(wa(t.$attrs)),null,16)],64)):(re(),Dt(l,Bi(hs({key:1},t.$attrs)),null,16))}const t5=$r(JY,[["render",e5]]),Bg=Object.freeze(Object.defineProperty({__proto__:null,Calendar:gw,DatePicker:t5,Popover:xl,PopoverRow:uw},Symbol.toStringTag,{value:"Module"})),n5=(t,e={})=>{t.use(D9,e);const n=t.config.globalProperties.$VCalendar.componentPrefix;for(const r in Bg){const s=Bg[r];t.component(`${n}${r}`,s)}},r5={install:n5},_w=I1(hS);_w.use(r5,{});_w.mount("#app");
